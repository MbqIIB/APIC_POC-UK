swagger: "2.0"
info:
  title: o2apic-novum-postpayallowanceminutes
  x-ibm-name: o2apic-novum-postpayallowanceminutes
  version: 1.0.0
host: $(catalog.host)
schemes:
- https
basePath: /o2apic-novum-viewallowance20
produces:
- application/json
consumes:
- application/json
security:
- clientIdHeader: []
securityDefinitions:
  clientIdHeader:
    type: apiKey
    in: header
    name: X-IBM-Client-Id
x-ibm-configuration:
  phase: realized
  testable: true
  enforced: true
  properties:
    ViewAllowanceServiceURL:
      value: https://sdpapi.ref.o2.co.uk/services/ViewAllowance_2_0
      description: SOA Service View Allowance URL
      encoded: false
    target-url:
      value: http://example.com/operation-name
      description: The URL of the target service
      encoded: false
  catalogs: {}
  cors:
    enabled: true
  targets:
    ViewAllowanceService:
      swagger: "2.0"
      info:
        title: ViewAllowanceService
        description: ""
        x-ibm-name: viewallowanceservice
        version: 1.0.0
      schemes:
      - https
      basePath: /ViewAllowanceService
      produces:
      - application/xml
      consumes:
      - text/xml
      securityDefinitions:
        clientID:
          type: apiKey
          name: X-IBM-Client-Id
          in: header
          description: ""
      security:
      - clientID: []
      x-ibm-configuration:
        type: wsdl
        phase: realized
        enforced: true
        testable: true
        gateway: datapower-gateway
        cors:
          enabled: true
        wsdl-definition:
          wsdl: ViewAllowanceService
          service: ViewAllowanceService
          port: ViewAllowancePort
          soap-version: "1.1"
        assembly:
          execute:
          - proxy:
              title: proxy
              target-url: https://sdpapi.o2.co.uk/services/ViewAllowance_2_0
      paths:
        /getAllowance:
          post:
            summary: Operation getAllowance
            description: ""
            operationId: getAllowance
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/viewallowancedata_2}getAllowance'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceInput'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceFault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceOutput'
        /getDataAllowance_1:
          post:
            summary: Operation getDataAllowance_1
            description: ""
            operationId: getDataAllowance_1
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/viewallowancedata_2}getDataAllowance_1'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Input'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Fault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Output'
        /getNonDataAllowance_1:
          post:
            summary: Operation getNonDataAllowance_1
            description: ""
            operationId: getNonDataAllowance_1
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/viewallowancedata_2}getNonDataAllowance_1'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Input'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Fault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Output'
        /getAllowance_2:
          post:
            summary: Operation getAllowance_2
            description: ""
            operationId: getAllowance_2
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/viewallowancedata_2}getAllowance_2'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Input'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Fault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Output'
        /getNonDataAllowance_2:
          post:
            summary: Operation getNonDataAllowance_2
            description: ""
            operationId: getNonDataAllowance_2
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/viewallowancedata_2}getNonDataAllowance_2'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Input'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Fault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Output'
      definitions:
        Security:
          xml:
            namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
            prefix: wsse
          description: Header for WS-Security
          type: object
          properties:
            UsernameToken:
              xml:
                namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
                prefix: wsse
              type: object
              properties:
                Username:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
                    prefix: wsse
                  type: string
                Password:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
                    prefix: wsse
                  type: string
                Nonce:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
                    prefix: wsse
                  type: string
                  properties:
                    EncodingType:
                      xml:
                        namespace: ""
                        attribute: true
                      type: string
                Created:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
                    prefix: wsu
                  type: string
            Timestamp:
              xml:
                namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
                prefix: wsu
              type: object
              properties:
                Created:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
                    prefix: wsu
                  type: string
                Expires:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
                    prefix: wsu
                  type: string
                Id:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
                    prefix: wsu
                    attribute: true
                  type: string
        getAllowanceInput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceHeader'
                Body:
                  type: object
                  properties:
                    getAllowance:
                      $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_vad'
                  required:
                  - getAllowance
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <vad:getAllowance xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1"><!-- mandatory -->
               <vad:account><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </vad:account>
               <vad:allowanceCategory><!-- between zero and unlimited repetitions of this element -->string</vad:allowanceCategory>
               <vad:dataSource>string</vad:dataSource>
               <vad:productList>
                <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>
                <vad:services>
                 <vad:productId><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->string</vad:productId>
                </vad:services>
               </vad:productList>
               <vad:returnAllowanceByBundleType>string</vad:returnAllowanceByBundleType>
              </vad:getAllowance>
             </soapenv:Body>
            </soapenv:Envelope>
        getAllowanceHeader:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/Security'
        getAllowanceOutput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getAllowanceResponse:
                      $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceResponse_vad'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <vad:getAllowanceResponse xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2">
               <vad:accountAllowances>
                <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>
                <vad:allowance><!-- between zero and unlimited repetitions of this element -->
                 <vad:productCode>string</vad:productCode>
                 <vad:productName><!-- mandatory -->string</vad:productName>
                 <vad:productType><!-- mandatory -->string</vad:productType>
                 <vad:productDescription>string</vad:productDescription>
                 <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                 <vad:suspended>true</vad:suspended>
                 <vad:allowanceDetail><!-- mandatory -->
                  <vad:allowanceSummary><!-- mandatory -->
                   <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                   <vad:allowanceRemaining>3</vad:allowanceRemaining>
                  </vad:allowanceSummary>
                  <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                  <vad:restricted>true</vad:restricted>
                 </vad:allowanceDetail>
                 <vad:allowanceText>string</vad:allowanceText>
                </vad:allowance>
               </vad:accountAllowances>
               <vad:msisdnAllowances>
                <vad:msisdn><!-- mandatory -->string</vad:msisdn>
                <vad:voiceAllowances>
                 <vad:totalAllowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:totalAllowanceSummary>
                 <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                  <vad:productCode>string</vad:productCode>
                  <vad:productName><!-- mandatory -->string</vad:productName>
                  <vad:productType><!-- mandatory -->string</vad:productType>
                  <vad:productDescription>string</vad:productDescription>
                  <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                  <vad:suspended>true</vad:suspended>
                  <vad:allowanceDetail><!-- mandatory -->
                   <vad:allowanceSummary><!-- mandatory -->
                    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                    <vad:allowanceRemaining>3</vad:allowanceRemaining>
                   </vad:allowanceSummary>
                   <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                   <vad:restricted>true</vad:restricted>
                  </vad:allowanceDetail>
                  <vad:allowanceText>string</vad:allowanceText>
                 </vad:allowance>
                </vad:voiceAllowances>
                <vad:messageAllowances>
                 <vad:totalAllowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:totalAllowanceSummary>
                 <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                  <vad:productCode>string</vad:productCode>
                  <vad:productName><!-- mandatory -->string</vad:productName>
                  <vad:productType><!-- mandatory -->string</vad:productType>
                  <vad:productDescription>string</vad:productDescription>
                  <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                  <vad:suspended>true</vad:suspended>
                  <vad:allowanceDetail><!-- mandatory -->
                   <vad:allowanceSummary><!-- mandatory -->
                    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                    <vad:allowanceRemaining>3</vad:allowanceRemaining>
                   </vad:allowanceSummary>
                   <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                   <vad:restricted>true</vad:restricted>
                  </vad:allowanceDetail>
                  <vad:allowanceText>string</vad:allowanceText>
                 </vad:allowance>
                </vad:messageAllowances>
                <vad:dataAllowances>
                 <vad:totalAllowanceSummary><!-- between zero and unlimited repetitions of this element -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                  <vad:dataThresholdType>string</vad:dataThresholdType>
                  <vad:startDate>2016-04-18T14:07:37</vad:startDate>
                  <vad:renewalDate>2016-04-18</vad:renewalDate>
                  <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>
                 </vad:totalAllowanceSummary>
                 <vad:allowance><!-- between zero and unlimited repetitions of this element -->
                  <vad:productCode>string</vad:productCode>
                  <vad:productName><!-- mandatory -->string</vad:productName>
                  <vad:productType><!-- mandatory -->string</vad:productType>
                  <vad:productDescription>string</vad:productDescription>
                  <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                  <vad:suspended>true</vad:suspended>
                  <vad:allowanceDetail><!-- mandatory -->
                   <vad:allowanceSummary><!-- mandatory -->
                    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                    <vad:allowanceRemaining>3</vad:allowanceRemaining>
                   </vad:allowanceSummary>
                   <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                   <vad:restricted>true</vad:restricted>
                  </vad:allowanceDetail>
                  <vad:allowanceText>string</vad:allowanceText>
                 </vad:allowance>
                 <vad:dataAllowancesByBundleType>
                  <vad:dataBundle><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                   <vad:bundleType><!-- mandatory -->string</vad:bundleType>
                   <vad:startingAllowance><!-- mandatory -->3</vad:startingAllowance>
                   <vad:allowanceUsed>3</vad:allowanceUsed>
                   <vad:allowanceRemaining>3</vad:allowanceRemaining>
                   <vad:expiryDate>2016-04-18</vad:expiryDate>
                  </vad:dataBundle>
                 </vad:dataAllowancesByBundleType>
                </vad:dataAllowances>
                <vad:unlimitedAllowances>
                 <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                  <vad:productCode>string</vad:productCode>
                  <vad:productName><!-- mandatory -->string</vad:productName>
                  <vad:productType><!-- mandatory -->string</vad:productType>
                  <vad:productDescription>string</vad:productDescription>
                  <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                  <vad:suspended>true</vad:suspended>
                  <vad:allowanceDetail><!-- mandatory -->
                   <vad:allowanceSummary><!-- mandatory -->
                    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                    <vad:allowanceRemaining>3</vad:allowanceRemaining>
                   </vad:allowanceSummary>
                   <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                   <vad:restricted>true</vad:restricted>
                  </vad:allowanceDetail>
                  <vad:allowanceText>string</vad:allowanceText>
                 </vad:allowance>
                </vad:unlimitedAllowances>
               </vad:msisdnAllowances>
               <vad:chargingType><!-- between zero and unlimited repetitions of this element -->string</vad:chargingType>
              </vad:getAllowanceResponse>
             </soapenv:Body>
            </soapenv:Envelope>
        getAllowanceFault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getAllowanceFault:
                              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceFault_val'
              required:
              - Body
          required:
          - Envelope
        getDataAllowance_1Input:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Header'
                Body:
                  type: object
                  properties:
                    getDataAllowance_1:
                      $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1_vad'
                  required:
                  - getDataAllowance_1
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <vad:getDataAllowance_1 xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1"><!-- mandatory -->
               <vad:account><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </vad:account>
               <vad:dataSource>string</vad:dataSource>
               <vad:productList>
                <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>
                <vad:services>
                 <vad:productId><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->string</vad:productId>
                </vad:services>
               </vad:productList>
               <vad:returnAllowanceByBundleType>string</vad:returnAllowanceByBundleType>
              </vad:getDataAllowance_1>
             </soapenv:Body>
            </soapenv:Envelope>
        getDataAllowance_1Header:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/Security'
        getDataAllowance_1Output:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getDataAllowance_1Response:
                      $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Response_vad'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <vad:getDataAllowance_1Response xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2">
               <vad:accountAllowances>
                <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>
                <vad:allowance><!-- between zero and unlimited repetitions of this element -->
                 <vad:productCode>string</vad:productCode>
                 <vad:productName><!-- mandatory -->string</vad:productName>
                 <vad:productType><!-- mandatory -->string</vad:productType>
                 <vad:productDescription>string</vad:productDescription>
                 <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                 <vad:suspended>true</vad:suspended>
                 <vad:allowanceDetail><!-- mandatory -->
                  <vad:allowanceSummary><!-- mandatory -->
                   <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                   <vad:allowanceRemaining>3</vad:allowanceRemaining>
                  </vad:allowanceSummary>
                  <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                  <vad:restricted>true</vad:restricted>
                 </vad:allowanceDetail>
                 <vad:allowanceText>string</vad:allowanceText>
                </vad:allowance>
               </vad:accountAllowances>
               <vad:msisdnLevelAllowances>
                <vad:msisdn><!-- mandatory -->string</vad:msisdn>
                <vad:dataAllowances>
                 <vad:totalAllowanceSummary><!-- between zero and unlimited repetitions of this element -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                  <vad:dataThresholdType>string</vad:dataThresholdType>
                  <vad:startDate>2016-04-18T14:07:37</vad:startDate>
                  <vad:renewalDate>2016-04-18</vad:renewalDate>
                  <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>
                 </vad:totalAllowanceSummary>
                 <vad:allowance><!-- between zero and unlimited repetitions of this element -->
                  <vad:productCode>string</vad:productCode>
                  <vad:productName><!-- mandatory -->string</vad:productName>
                  <vad:productType><!-- mandatory -->string</vad:productType>
                  <vad:productDescription>string</vad:productDescription>
                  <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                  <vad:suspended>true</vad:suspended>
                  <vad:allowanceDetail><!-- mandatory -->
                   <vad:allowanceSummary><!-- mandatory -->
                    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                    <vad:allowanceRemaining>3</vad:allowanceRemaining>
                   </vad:allowanceSummary>
                   <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                   <vad:restricted>true</vad:restricted>
                  </vad:allowanceDetail>
                  <vad:allowanceText>string</vad:allowanceText>
                 </vad:allowance>
                </vad:dataAllowances>
                <vad:dataAllowancesByBundleType>
                 <vad:dataBundle><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                  <vad:bundleType><!-- mandatory -->string</vad:bundleType>
                  <vad:startingAllowance><!-- mandatory -->3</vad:startingAllowance>
                  <vad:allowanceUsed>3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                  <vad:expiryDate>2016-04-18</vad:expiryDate>
                 </vad:dataBundle>
                </vad:dataAllowancesByBundleType>
               </vad:msisdnLevelAllowances>
               <vad:chargingType>string</vad:chargingType>
              </vad:getDataAllowance_1Response>
             </soapenv:Body>
            </soapenv:Envelope>
        getDataAllowance_1Fault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getDataAllowance_1Fault:
                              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Fault_val'
              required:
              - Body
          required:
          - Envelope
        getNonDataAllowance_1Input:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Header'
                Body:
                  type: object
                  properties:
                    getNonDataAllowance_1:
                      $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1_vad'
                  required:
                  - getNonDataAllowance_1
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <vad:getNonDataAllowance_1 xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1"><!-- mandatory -->
               <vad:account><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </vad:account>
               <vad:allowanceCategory><!-- between zero and unlimited repetitions of this element -->string</vad:allowanceCategory>
              </vad:getNonDataAllowance_1>
             </soapenv:Body>
            </soapenv:Envelope>
        getNonDataAllowance_1Header:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/Security'
        getNonDataAllowance_1Output:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getNonDataAllowance_1Response:
                      $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Response_vad'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <vad:getNonDataAllowance_1Response xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2">
               <vad:accountAllowances>
                <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>
                <vad:allowance><!-- between zero and unlimited repetitions of this element -->
                 <vad:productCode>string</vad:productCode>
                 <vad:productName><!-- mandatory -->string</vad:productName>
                 <vad:productType><!-- mandatory -->string</vad:productType>
                 <vad:productDescription>string</vad:productDescription>
                 <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                 <vad:suspended>true</vad:suspended>
                 <vad:allowanceDetail><!-- mandatory -->
                  <vad:allowanceSummary><!-- mandatory -->
                   <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                   <vad:allowanceRemaining>3</vad:allowanceRemaining>
                  </vad:allowanceSummary>
                  <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                  <vad:restricted>true</vad:restricted>
                 </vad:allowanceDetail>
                 <vad:allowanceText>string</vad:allowanceText>
                </vad:allowance>
               </vad:accountAllowances>
               <vad:msisdnLevelAllowances>
                <vad:msisdn><!-- mandatory -->string</vad:msisdn>
                <vad:voiceAllowances>
                 <vad:totalAllowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:totalAllowanceSummary>
                 <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                  <vad:productCode>string</vad:productCode>
                  <vad:productName><!-- mandatory -->string</vad:productName>
                  <vad:productType><!-- mandatory -->string</vad:productType>
                  <vad:productDescription>string</vad:productDescription>
                  <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                  <vad:suspended>true</vad:suspended>
                  <vad:allowanceDetail><!-- mandatory -->
                   <vad:allowanceSummary><!-- mandatory -->
                    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                    <vad:allowanceRemaining>3</vad:allowanceRemaining>
                   </vad:allowanceSummary>
                   <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                   <vad:restricted>true</vad:restricted>
                  </vad:allowanceDetail>
                  <vad:allowanceText>string</vad:allowanceText>
                 </vad:allowance>
                </vad:voiceAllowances>
                <vad:messageAllowances>
                 <vad:totalAllowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:totalAllowanceSummary>
                 <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                  <vad:productCode>string</vad:productCode>
                  <vad:productName><!-- mandatory -->string</vad:productName>
                  <vad:productType><!-- mandatory -->string</vad:productType>
                  <vad:productDescription>string</vad:productDescription>
                  <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                  <vad:suspended>true</vad:suspended>
                  <vad:allowanceDetail><!-- mandatory -->
                   <vad:allowanceSummary><!-- mandatory -->
                    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                    <vad:allowanceRemaining>3</vad:allowanceRemaining>
                   </vad:allowanceSummary>
                   <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                   <vad:restricted>true</vad:restricted>
                  </vad:allowanceDetail>
                  <vad:allowanceText>string</vad:allowanceText>
                 </vad:allowance>
                </vad:messageAllowances>
                <vad:unlimitedAllowances>
                 <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                  <vad:productCode>string</vad:productCode>
                  <vad:productName><!-- mandatory -->string</vad:productName>
                  <vad:productType><!-- mandatory -->string</vad:productType>
                  <vad:productDescription>string</vad:productDescription>
                  <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                  <vad:suspended>true</vad:suspended>
                  <vad:allowanceDetail><!-- mandatory -->
                   <vad:allowanceSummary><!-- mandatory -->
                    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                    <vad:allowanceRemaining>3</vad:allowanceRemaining>
                   </vad:allowanceSummary>
                   <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                   <vad:restricted>true</vad:restricted>
                  </vad:allowanceDetail>
                  <vad:allowanceText>string</vad:allowanceText>
                 </vad:allowance>
                </vad:unlimitedAllowances>
               </vad:msisdnLevelAllowances>
               <vad:chargingType><!-- between zero and unlimited repetitions of this element -->string</vad:chargingType>
              </vad:getNonDataAllowance_1Response>
             </soapenv:Body>
            </soapenv:Envelope>
        getNonDataAllowance_1Fault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getNonDataAllowance_1Fault:
                              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Fault_val'
              required:
              - Body
          required:
          - Envelope
        getAllowance_2Input:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Header'
                Body:
                  type: object
                  properties:
                    getAllowance_2:
                      $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2_vad'
                  required:
                  - getAllowance_2
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <vad:getAllowance_2 xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1"><!-- mandatory -->
               <vad:account><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </vad:account>
               <vad:allowanceCategory><!-- between zero and unlimited repetitions of this element -->string</vad:allowanceCategory>
               <vad:dataSource>string</vad:dataSource>
               <vad:productList>
                <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>
                <vad:services>
                 <vad:productId><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->string</vad:productId>
                </vad:services>
               </vad:productList>
              </vad:getAllowance_2>
             </soapenv:Body>
            </soapenv:Envelope>
        getAllowance_2Header:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/Security'
        getAllowance_2Output:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getAllowance_2Response:
                      $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Response_vad'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <vad:getAllowance_2Response xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2">
               <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>
               <vad:accountAllowances>
                <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                 <vad:productId>string</vad:productId>
                 <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>
                 <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                 <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>
                 <vad:longDescription><!-- mandatory -->string</vad:longDescription>
                 <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>
                 <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>
                 <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>
                 <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                 <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>
                 <vad:allowanceUsageSummary>
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:allowanceUsageSummary>
                </vad:allowance>
               </vad:accountAllowances>
               <vad:msisdnAllowances>
                <vad:msisdn><!-- mandatory -->string</vad:msisdn>
                <vad:allowances>
                 <vad:allowance><!-- between zero and unlimited repetitions of this element -->
                  <vad:productId>string</vad:productId>
                  <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>
                  <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                  <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>
                  <vad:longDescription><!-- mandatory -->string</vad:longDescription>
                  <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>
                  <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>
                  <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>
                  <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                  <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>
                  <vad:allowanceUsageSummary>
                   <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                   <vad:allowanceRemaining>3</vad:allowanceRemaining>
                  </vad:allowanceUsageSummary>
                 </vad:allowance>
                 <vad:fairUsageAllowances><!-- between zero and unlimited repetitions of this element -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                  <vad:thresholdType>string</vad:thresholdType>
                  <vad:startDate>2016-04-18T14:07:37</vad:startDate>
                  <vad:renewalDate>2016-04-18</vad:renewalDate>
                  <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>
                 </vad:fairUsageAllowances>
                </vad:allowances>
               </vad:msisdnAllowances>
               <vad:chargingType><!-- between zero and unlimited repetitions of this element -->string</vad:chargingType>
              </vad:getAllowance_2Response>
             </soapenv:Body>
            </soapenv:Envelope>
        getAllowance_2Fault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getAllowance_2Fault:
                              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Fault_val'
              required:
              - Body
          required:
          - Envelope
        getNonDataAllowance_2Input:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Header'
                Body:
                  type: object
                  properties:
                    getNonDataAllowance_2:
                      $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2_vad'
                  required:
                  - getNonDataAllowance_2
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <vad:getNonDataAllowance_2 xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1"><!-- mandatory -->
               <vad:account><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </vad:account>
               <vad:allowanceCategory><!-- between zero and unlimited repetitions of this element -->string</vad:allowanceCategory>
              </vad:getNonDataAllowance_2>
             </soapenv:Body>
            </soapenv:Envelope>
        getNonDataAllowance_2Header:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/Security'
        getNonDataAllowance_2Output:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getNonDataAllowance_2Response:
                      $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Response_vad'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <vad:getNonDataAllowance_2Response xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2">
               <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>
               <vad:accountAllowances>
                <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                 <vad:productId>string</vad:productId>
                 <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>
                 <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                 <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>
                 <vad:longDescription><!-- mandatory -->string</vad:longDescription>
                 <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>
                 <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>
                 <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>
                 <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                 <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>
                 <vad:allowanceUsageSummary>
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:allowanceUsageSummary>
                </vad:allowance>
               </vad:accountAllowances>
               <vad:msisdnLevelNonDataAllowances>
                <vad:msisdn><!-- mandatory -->string</vad:msisdn>
                <vad:allowances>
                 <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                  <vad:productId>string</vad:productId>
                  <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>
                  <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                  <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>
                  <vad:longDescription><!-- mandatory -->string</vad:longDescription>
                  <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>
                  <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>
                  <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>
                  <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                  <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>
                  <vad:allowanceUsageSummary>
                   <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                   <vad:allowanceRemaining>3</vad:allowanceRemaining>
                  </vad:allowanceUsageSummary>
                 </vad:allowance>
                </vad:allowances>
               </vad:msisdnLevelNonDataAllowances>
               <vad:chargingType><!-- between zero and unlimited repetitions of this element -->string</vad:chargingType>
              </vad:getNonDataAllowance_2Response>
             </soapenv:Body>
            </soapenv:Envelope>
        getNonDataAllowance_2Fault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getNonDataAllowance_2Fault:
                              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Fault_val'
              required:
              - Body
          required:
          - Envelope
        getAllowance_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            account:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountType_ns1_vad'
            allowanceCategory:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceCategoryType_vad'
            dataSource:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataSourceType_vad'
            productList:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productListType_vad'
            returnAllowanceByBundleType:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/typeYesOrNo_vad'
          required:
          - account
          description: "A complex type holding the keys to retrieve both airtime\r\n\t\t\t\tand
            data allowances and usage details."
          example: |2-

            <vad:getAllowance xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <vad:account><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </vad:account>
             <vad:allowanceCategory><!-- between zero and unlimited repetitions of this element -->string</vad:allowanceCategory>
             <vad:dataSource>string</vad:dataSource>
             <vad:productList>
              <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>
              <vad:services>
               <vad:productId><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->string</vad:productId>
              </vad:services>
             </vad:productList>
             <vad:returnAllowanceByBundleType>string</vad:returnAllowanceByBundleType>
            </vad:getAllowance>
        getAllowanceResponse_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            accountAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountAllowancesType_vad'
            msisdnAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnAllowances_vad'
            chargingType:
              type: array
              items:
                type: string
          description: The service response, contains multiple allowances.
          example: |2-

            <vad:getAllowanceResponse xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2">
             <vad:accountAllowances>
              <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>
              <vad:allowance><!-- between zero and unlimited repetitions of this element -->
               <vad:productCode>string</vad:productCode>
               <vad:productName><!-- mandatory -->string</vad:productName>
               <vad:productType><!-- mandatory -->string</vad:productType>
               <vad:productDescription>string</vad:productDescription>
               <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
               <vad:suspended>true</vad:suspended>
               <vad:allowanceDetail><!-- mandatory -->
                <vad:allowanceSummary><!-- mandatory -->
                 <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                 <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                 <vad:allowanceRemaining>3</vad:allowanceRemaining>
                </vad:allowanceSummary>
                <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                <vad:restricted>true</vad:restricted>
               </vad:allowanceDetail>
               <vad:allowanceText>string</vad:allowanceText>
              </vad:allowance>
             </vad:accountAllowances>
             <vad:msisdnAllowances>
              <vad:msisdn><!-- mandatory -->string</vad:msisdn>
              <vad:voiceAllowances>
               <vad:totalAllowanceSummary><!-- mandatory -->
                <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                <vad:allowanceRemaining>3</vad:allowanceRemaining>
               </vad:totalAllowanceSummary>
               <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                <vad:productCode>string</vad:productCode>
                <vad:productName><!-- mandatory -->string</vad:productName>
                <vad:productType><!-- mandatory -->string</vad:productType>
                <vad:productDescription>string</vad:productDescription>
                <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                <vad:suspended>true</vad:suspended>
                <vad:allowanceDetail><!-- mandatory -->
                 <vad:allowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:allowanceSummary>
                 <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                 <vad:restricted>true</vad:restricted>
                </vad:allowanceDetail>
                <vad:allowanceText>string</vad:allowanceText>
               </vad:allowance>
              </vad:voiceAllowances>
              <vad:messageAllowances>
               <vad:totalAllowanceSummary><!-- mandatory -->
                <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                <vad:allowanceRemaining>3</vad:allowanceRemaining>
               </vad:totalAllowanceSummary>
               <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                <vad:productCode>string</vad:productCode>
                <vad:productName><!-- mandatory -->string</vad:productName>
                <vad:productType><!-- mandatory -->string</vad:productType>
                <vad:productDescription>string</vad:productDescription>
                <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                <vad:suspended>true</vad:suspended>
                <vad:allowanceDetail><!-- mandatory -->
                 <vad:allowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:allowanceSummary>
                 <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                 <vad:restricted>true</vad:restricted>
                </vad:allowanceDetail>
                <vad:allowanceText>string</vad:allowanceText>
               </vad:allowance>
              </vad:messageAllowances>
              <vad:dataAllowances>
               <vad:totalAllowanceSummary><!-- between zero and unlimited repetitions of this element -->
                <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                <vad:allowanceRemaining>3</vad:allowanceRemaining>
                <vad:dataThresholdType>string</vad:dataThresholdType>
                <vad:startDate>2016-04-18T14:07:37</vad:startDate>
                <vad:renewalDate>2016-04-18</vad:renewalDate>
                <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>
               </vad:totalAllowanceSummary>
               <vad:allowance><!-- between zero and unlimited repetitions of this element -->
                <vad:productCode>string</vad:productCode>
                <vad:productName><!-- mandatory -->string</vad:productName>
                <vad:productType><!-- mandatory -->string</vad:productType>
                <vad:productDescription>string</vad:productDescription>
                <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                <vad:suspended>true</vad:suspended>
                <vad:allowanceDetail><!-- mandatory -->
                 <vad:allowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:allowanceSummary>
                 <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                 <vad:restricted>true</vad:restricted>
                </vad:allowanceDetail>
                <vad:allowanceText>string</vad:allowanceText>
               </vad:allowance>
               <vad:dataAllowancesByBundleType>
                <vad:dataBundle><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                 <vad:bundleType><!-- mandatory -->string</vad:bundleType>
                 <vad:startingAllowance><!-- mandatory -->3</vad:startingAllowance>
                 <vad:allowanceUsed>3</vad:allowanceUsed>
                 <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 <vad:expiryDate>2016-04-18</vad:expiryDate>
                </vad:dataBundle>
               </vad:dataAllowancesByBundleType>
              </vad:dataAllowances>
              <vad:unlimitedAllowances>
               <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                <vad:productCode>string</vad:productCode>
                <vad:productName><!-- mandatory -->string</vad:productName>
                <vad:productType><!-- mandatory -->string</vad:productType>
                <vad:productDescription>string</vad:productDescription>
                <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                <vad:suspended>true</vad:suspended>
                <vad:allowanceDetail><!-- mandatory -->
                 <vad:allowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:allowanceSummary>
                 <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                 <vad:restricted>true</vad:restricted>
                </vad:allowanceDetail>
                <vad:allowanceText>string</vad:allowanceText>
               </vad:allowance>
              </vad:unlimitedAllowances>
             </vad:msisdnAllowances>
             <vad:chargingType><!-- between zero and unlimited repetitions of this element -->string</vad:chargingType>
            </vad:getAllowanceResponse>
        getAllowanceFault_val:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <vad:getAllowanceFault xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </vad:getAllowanceFault>
        getDataAllowance_1_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            account:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountType_ns1_vad'
            dataSource:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataSourceType_vad'
            productList:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productListType_vad'
            returnAllowanceByBundleType:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/typeYesOrNo_vad'
          required:
          - account
          description: A complex type holding the keys to retrieve data allowance
            usage details.
          example: |2-

            <vad:getDataAllowance_1 xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <vad:account><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </vad:account>
             <vad:dataSource>string</vad:dataSource>
             <vad:productList>
              <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>
              <vad:services>
               <vad:productId><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->string</vad:productId>
              </vad:services>
             </vad:productList>
             <vad:returnAllowanceByBundleType>string</vad:returnAllowanceByBundleType>
            </vad:getDataAllowance_1>
        getDataAllowance_1Response_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            accountAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountAllowancesType_vad'
            msisdnLevelAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnLevelDataAllowancesType_vad'
            chargingType:
              type: string
          description: The service response, contains multiple allowances.
          example: |2-

            <vad:getDataAllowance_1Response xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2">
             <vad:accountAllowances>
              <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>
              <vad:allowance><!-- between zero and unlimited repetitions of this element -->
               <vad:productCode>string</vad:productCode>
               <vad:productName><!-- mandatory -->string</vad:productName>
               <vad:productType><!-- mandatory -->string</vad:productType>
               <vad:productDescription>string</vad:productDescription>
               <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
               <vad:suspended>true</vad:suspended>
               <vad:allowanceDetail><!-- mandatory -->
                <vad:allowanceSummary><!-- mandatory -->
                 <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                 <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                 <vad:allowanceRemaining>3</vad:allowanceRemaining>
                </vad:allowanceSummary>
                <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                <vad:restricted>true</vad:restricted>
               </vad:allowanceDetail>
               <vad:allowanceText>string</vad:allowanceText>
              </vad:allowance>
             </vad:accountAllowances>
             <vad:msisdnLevelAllowances>
              <vad:msisdn><!-- mandatory -->string</vad:msisdn>
              <vad:dataAllowances>
               <vad:totalAllowanceSummary><!-- between zero and unlimited repetitions of this element -->
                <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                <vad:allowanceRemaining>3</vad:allowanceRemaining>
                <vad:dataThresholdType>string</vad:dataThresholdType>
                <vad:startDate>2016-04-18T14:07:37</vad:startDate>
                <vad:renewalDate>2016-04-18</vad:renewalDate>
                <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>
               </vad:totalAllowanceSummary>
               <vad:allowance><!-- between zero and unlimited repetitions of this element -->
                <vad:productCode>string</vad:productCode>
                <vad:productName><!-- mandatory -->string</vad:productName>
                <vad:productType><!-- mandatory -->string</vad:productType>
                <vad:productDescription>string</vad:productDescription>
                <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                <vad:suspended>true</vad:suspended>
                <vad:allowanceDetail><!-- mandatory -->
                 <vad:allowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:allowanceSummary>
                 <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                 <vad:restricted>true</vad:restricted>
                </vad:allowanceDetail>
                <vad:allowanceText>string</vad:allowanceText>
               </vad:allowance>
              </vad:dataAllowances>
              <vad:dataAllowancesByBundleType>
               <vad:dataBundle><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                <vad:bundleType><!-- mandatory -->string</vad:bundleType>
                <vad:startingAllowance><!-- mandatory -->3</vad:startingAllowance>
                <vad:allowanceUsed>3</vad:allowanceUsed>
                <vad:allowanceRemaining>3</vad:allowanceRemaining>
                <vad:expiryDate>2016-04-18</vad:expiryDate>
               </vad:dataBundle>
              </vad:dataAllowancesByBundleType>
             </vad:msisdnLevelAllowances>
             <vad:chargingType>string</vad:chargingType>
            </vad:getDataAllowance_1Response>
        getDataAllowance_1Fault_val:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <vad:getDataAllowance_1Fault xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </vad:getDataAllowance_1Fault>
        getNonDataAllowance_1_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            account:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountType_ns1_vad'
            allowanceCategory:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceCategoryType_vad'
          required:
          - account
          description: "A complex type holding the keys to retrieve both airtime\r\n\t\t\t\tand
            data allowances and usage details."
          example: |2-

            <vad:getNonDataAllowance_1 xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <vad:account><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </vad:account>
             <vad:allowanceCategory><!-- between zero and unlimited repetitions of this element -->string</vad:allowanceCategory>
            </vad:getNonDataAllowance_1>
        getNonDataAllowance_1Response_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            accountAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountAllowancesType_vad'
            msisdnLevelAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnLevelNonDataAllowancesType_vad'
            chargingType:
              type: array
              items:
                type: string
          description: The service response, contains multiple allowances.
          example: |2-

            <vad:getNonDataAllowance_1Response xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2">
             <vad:accountAllowances>
              <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>
              <vad:allowance><!-- between zero and unlimited repetitions of this element -->
               <vad:productCode>string</vad:productCode>
               <vad:productName><!-- mandatory -->string</vad:productName>
               <vad:productType><!-- mandatory -->string</vad:productType>
               <vad:productDescription>string</vad:productDescription>
               <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
               <vad:suspended>true</vad:suspended>
               <vad:allowanceDetail><!-- mandatory -->
                <vad:allowanceSummary><!-- mandatory -->
                 <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                 <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                 <vad:allowanceRemaining>3</vad:allowanceRemaining>
                </vad:allowanceSummary>
                <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                <vad:restricted>true</vad:restricted>
               </vad:allowanceDetail>
               <vad:allowanceText>string</vad:allowanceText>
              </vad:allowance>
             </vad:accountAllowances>
             <vad:msisdnLevelAllowances>
              <vad:msisdn><!-- mandatory -->string</vad:msisdn>
              <vad:voiceAllowances>
               <vad:totalAllowanceSummary><!-- mandatory -->
                <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                <vad:allowanceRemaining>3</vad:allowanceRemaining>
               </vad:totalAllowanceSummary>
               <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                <vad:productCode>string</vad:productCode>
                <vad:productName><!-- mandatory -->string</vad:productName>
                <vad:productType><!-- mandatory -->string</vad:productType>
                <vad:productDescription>string</vad:productDescription>
                <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                <vad:suspended>true</vad:suspended>
                <vad:allowanceDetail><!-- mandatory -->
                 <vad:allowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:allowanceSummary>
                 <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                 <vad:restricted>true</vad:restricted>
                </vad:allowanceDetail>
                <vad:allowanceText>string</vad:allowanceText>
               </vad:allowance>
              </vad:voiceAllowances>
              <vad:messageAllowances>
               <vad:totalAllowanceSummary><!-- mandatory -->
                <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                <vad:allowanceRemaining>3</vad:allowanceRemaining>
               </vad:totalAllowanceSummary>
               <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                <vad:productCode>string</vad:productCode>
                <vad:productName><!-- mandatory -->string</vad:productName>
                <vad:productType><!-- mandatory -->string</vad:productType>
                <vad:productDescription>string</vad:productDescription>
                <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                <vad:suspended>true</vad:suspended>
                <vad:allowanceDetail><!-- mandatory -->
                 <vad:allowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:allowanceSummary>
                 <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                 <vad:restricted>true</vad:restricted>
                </vad:allowanceDetail>
                <vad:allowanceText>string</vad:allowanceText>
               </vad:allowance>
              </vad:messageAllowances>
              <vad:unlimitedAllowances>
               <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                <vad:productCode>string</vad:productCode>
                <vad:productName><!-- mandatory -->string</vad:productName>
                <vad:productType><!-- mandatory -->string</vad:productType>
                <vad:productDescription>string</vad:productDescription>
                <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                <vad:suspended>true</vad:suspended>
                <vad:allowanceDetail><!-- mandatory -->
                 <vad:allowanceSummary><!-- mandatory -->
                  <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                  <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                  <vad:allowanceRemaining>3</vad:allowanceRemaining>
                 </vad:allowanceSummary>
                 <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                 <vad:restricted>true</vad:restricted>
                </vad:allowanceDetail>
                <vad:allowanceText>string</vad:allowanceText>
               </vad:allowance>
              </vad:unlimitedAllowances>
             </vad:msisdnLevelAllowances>
             <vad:chargingType><!-- between zero and unlimited repetitions of this element -->string</vad:chargingType>
            </vad:getNonDataAllowance_1Response>
        getNonDataAllowance_1Fault_val:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <vad:getNonDataAllowance_1Fault xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </vad:getNonDataAllowance_1Fault>
        getAllowance_2_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            account:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountType_ns1_vad'
            allowanceCategory:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceCategoryType_vad'
            dataSource:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataSourceType_vad'
            productList:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productListType_vad'
          required:
          - account
          description: "A complex type holding the keys to retrieve both airtime\r\n\t\t\t\tand
            data allowances and usage details."
          example: |2-

            <vad:getAllowance_2 xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <vad:account><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </vad:account>
             <vad:allowanceCategory><!-- between zero and unlimited repetitions of this element -->string</vad:allowanceCategory>
             <vad:dataSource>string</vad:dataSource>
             <vad:productList>
              <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>
              <vad:services>
               <vad:productId><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->string</vad:productId>
              </vad:services>
             </vad:productList>
            </vad:getAllowance_2>
        getAllowance_2Response_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            accountNumber:
              type: string
              maxLength: 20
              minLength: 6
              description: "A billing account, as it appears in the back end billing\n\t\t\t\tsystem
                (Companion).;\nThe Companion account number for this number (if\r\n\t\t\t\t\t\trelevant)."
            accountAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountAllowances_2Type_vad'
            msisdnAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnAllowances_2Type_vad'
            chargingType:
              type: array
              items:
                type: string
          required:
          - accountNumber
          description: The service response, contains multiple allowances.
          example: |2-

            <vad:getAllowance_2Response xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2">
             <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>
             <vad:accountAllowances>
              <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
               <vad:productId>string</vad:productId>
               <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>
               <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
               <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>
               <vad:longDescription><!-- mandatory -->string</vad:longDescription>
               <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>
               <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>
               <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>
               <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
               <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>
               <vad:allowanceUsageSummary>
                <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                <vad:allowanceRemaining>3</vad:allowanceRemaining>
               </vad:allowanceUsageSummary>
              </vad:allowance>
             </vad:accountAllowances>
             <vad:msisdnAllowances>
              <vad:msisdn><!-- mandatory -->string</vad:msisdn>
              <vad:allowances>
               <vad:allowance><!-- between zero and unlimited repetitions of this element -->
                <vad:productId>string</vad:productId>
                <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>
                <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>
                <vad:longDescription><!-- mandatory -->string</vad:longDescription>
                <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>
                <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>
                <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>
                <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>
                <vad:allowanceUsageSummary>
                 <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                 <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                 <vad:allowanceRemaining>3</vad:allowanceRemaining>
                </vad:allowanceUsageSummary>
               </vad:allowance>
               <vad:fairUsageAllowances><!-- between zero and unlimited repetitions of this element -->
                <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                <vad:allowanceRemaining>3</vad:allowanceRemaining>
                <vad:thresholdType>string</vad:thresholdType>
                <vad:startDate>2016-04-18T14:07:37</vad:startDate>
                <vad:renewalDate>2016-04-18</vad:renewalDate>
                <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>
               </vad:fairUsageAllowances>
              </vad:allowances>
             </vad:msisdnAllowances>
             <vad:chargingType><!-- between zero and unlimited repetitions of this element -->string</vad:chargingType>
            </vad:getAllowance_2Response>
        getAllowance_2Fault_val:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <vad:getAllowance_2Fault xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </vad:getAllowance_2Fault>
        getNonDataAllowance_2_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            account:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountType_ns1_vad'
            allowanceCategory:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceCategoryType_vad'
          required:
          - account
          description: "A complex type holding the keys to retrieve both airtime\r\n\t\t\t\tand
            data allowances and usage details."
          example: |2-

            <vad:getNonDataAllowance_2 xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <vad:account><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </vad:account>
             <vad:allowanceCategory><!-- between zero and unlimited repetitions of this element -->string</vad:allowanceCategory>
            </vad:getNonDataAllowance_2>
        getNonDataAllowance_2Response_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            accountNumber:
              type: string
              maxLength: 20
              minLength: 6
              description: "A billing account, as it appears in the back end billing\n\t\t\t\tsystem
                (Companion).;\nThe Companion account number for this number (if\r\n\t\t\t\t\t\trelevant)."
            accountAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountAllowances_2Type_vad'
            msisdnLevelNonDataAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnNonDataAllowances_2Type_vad'
            chargingType:
              type: array
              items:
                type: string
          required:
          - accountNumber
          description: The service response, contains multiple allowances.
          example: |2-

            <vad:getNonDataAllowance_2Response xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2">
             <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>
             <vad:accountAllowances>
              <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
               <vad:productId>string</vad:productId>
               <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>
               <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
               <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>
               <vad:longDescription><!-- mandatory -->string</vad:longDescription>
               <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>
               <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>
               <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>
               <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
               <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>
               <vad:allowanceUsageSummary>
                <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                <vad:allowanceRemaining>3</vad:allowanceRemaining>
               </vad:allowanceUsageSummary>
              </vad:allowance>
             </vad:accountAllowances>
             <vad:msisdnLevelNonDataAllowances>
              <vad:msisdn><!-- mandatory -->string</vad:msisdn>
              <vad:allowances>
               <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                <vad:productId>string</vad:productId>
                <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>
                <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>
                <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>
                <vad:longDescription><!-- mandatory -->string</vad:longDescription>
                <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>
                <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>
                <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>
                <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>
                <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>
                <vad:allowanceUsageSummary>
                 <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>
                 <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>
                 <vad:allowanceRemaining>3</vad:allowanceRemaining>
                </vad:allowanceUsageSummary>
               </vad:allowance>
              </vad:allowances>
             </vad:msisdnLevelNonDataAllowances>
             <vad:chargingType><!-- between zero and unlimited repetitions of this element -->string</vad:chargingType>
            </vad:getNonDataAllowance_2Response>
        getNonDataAllowance_2Fault_val:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <vad:getNonDataAllowance_2Fault xmlns:vad="http://soa.o2.co.uk/viewallowancedata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </vad:getNonDataAllowance_2Fault>
        accountType_ns1_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            portalID:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/portalIDType_ns1'
            msisdn:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnType_ns1'
              description: A msisdn, in international format i.e.,"447712345678"
            accountDetail:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountDetail_ns1'
              description: Account Details
          description: "Data type to define a customers account. This could be\n\t\t\t\teither
            a portal account, msisdn, or a companion account\n\t\t\t\tand msisdn.
            Or a Bank Account program ID and account ID\n\t\t\t\t(initially for Timberlake)"
          x-xsi-type: accountType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          x-xsi-type-uniquename: accountType_ns1_vad
        allowanceCategoryType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: string
          enum:
          - MINUTES
          - MESSAGES
          - DATA
          description: A simple type to define the type of allowance to retrieve.
          x-xsi-type: allowanceCategoryType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: allowanceCategoryType_vad
        dataSourceType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: string
          enum:
          - BILLING
          - FUP
          description: "A simple type to define the the source of the allowances.\r\n\t\t\t
            If this element is not provided then the data allowance\r\n\t\t\t source
            would be decided based on the data charging category by default."
          x-xsi-type: dataSourceType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: dataSourceType_vad
        productListType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            tariffProductId:
              type: string
              description: "Identifies a product - temporarily the same as o2BFID\n\t\t\t\t(and
                hence customer ID)"
            services:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/servicesType_vad'
          required:
          - tariffProductId
          description: "The customer current tariff and the list of services present
            on the account. If this is provided then the customer data charging type
            \r\n\t\t\twould be determined using the tariff/services combination."
          x-xsi-type: productListType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: productListType_vad
        typeYesOrNo_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: string
          maxLength: 1
          minLength: 1
          enum:
          - "Y"
          - "N"
          description: "Flag indicating whether or not there are outstanding\r\n\t\t\t\treturns
            on an order (Y/N). Field will be N if no returns\r\n\t\t\t\thave been
            requested."
          x-xsi-type: typeYesOrNo
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: typeYesOrNo_vad
        accountAllowancesType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            accountNumber:
              type: string
              maxLength: 20
              minLength: 6
              description: "A billing account, as it appears in the back end billing\n\t\t\t\tsystem
                (Companion).;\nThe Companion account number for this number (if\r\n\t\t\t\t\t\trelevant)."
            allowance:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad'
          required:
          - accountNumber
          description: Allowances shared across mobiles on an account.
          x-xsi-type: accountAllowancesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: accountAllowancesType_vad
        msisdnAllowances_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            msisdn:
              type: string
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
                strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand
                translated into localised formats on the\n\t\t\t\tpresentation and
                backend layers.;\nThe mobile phone that the information is about."
            voiceAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/voiceAllowancesType_vad'
            messageAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/messageAllowancesType_vad'
            dataAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowances_2Type_vad'
            unlimitedAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/unlimitedAllowancesType_vad'
          required:
          - msisdn
          description: Allowances relevant to MSISDN.
          x-xsi-type: msisdnAllowances
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: msisdnAllowances_vad
        SOAFaultOriginator_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
        SOAFaultCode_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
        SOATransactionID_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
        msisdnLevelDataAllowancesType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            msisdn:
              type: string
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
                strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand
                translated into localised formats on the\n\t\t\t\tpresentation and
                backend layers.;\nThe mobile phone that the information is about."
            dataAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowancesType_vad'
            dataAllowancesByBundleType:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowancesByBundleTypeType_vad'
          required:
          - msisdn
          description: Allowances relevant to MSISDN.
          x-xsi-type: msisdnLevelDataAllowancesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: msisdnLevelDataAllowancesType_vad
        msisdnLevelNonDataAllowancesType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            msisdn:
              type: string
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
                strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand
                translated into localised formats on the\n\t\t\t\tpresentation and
                backend layers.;\nThe mobile phone that the information is about."
            voiceAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/voiceAllowancesType_vad'
            messageAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/messageAllowancesType_vad'
            unlimitedAllowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/unlimitedAllowancesType_vad'
          required:
          - msisdn
          description: Allowances relevant to MSISDN.
          x-xsi-type: msisdnLevelNonDataAllowancesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: msisdnLevelNonDataAllowancesType_vad
        accountAllowances_2Type_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            allowance:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowance_2Type_vad'
              minItems: 1
              description: Complex structure holding allowance details.
          required:
          - allowance
          description: Allowances shared across mobiles on an account.
          x-xsi-type: accountAllowances_2Type
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: accountAllowances_2Type_vad
        msisdnAllowances_2Type_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            msisdn:
              type: string
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
                strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand
                translated into localised formats on the\n\t\t\t\tpresentation and
                backend layers.;\nThe mobile phone that the information is about."
            allowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowancesType_vad'
          required:
          - msisdn
          description: Allowances relevant to MSISDN.
          x-xsi-type: msisdnAllowances_2Type
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: msisdnAllowances_2Type_vad
        msisdnNonDataAllowances_2Type_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            msisdn:
              type: string
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
                strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand
                translated into localised formats on the\n\t\t\t\tpresentation and
                backend layers.;\nThe mobile phone that the information is about."
            allowances:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowances_2Type_vad'
          required:
          - msisdn
          description: Non data allowances relevant to MSISDN.
          x-xsi-type: msisdnNonDataAllowances_2Type
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: msisdnNonDataAllowances_2Type_vad
        portalIDType_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
          description: "The portal account username (i.e., Portal ID). \n\t\t\t\tA
            portal account is normally of the form john.smith@o2.co.uk\". \n\t\t\t\tThe
            Portal ID in this example is \"john.smith\" and the domain is \"o2.co.uk\"."
          x-xsi-type: portalIDType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          x-xsi-type-uniquename: portalIDType_ns1
        msisdnType_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
          description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
            strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand translated
            into localised formats on the\n\t\t\t\tpresentation and backend layers."
          x-xsi-type: msisdnType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          x-xsi-type-uniquename: msisdnType_ns1
        accountDetail_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: object
          properties:
            billingAccountType:
              type: string
              enum:
              - MOBILE
              description: "The type of account as it is defined in the\n\t\t\t\t\t\tbilling
                system (only \"MOBILE\" currently\n\t\t\t\t\t\tdefined)."
            accountNumber:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/billingAccountNumberType_ns1'
              description: The companion account.
            msisdn:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnType_ns1'
              description: The msisdn within the above account.
          required:
          - billingAccountType
          - accountNumber
          - msisdn
          description: Account Details
          x-xsi-type: accountDetail
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          x-xsi-type-uniquename: accountDetail_ns1
        servicesType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            productId:
              type: array
              items:
                type: string
                description: "Identifies a product - temporarily the same as o2BFID\n\t\t\t\t(and
                  hence customer ID)"
              minItems: 1
          required:
          - productId
          description: A list of services availalbe on the customer current tariff.
          x-xsi-type: servicesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: servicesType_vad
        allowanceType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            productCode:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productCode_vad'
            productName:
              type: string
              description: Marketing name of the product providing the allowance.
            productType:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productType_vad'
            productDescription:
              type: string
              description: "Textual description of the product. Typically includes\r\n\t\t\t\t\t\tthe
                number and type of allowances included with the\r\n\t\t\t\t\t\tproduct."
            expiryDate:
              type: string
              format: date
              description: Date on which the allowance expires.
            suspended:
              type: boolean
              description: "Flag indicating whether the product (and by implication\r\n\t\t\t\t\t\tthe
                allowances provided by the product) are temporarily\r\n\t\t\t\t\t\tsuspended.
                This may be due (for example) to insufficient\r\n\t\t\t\t\t\tbalance
                to recharge the allowance. If the element is not\r\n\t\t\t\t\t\tincluded
                the product (and allowances) are currently\r\n\t\t\t\t\t\tactive."
            allowanceDetail:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceDetailType_vad'
              description: "Numerical descriptions of allowances delivered as part\r\n\t\t\t\t\t\tof
                a product. If there are no elements, and a\r\n\t\t\t\t\t\tproductDescription
                element exists, then the description\r\n\t\t\t\t\t\tshould be used
                instead."
            allowanceText:
              type: string
              description: "This field can be used as an alternative to displaying\r\n\t\t\t\t\t\tallowanceDetail
                elements if it is supplied."
          required:
          - productName
          - productType
          - expiryDate
          - allowanceDetail
          description: A set of allowances that are included as part of a "product".
          x-xsi-type: allowanceType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: allowanceType_vad
        voiceAllowancesType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            totalAllowanceSummary:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceSummaryType_vad'
            allowance:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad'
              minItems: 1
          required:
          - totalAllowanceSummary
          - allowance
          description: "Allowances related to voice. Provides an overall initial\r\n\t\t\t\tand
            remaining allowances and also a break down of each\r\n\t\t\t\tallowance"
          x-xsi-type: voiceAllowancesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: voiceAllowancesType_vad
        messageAllowancesType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            totalAllowanceSummary:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceSummaryType_vad'
            allowance:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad'
              minItems: 1
          required:
          - totalAllowanceSummary
          - allowance
          description: "Allowances related to message that includes SMS and MMS.\r\n\t\t\t\tProvides
            an overall initial and remaining allowances and\r\n\t\t\t\talso a break
            down of each allowance"
          x-xsi-type: messageAllowancesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: messageAllowancesType_vad
        dataAllowances_2Type_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            totalAllowanceSummary:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowanceSummaryType_vad'
            allowance:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad'
            dataAllowancesByBundleType:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowancesByBundleTypeType_vad'
          description: "Allowances related to data in KB. Provides an overall\r\n\t\t\t\tinitial
            and remaining allowances and also a break down of\r\n\t\t\t\teach allowance"
          x-xsi-type: dataAllowances_2Type
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: dataAllowances_2Type_vad
        unlimitedAllowancesType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            allowance:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad'
              minItems: 1
          required:
          - allowance
          description: All the unlimited Allowances related to Voice, Text and Data.
          x-xsi-type: unlimitedAllowancesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: unlimitedAllowancesType_vad
        dataAllowancesType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            totalAllowanceSummary:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowanceSummaryType_vad'
            allowance:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad'
          description: "Allowances related to data in KB. Provides an overall\r\n\t\t\t\tinitial
            and remaining allowances and also a break down of\r\n\t\t\t\teach allowance"
          x-xsi-type: dataAllowancesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: dataAllowancesType_vad
        dataAllowancesByBundleTypeType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            dataBundle:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataBundleType_vad'
              minItems: 1
          required:
          - dataBundle
          x-xsi-type: dataAllowancesByBundleTypeType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: dataAllowancesByBundleTypeType_vad
        allowance_2Type_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            productId:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productCode_vad'
            allowanceName:
              type: string
              description: Marketing name of the product providing the allowance.
            allowanceUnit:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceUnitType_vad'
            shortDescription:
              type: string
              description: Short textual description of the product.
            longDescription:
              type: string
              description: Long textual description of the product.
            isRestricted:
              type: boolean
            restrictionCategory:
              type: string
            isUnlimited:
              type: boolean
            expiryDate:
              type: string
              format: date
              description: Date on which the allowance expires.
            orderIndex:
              type: number
              description: Describes the order in which the allowance need to displayed.
            allowanceUsageSummary:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceUsageSummaryType_vad'
          required:
          - allowanceName
          - allowanceUnit
          - shortDescription
          - longDescription
          - isRestricted
          - restrictionCategory
          - isUnlimited
          - expiryDate
          - orderIndex
          description: A set of allowances that are included as part of a "product".
          x-xsi-type: allowance_2Type
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: allowance_2Type_vad
        allowancesType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            allowance:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowance_2Type_vad'
              description: Complex structure holding allowance details.
            fairUsageAllowances:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/fairUsageAllowancesType_vad'
          description: Allowances relevant to MSISDN.
          x-xsi-type: allowancesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: allowancesType_vad
        allowances_2Type_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            allowance:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowance_2Type_vad'
              minItems: 1
              description: Complex structure holding allowance details.
          required:
          - allowance
          description: Fair usage and non-fair usage allowances relevant to MSISDN.
          x-xsi-type: allowances_2Type
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: allowances_2Type_vad
        billingAccountNumberType_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
          maxLength: 20
          minLength: 6
          description: "A billing account, as it appears in the back end billing\n\t\t\t\tsystem
            (Companion)."
          x-xsi-type: billingAccountNumberType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          x-xsi-type-uniquename: billingAccountNumberType_ns1
        productCode_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: string
          maxLength: 20
          description: "System ID for the product, to aid aggregation (not available
            for\r\n\t\t\t\tall products)."
          x-xsi-type: productCode
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: productCode_vad
        productType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: string
          enum:
          - TARIFF
          - BOLT-ON
          - TREAT
          - OTHER
          description: The type of allowance (tarrif / bolt-on/ treat)
          x-xsi-type: productType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: productType_vad
        allowanceDetailType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            allowanceSummary:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceSummaryType_vad'
            allowanceUnit:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceUnitType_vad'
            restricted:
              type: boolean
              description: "Indicates whether there are any restrictions on the use\r\n\t\t\t\t\t\tof
                the units (e.g. off-peak, week-ends only, on-net\r\n\t\t\t\t\t\tonly)."
          required:
          - allowanceSummary
          - allowanceUnit
          description: Used to denote a product that gives a user an allowance.
          x-xsi-type: allowanceDetailType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: allowanceDetailType_vad
        allowanceSummaryType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            startingBalance:
              type: number
              description: Total initial number of unit provided by the product.
            allowanceUsed:
              type: number
              description: Total number of units used in the current month.
            allowanceRemaining:
              type: number
              description: Total number of units available to use.
          required:
          - startingBalance
          - allowanceUsed
          description: Provides the total of allowances summary.
          x-xsi-type: allowanceSummaryType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: allowanceSummaryType_vad
          x-ibm-discriminator: true
        dataAllowanceSummaryType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          allOf:
          - $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceSummaryType_vad'
          - xml:
              namespace: http://soa.o2.co.uk/viewallowancedata_2
              prefix: vad
            type: object
            properties:
              dataThresholdType:
                type: string
                xml:
                  namespace: http://soa.o2.co.uk/viewallowancedata_2
                  prefix: vad
                description: "The data allowance threshold category. \r\n\t\t\t\t\t\t\tExample
                  values are:DomesticM,DomesticD,EuQuota,RoWQuota."
              startDate:
                type: string
                format: date-time
                xml:
                  namespace: http://soa.o2.co.uk/viewallowancedata_2
                  prefix: vad
                description: The allowance start date.
              renewalDate:
                type: string
                format: date
                xml:
                  namespace: http://soa.o2.co.uk/viewallowancedata_2
                  prefix: vad
                description: The allowance renewal date.
              timestamp:
                type: string
                format: date-time
                xml:
                  namespace: http://soa.o2.co.uk/viewallowancedata_2
                  prefix: vad
                description: The date and time in which the allowance retrieved was
                  valid.
          description: Provides the total of data allowances summary.
          x-xsi-type: dataAllowanceSummaryType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: dataAllowanceSummaryType_vad
        dataBundleType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            bundleType:
              type: string
            startingAllowance:
              type: number
            allowanceUsed:
              type: number
            allowanceRemaining:
              type: number
            expiryDate:
              type: string
              format: date
          required:
          - bundleType
          - startingAllowance
          x-xsi-type: dataBundleType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: dataBundleType_vad
        allowanceUnitType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: string
          enum:
          - SECOND
          - MESSAGE
          - KB
          - MMS
          - SMS
          description: The unit of measurement for the allowence.
          x-xsi-type: allowanceUnitType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: allowanceUnitType_vad
        allowanceUsageSummaryType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          type: object
          properties:
            startingBalance:
              type: number
              description: Total initial number of unit provided by the product.
            allowanceUsed:
              type: number
              description: Total number of units used in the current month.
            allowanceRemaining:
              type: number
              description: Total number of units available to use.
          required:
          - startingBalance
          - allowanceUsed
          description: Provides the summary of allowances usage.
          x-xsi-type: allowanceUsageSummaryType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: allowanceUsageSummaryType_vad
        fairUsageAllowancesType_vad:
          xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          allOf:
          - $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceSummaryType_vad'
          - xml:
              namespace: http://soa.o2.co.uk/viewallowancedata_2
              prefix: vad
            type: object
            properties:
              thresholdType:
                type: string
                xml:
                  namespace: http://soa.o2.co.uk/viewallowancedata_2
                  prefix: vad
                description: "The data allowance threshold category. \r\n\t\t\t\t\t\t\tExample
                  values are:DomesticM,DomesticD,EuQuota,RoWQuota."
              startDate:
                type: string
                format: date-time
                xml:
                  namespace: http://soa.o2.co.uk/viewallowancedata_2
                  prefix: vad
                description: The allowance start date.
              renewalDate:
                type: string
                format: date
                xml:
                  namespace: http://soa.o2.co.uk/viewallowancedata_2
                  prefix: vad
                description: The allowance renewal date.
              timestamp:
                type: string
                format: date-time
                xml:
                  namespace: http://soa.o2.co.uk/viewallowancedata_2
                  prefix: vad
                description: The date and time in which the allowance retrieved was
                  valid.
          description: Provide fair usage allowances summary.
          x-xsi-type: fairUsageAllowancesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/viewallowancedata_2
            prefix: vad
          x-xsi-type-uniquename: fairUsageAllowancesType_vad
  assembly:
    execute:
    - gatewayscript:
        version: 1.0.0
        title: GS-ExtractInputLog
        source: "/* *************************************************************************************************************
          */\n/* *************************************************************************************************************
          */\n/* FileName                      Version    Created By                  Modified
          By               Date           */\n/* ExtractInputLoggingData.js    1.0
          \       Dinesh Tomar                                          06-July-2018
          \  */\n/*                                                                                                               */\n/*
          *************************************************************************************************************
          */\n/* Purpose: This GW Script will extract input metadata for logging                                               */\n/*
          \                                                                                                              */\n/*
          Required params:                                                                                              */\n/*
          ***************************************************************************************************************/\n//Extract
          general metadata from system variables\nvar apiStartTimeMS = (new Date()).getTime();\napim.setvariable('apiStartTimeMS',
          apiStartTimeMS);\nvar systemDateTime = apim.getvariable('system.datetime');\nvar
          apicTxId = \"\";\nif (apim.getvariable('request.headers.apic-transaction-id')){\n
          \   apicTxId = apim.getvariable('request.headers.apic-transaction-id');\n}\nelse
          {\n    apicTxId = uuidv4();\n}\napim.setvariable('apic-transaction-id',
          apicTxId);\napim.setvariable('message.headers.apic-transaction-id', apicTxId);\n\nvar
          xGlobalTxId = apim.getvariable('request.headers.x-global-transaction-id');\n\n//Extract
          client metadata from system variables\nvar clientIPAddress = apim.getvariable('request.headers.x-client-ip');\nvar
          clientId = apim.getvariable('client.app.id');\nvar clientAppName = apim.getvariable('client.app.name');\nvar
          clientAppType = apim.getvariable('client.app.type');\nvar clientOrgName
          = apim.getvariable('client.org.name');\n\n//Extract api metadata from system
          variables\nvar apiName = apim.getvariable('api.name');\nvar apiVersion =
          apim.getvariable('api.version');\nvar providerOrgName = apim.getvariable('api.org.name');\nvar
          catalogName = apim.getvariable('env.path');\nvar apiBasePath = apim.getvariable('api.root');\nvar
          operationPath = apim.getvariable('api.operation.path');\n\n\n//Extract product
          metadata from system variables\n//var productName = apim.getvariable('product.name');\n//var
          productVersion = apim.getvariable('product.version');\nvar planName = apim.getvariable('plan.name');\nvar
          planVersion = apim.getvariable('plan.version');\nvar planRateLimit = apim.getvariable('plan.rate-limit');\n\n//Extract
          request metadata from system variables\nvar requestMethod = apim.getvariable('request.verb');\nvar
          requestURI = apim.getvariable('request.uri');\nvar requestHeaders = apim.getvariable('request.headers');\n\ndelete
          requestHeaders['accept-encoding'];\ndelete requestHeaders['x-global-transaction-id'];\ndelete
          requestHeaders['user-agent'];\ndelete requestHeaders['via'];\ndelete requestHeaders['x-authcode'];\ndelete
          requestHeaders['authorization'];\n\nvar requestHeadersString = JSON.stringify(requestHeaders);\n\nvar
          logString = \"type:=request\"\n                + \" | system-datetime:=\"
          +        systemDateTime\n                + \" | apic-transaction-id:=\"
          +    apicTxId\n                + \" | global-transaction-id:=\" +  xGlobalTxId\n
          \               + \" | consumer-ip-address:=\" +    clientIPAddress\n                +
          \" | x-ibm-client-id:=\" +        clientId\n                + \" | client-app-name:=\"
          +        clientAppName\n                + \" | client-app-type:=\" +        clientAppType\n
          \               + \" | client-org-name:=\" +        clientOrgName\n                +
          \" | api-name:=\" +               apiName\n                + \" | api-version:=\"
          +            apiVersion\n                + \" | provider-org-name:=\" +
          \     providerOrgName\n                + \" | catalog-name:=\" +           catalogName\n
          \               + \" | api-base-path:=\" +          apiBasePath\n                +
          \" | operation-path:=\" +         operationPath\n                + \" |
          plan-name:=\" +              planName\n                + \" | plan-version:=\"
          +           planVersion\n                + \" | plan-rate-limit:=\" +        planRateLimit\n
          \               + \" | request-http-method:=\" +    requestMethod\n                +
          \" | request-uri:=\" +            requestURI\n                + \" | request-http-headers:=\"
          +   requestHeadersString;\n                \nconsole.log(logString);\nlogString
          = \"\";\napim.setvariable('logString', logString);\n\nfunction uuidv4()
          {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function
          (c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r: (r & 0x3
          | 0x8);\n        return v.toString(16);\n    });\n}"
    - gatewayscript:
        version: 1.0.0
        title: GS-FormValidationAPIURL
        source: |-
          /* ************************************************************************************************************* */
          /* ************************************************************************************************************* */
          /* FileName                      Version    Created By                  Modified By               Date           */
          /* FetchValidationConfig.js      1.0        Dinesh Tomar                                          04-July-2018   */
          /*                                                                                                               */
          /* ************************************************************************************************************* */
          /* Purpose: This GW Script will create URL to fetch validation config for all apis                               */
          /*                                                                                                               */
          /* Required params:                                                                                              */
          /* ***************************************************************************************************************/
          var clientId = apim.getvariable('client.app.id');
          apim.setvariable('message.headers.x-ibm-client-id', clientId);
          apim.setvariable('message.headers.content-type', 'application/json');
          //form url for to fetch errorConfig JSON
          var requestURL = apim.getvariable('request.uri');
          var orgName = apim.getvariable('api.org.name');
          var hostName = requestURL.substr(0, requestURL.indexOf(orgName));
          var catalog = apim.getvariable('env.path');
          var validationConfigURL = hostName+orgName+'/'+catalog+'/'+'config/validationconfig';
          apim.setvariable('validationConfigURL', validationConfigURL);

          //record time in ms just before the invoke policy
          apim.setvariable('startTimeMS', (new Date()).getTime());
          apim.setvariable('policyName', 'invoke-ValidationAPI');
    - invoke:
        version: 1.0.0
        title: invoke-ValidationAPI
        timeout: 60
        verb: GET
        cache-response: protocol
        cache-ttl: 900
        stop-on-error:
        - ConnectionError
        target-url: $(validationConfigURL)
        output: validationConfig
    - gatewayscript:
        version: 1.0.0
        title: GS-ValidateParams
        source: "/* **********************************************************************************************************
          */\n/* **********************************************************************************************************
          */\n/* FileName                   Version    Created By                  Modified
          By               Date           */\n/* ValidateParams.js          1.0        Dinesh
          Tomar                                          03-July-2018   */\n/*                                                                                                            */\n/*
          **********************************************************************************************************
          */\n/* Purpose: This GW Script file will return all API configurations to
          be used for validating input params     */\n/*                                                                                                            */\n/*
          Required params:                                                                                           */\n/*
          ************************************************************************************************************/\n\n//record
          time in ms just after the invoke policy\nvar endTimeMS = (new Date()).getTime();\nvar
          timeTakenByPreviousPolicy = endTimeMS - apim.getvariable('startTimeMS');\nvar
          logString = apim.getvariable('logString');\nlogString += \" | \" + apim.getvariable('policyName')
          + \" := \" + timeTakenByPreviousPolicy + \" ms\";\napim.setvariable('logString',
          logString)\n\n\n\nvar validationConfig = apim.getvariable('validationConfig.body');\nif
          (validationConfig == null || isJSONEmpty(validationConfig)){\n    apim.setvariable('errorName',
          'ConnectionError');\n    apim.error('ConnectionError', 500, 'Internal Error',
          'Connection error');\n}\nelse {\n    var apiName = apim.getvariable('api.name');\n
          \   var operationName = apim.getvariable('api.operation.path');\n    var
          apiConfig = validationConfig.apisConfig[apiName][operationName];\n    var
          paramsConfig = validationConfig.paramsConfig;\n    var requiredPathParams
          = apiConfig.requiredPathParams;\n    var requiredQueryParams = apiConfig.requiredQueryParams;\n
          \   var requiredHeaderParams = apiConfig.requiredHeaderParams;\n    validateRequiredParams('headers',
          requiredHeaderParams, paramsConfig);\n    validateRequiredParams('parameters',
          requiredQueryParams, paramsConfig);\n    validateRequiredParams('parameters',
          requiredPathParams, paramsConfig);\n}\n\nfunction validateRequiredParams(paramType,
          requiredParams, paramsConfig){\n    if (requiredParams !== \"\"){\n        var
          reqParams = requiredParams.split('|');\n        for (var i = 0; i < reqParams.length;
          i++){\n            var paramConfig = paramsConfig[reqParams[i]];\n            var
          inputParam = apim.getvariable('request.'+paramType+'.'+reqParams[i]);\n
          \           var nullValidation = ((inputParam != undefined) || (inputParam
          != null));\n            if (nullValidation){\n                var dataTypeValidation
          = true;\n                dataTypeValidation = validateDataType(inputParam,
          paramConfig);\n                var lengthValidation = true;\n                var
          allowedValuesValidation = true;\n                if (paramConfig.manLength
          || paramConfig.maxLength){\n                    lengthValidation = validateLength(inputParam,
          paramConfig);\n                }\n                if (paramConfig.allowedValues){\n
          \                   allowedValuesValidation = validateAllowedValues(inputParam,
          paramConfig);\n                }\n                if (!(dataTypeValidation)
          || !(lengthValidation) || !(allowedValuesValidation)){\n                    apim.setvariable('errorName',
          paramConfig.validationErrorName);\n                    apim.error(paramConfig.validationErrorName,
          paramConfig.validationErrorCode, 'Internal Error', paramConfig.validationErrorMessage);\n
          \                   return;\n                }\n            }\n            else
          {\n                apim.setvariable('errorName', paramConfig.validationErrorName);\n
          \               apim.error(paramConfig.validationErrorName, paramConfig.validationErrorCode,
          'Internal Error', paramConfig.validationErrorMessage);\n                return;\n
          \           }\n            \n        }\n    }\n}\n\nfunction validateDataType(inputParam,
          paramConfig){\n    if (paramConfig.dataType == 'number'){\n        return
          !(isNaN(parseInt(inputParam)));\n    }\n    else if (paramConfig.dataType
          == 'email'){ \n        if (inputParam.includes('.') && inputParam.includes('@')
          && (! inputParam.includes(' ')))\n            return true;\n        else\n
          \           return false;\n    }\n    else if (paramConfig.dataType == 'string'){\n
          \       if (inputParam != null && inputParam.length != 0)\n            return
          true;\n        else\n            return false;\n    }\n    else if (paramConfig.dataType
          == 'version'){\n        if (inputParam == null || inputParam.length == 0)\n
          \           return false;\n        else if (inputParam.includes('.')) {\n
          \           var splittedArray = inputParam.split('.');\n            var
          result = true;\n            for (var i = 0; i < splittedArray.length; i++){\n
          \               if (isNaN(parseInt(splittedArray[i]))){\n                    result
          = false;\n                    return result;\n                }\n            }\n
          \           return result;\n        }\n        else{\n            return
          !(isNaN(parseInt(inputParam)));\n        }\n    }\n    else\n        return
          true;\n}\n\nfunction validateLength(inputParam, paramConfig){\n    var minLength
          = paramConfig.minLength;\n    var maxLength = paramConfig.maxLength;\n    if
          ((inputParam.length >= minLength) && (inputParam.length <= maxLength))\n
          \       return true;\n    else\n        return false;\n}\n\nfunction validateAllowedValues(inputParam,
          paramConfig){\n    var allowedValues = paramConfig.allowedValues;\n    var
          allowedValuesArray = allowedValues.split('|');\n    var result = false;\n
          \   for (var i = 0; i < allowedValuesArray.length; i++){\n        if (allowedValuesArray[i]
          == inputParam){\n            result = true;\n            return result;\n
          \       }\n    }\n    return result;\n}\n\nfunction isJSONEmpty(jsonObject)
          {\n    var member;\n    var result = true;\n    for (member in jsonObject)
          {\n        if (jsonObject[member] != null) {\n            result = false;\n
          \       }\n    }\n    return result;\n}"
    - gatewayscript:
        title: GS-FormPropertyAPIURL
        version: 1.0.0
        source: |
          /* *********************************************************************************************************************** */
          /* *********************************************************************************************************************** */
          /* FileName                                Version    Created By                  Modified By               Date           */
          /* FormPropertyInvokeURL.js                1.0        Abhinav Saxena                                        25-May-2018    */
          /*                                                                                                                         */
          /* *********************************************************************************************************************** */
          /* Purpose: This GW Script file will for the URL to invoke Property API                                                    */
          /*                                                                                                                         */
          /* Required params:                                                                                                        */
          /* *********************************************************************************************************************** */

          var clientId = apim.getvariable('client.app.id');
          apim.setvariable('message.headers.x-ibm-client-id', clientId);
          apim.setvariable('message.headers.content-type','application/json');

          //form url for to fetch config properties
          var requestURL = apim.getvariable('request.uri');
          var orgName = apim.getvariable('api.org.name');
          var hostName = requestURL.substr(0, requestURL.indexOf(orgName));
          var catalog = apim.getvariable('env.path');
          var configPropertiesURL =hostName + orgName + '/' + catalog + '/' + 'config/properties';
          apim.setvariable('configPropertiesURL', configPropertiesURL);

          //record time in ms just before the invoke policy
          apim.setvariable('startTimeMS', (new Date()).getTime());
          apim.setvariable('policyName', 'Invoke-PropertiesHandler');
    - invoke:
        title: Invoke-PropertiesHandler
        timeout: 60
        verb: GET
        cache-response: protocol
        cache-ttl: 900
        version: 1.0.0
        target-url: $(configPropertiesURL)
        output: messages-property
    - gatewayscript:
        title: GS-CreategetConsolidateAuthRequest
        version: 1.0.0
        source: "/* ***********************************************************************************************************************
          */\n/* ***********************************************************************************************************************
          */\n/* FileName                                Version    Created By                  Modified
          By               Date           */\n/* ConsolidatedAuthServiceRequest.js
          \      1.0        Abhinav Saxena                                        08-May-2018
          \   */\n/*                                                                                                                         */\n/*
          ***********************************************************************************************************************
          */\n/* Purpose: This GW Script file will set the URL to call Auth Service
          \                                                     */\n/*                                                                                                                         */\n/*
          Required params:                                                                                                        */\n/*
          ***********************************************************************************************************************
          */\n\n//record time in ms just after the invoke policy\nvar endTimeMS =
          (new Date()).getTime();\nvar timeTakenByPreviousPolicy = endTimeMS - apim.getvariable('startTimeMS');\nvar
          logString = apim.getvariable('logString');\nlogString += \" | \" + apim.getvariable('policyName')
          + \" := \" + timeTakenByPreviousPolicy + \" ms\";\napim.setvariable('logString',
          logString)\n\nvar messages = apim.getvariable('messages-property.body');\nvar
          ibmclientId = apim.getvariable('client.app.id');\napim.setvariable('message.headers.x-ibm-client-id',
          ibmclientId);\napim.setvariable('message.headers.content-type', 'application/json');\n\n//form
          url for consolidated auth service\nvar requestURL = apim.getvariable('request.uri');\nvar
          orgName = apim.getvariable('api.org.name');\nvar hostName = requestURL.substr(0,
          requestURL.indexOf(orgName));\nvar catalog = apim.getvariable('env.path');\n\nvar
          authCodeURL = hostName+orgName+'/'+catalog + messages.authserver.generateTransferAuthCode.apicURI
          ;\nvar authcode = apim.getvariable('request.headers.x-authcode');\nvar msisdn
          = apim.getvariable('request.parameters.msisdn');\nvar device = apim.getvariable('request.headers.x-device');\nvar
          content = apim.getvariable('request.headers.content-type');\nvar correlator
          = apim.getvariable('request.headers.x-correlator');\nvar userid = apim.getvariable('request.headers.x-user-id');\nvar
          clientId = apim.getvariable('request.headers.x-client-id');\n\napim.setvariable('authCodeEndPoint',
          authCodeURL);\napim.setvariable('message.headers.x-authcode' , authcode);\napim.setvariable('message.headers.msisdn'
          , msisdn);\napim.setvariable('message.headers.x-device' , device);\napim.setvariable('message.headers.content-type'
          , content);\napim.setvariable('message.headers.x-callid' , correlator);\napim.setvariable('message.headers.x-user-id',
          userid);\n    \n//record time in ms just before the invoke policy\napim.setvariable('startTimeMS',
          (new Date()).getTime());\napim.setvariable('policyName', 'Invoke-getConsolidatedAuth');\n
          \   //apim.setvariable('message.headers.x-ibm-client-id', clientId);\n\n//get
          header paramerts from the incoming request\n/*var authcode = apim.getvariable('request.headers.x-authcode');\nvar
          msisdn = apim.getvariable('request.parameters.msisdn');\nvar device = apim.getvariable('request.headers.x-device');\nvar
          content = apim.getvariable('request.headers.content-type');\nvar correlator
          = apim.getvariable('request.headers.x-correlator');\nvar userid = apim.getvariable('request.headers.x-user-id');\nvar
          clientId = apim.getvariable('request.headers.x-client-id');\n\nvar errorName
          = undefined;\n\nif(authcode == null || authcode == undefined || authcode.length
          == 0){\n    apim.setvariable('errorName', 'InvalidAuthCode');\n    apim.error('InvalidAuthCode',500,
          'Null Auth Code','Null Auth Code Received');\n    \n}\nelse if (msisdn ==
          null || msisdn.length !== 12 || msisdn == undefined){\n    apim.setvariable('errorName',
          'InvalidMsisdn');\n    apim.error('InvalidMsisdn', 500 , 'Invalid MSISDN',
          'MSISDN Invalid or Null');\n    \n}\nelse if (device == null || device ==
          undefined || device.length == 0){\n    apim.setvariable('errorName', 'InvalidDeviceType');\n
          \   apim.error('InvalidDeviceType', 500 , 'Invalid Device', 'Device details
          null');\n    \n}\nelse if (clientId == null || clientId.length == 0){\n
          \   apim.setvariable('errorName', 'InvalidClientId');\n    apim.error('InvalidClientId',500,
          'Content Incorrect', 'Missing or invalid client id');\n    \n}\n\nelse if
          (content == null || content !== 'application/json'){\n    apim.setvariable('errorName',
          'InvalidContentType');\n    apim.error('InvalidContentType',500, 'Content
          Incorrect', 'Incorrect Content');\n    \n}\n\nelse if (correlator == null
          || correlator == undefined || correlator.length == 0 ){\n    apim.setvariable('errorName',
          \"InvalidCorrelator\");\n    apim.error('InvalidCorrelator',500, 'Missing
          Correlator' , 'Missing Correlator');\n    \n}\nelse if (userid == null ||
          userid == undefined || userid.length == 0 ){\n    apim.setvariable('errorName',
          \"InvalidUserId\");\n    apim.error('InvalidUserId',500, 'Missing User ID'
          , 'Missing User ID');\n    \n}\nelse if (messages == null || isJSONEmpty(messages)){\n
          \   apim.setvariable('errorName', 'ConnectionError');\n    apim.error('ConnectionError',
          500, 'Internal Error', 'Connection error');\n}\n\n\n//else {\n    apim.setvariable('authCodeEndPoint',
          authCodeURL);\n    apim.setvariable('message.headers.x-authcode' , authcode);\n
          \   apim.setvariable('message.headers.msisdn' , msisdn);\n    apim.setvariable('message.headers.x-device'
          , device);\n    apim.setvariable('message.headers.content-type' , content
          );\n    apim.setvariable('message.headers.x-callid' , correlator);\n    apim.setvariable('message.headers.x-user-id',
          userid);\n    //apim.setvariable('message.headers.x-ibm-client-id', clientId);\n//}\n\nfunction
          isJSONEmpty(jsonObject) {\n    var member;\n    var result = true;\n    for
          (member in jsonObject) {\n        if (jsonObject[member] != null) {\n            result
          = false;\n        }\n    }\n    return result;\n}*/"
    - invoke:
        target-url: $(authCodeEndPoint)
        title: Invoke-getConsolidatedAuth
        description: ""
        timeout: 60
        stop-on-error: []
        output: getConsolidatedAuthResponseObj
        verb: GET
        cache-ttl: 60
    - gatewayscript:
        title: GS-CreatePhoneServiceRequest
        version: 1.0.0
        source: |-
          /* *********************************************************************************************************************** */
          /* *********************************************************************************************************************** */
          /* FileName                                Version    Created By                  Modified By               Date           */
          /* PhoneServiceRequest.js                   1.0       Abhinav Saxena                                        08-May-2018    */
          /*                                                                                                                         */
          /* *********************************************************************************************************************** */
          /* Purpose: This GW Script file will create request for phone service.                                                     */
          /*                                                                                                                         */
          /* Required params:                                                                                                        */
          /* *********************************************************************************************************************** */

          //record time in ms just after the invoke policy
          var endTimeMS = (new Date()).getTime();
          var timeTakenByPreviousPolicy = endTimeMS - apim.getvariable('startTimeMS');
          var logString = apim.getvariable('logString');
          logString += " | " + apim.getvariable('policyName') + " := " + timeTakenByPreviousPolicy + " ms";
          apim.setvariable('logString', logString)

          //Save the getConsolidatedAuth call response body to a variable
          var getConsolidatedAuthResponse = apim.getvariable('getConsolidatedAuthResponseObj.body');
          var msisdn = apim.getvariable('request.parameters.msisdn');
          var messages = apim.getvariable('messages-property.body');

          var url = messages.phoneservice.msisdndetails.uri;

          //Set the  phone service URI.
          apim.setvariable('phoneServiceEndpoint',url);

          var errorName = undefined;

          //Check if the consolidated auth response is empty
          if (getConsolidatedAuthResponse == null || isJSONEmpty(getConsolidatedAuthResponse)){
              apim.setvariable('errorName','ConnectionError');
              apim.error('ConnectionError',500,'Internal Error','Connection Error Has Occured');
          }

          else {
          //Create request for phone details service
          apim.setvariable('message.headers.disambiguation-id', getConsolidatedAuthResponse.disambiguation_id);
          apim.setvariable('message.headers.Authorization', 'Bearer '+ getConsolidatedAuthResponse.access_token);

          //record time in ms just before the invoke policy
          apim.setvariable('startTimeMS', (new Date()).getTime());
          apim.setvariable('policyName', 'Invoke-PhoneDetailsService');
          }


          function isJSONEmpty(jsonObject) {
              var member;
              var result = true;
              for (member in jsonObject) {
                  if (jsonObject[member] != null) {
                      result = false;
                  }
              }
              return result;
          }
    - invoke:
        title: Invoke-PhoneDetailsService
        timeout: 60
        verb: GET
        cache-response: protocol
        cache-ttl: 900
        version: 1.0.0
        target-url: $(phoneServiceEndpoint)
        output: phoneDetailsResponseObj
    - gatewayscript:
        version: 1.0.0
        title: GS-CaptureLog
        source: |
          //record time in ms just after the invoke policy
          var endTimeMS = (new Date()).getTime();
          var timeTakenByPreviousPolicy = endTimeMS - apim.getvariable('startTimeMS');
          var logString = apim.getvariable('logString');
          logString += " | " + apim.getvariable('policyName') + " := " + timeTakenByPreviousPolicy + " ms";
          apim.setvariable('logString', logString)
    - map:
        title: MAP-getNonDataAllowance_2input
        inputs:
          input:
            schema:
              $ref: '#/definitions/phoneservice_paym_response'
            variable: phoneDetailsResponseObj.body
            content: application/json
        outputs:
          SOAPAction:
            schema:
              type: string
            variable: message.headers.SOAPAction
          input:
            schema:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Input'
            variable: message.body
            content: application/xml
          Content-Type:
            schema:
              type: string
            variable: message.headers.content-type
        actions:
        - set: Content-Type
          default: application/xml
        - set: input.Envelope.Body.getNonDataAllowance_2.account.accountDetail.msisdn
          from: input.productId.value
          value: |-
            var retProductValue = undefined;
            var errorName = undefined;
            //Check if the Product Value is null
            if ($(input.productId.value) == null){
                apim.setvariable('errorName', 'InvalidProductValue');
                apim.error('InvalidProductValue',500,'Internal Error','Product Value is Null');
            }
            if ($(input.productId.value).startsWith('+')) {
                        retProductValue = $(input.productId.value).substring(1);
                    }
            else{
                retProductValue = $(input.productId.value);
            }
        - set: input.Envelope.Body.getNonDataAllowance_2.account.accountDetail.billingAccountType
          value: '''MOBILE'''
        - set: input.Envelope.Body.getNonDataAllowance_2.account.accountDetail.accountNumber
          from: input.accountId
          value: |
            //Save the getPhoneDetailsResponse call response body to a variable

            var retAccountID = undefined;
            var errorName = undefined;

            if ($(input.accountId) == null){
                apim.setvariable('errorName','InvalidAccountID');
                apim.error('InvalidAccountID',500,'Internal Error','Account ID is Null');
            }
            else {
                retAccountID = $(input.accountId);
            }
        - set: input.Envelope.Header.Security.UsernameToken.Username
          value: '''apic_123'''
        - set: input.Envelope.Header.Security.UsernameToken.Password
          value: '''t3st1ng'''
    - xslt:
        version: 1.0.0
        title: xslt-RemoveEmptyTags
        input: true
        source: |-
          <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:dp="http://www.datapower.com/extensions" extension-element-prefixes="dp">
              <xsl:output method="xml" omit-xml-declaration="yes" indent="yes"/>
              <xsl:strip-space elements="*"/>
              <xsl:template match="@*|node()">
                  <xsl:copy>
                      <xsl:apply-templates select="@*|node()"/>
                  </xsl:copy>
              </xsl:template>
              <xsl:template match="//*[local-name() = 'Envelope']//*[local-name() = 'Body']//*[local-name() = 'account']/*[local-name() = 'portalID']"/>
              <xsl:template match="//*[local-name() = 'Envelope']//*[local-name() = 'Body']//*[local-name() = 'account']/*[local-name() = 'msisdn']"/>
              <xsl:template match="//*[local-name() = 'Envelope']//*[local-name() = 'Body']//*[local-name() = 'allowanceCategory']"/>
          </xsl:stylesheet>
    - gatewayscript:
        version: 1.0.0
        title: GS-CaptureLogSOAService
        source: |-
          //record time in ms just before the invoke policy
          apim.setvariable('startTimeMS', (new Date()).getTime());
          apim.setvariable('policyName', 'Invoke-getNonDataAllowance_2');
    - invoke:
        title: Invoke-getNonDataAllowance_2
        target-url: $(ViewAllowanceServiceURL)
        timeout: 60
        verb: POST
        cache-response: protocol
        cache-ttl: 900
        password: t3st1ng
        username: apic_123
        tls-profile: apim-tls-client-profile:1.0.0
    - gatewayscript:
        version: 1.0.0
        title: GS-CaptureLogSOAresponse
        source: |-
          /* *********************************************************************************************************************** */
          /* *********************************************************************************************************************** */
          /* FileName                                Version    Created By                  Modified By               Date           */
          /* CheckSOAResponse.js                     1.0        Abhinav Saxena                                        08-June-2018   */
          /*                                                                                                                         */
          /* *********************************************************************************************************************** */
          /* Purpose: This GW Script file will check for the errors in soa response                                                  */
          /*                                                                                                                         */
          /* Required params:                                                                                                        */
          /* *********************************************************************************************************************** */

          //record time in ms just after the invoke policy
          var endTimeMS = (new Date()).getTime();
          var timeTakenByPreviousPolicy = endTimeMS - apim.getvariable('startTimeMS');
          var logString = apim.getvariable('logString');
          logString += " | " + apim.getvariable('policyName') + " := " + timeTakenByPreviousPolicy + " ms";
          apim.setvariable('logString', logString)

          //var soaResponse = apim.getvariable('messages.body');

          //check for errors in the AG/SOA response
          /*if (soaResponse.contains("error") || soaResponse.contains("fault") || soaResponse.contains("Fault") )
          {
              apim.setvariable('errorName','ConnectionError');
              apim.error('ConnectionError', 500, 'Internal Error', 'Connection error');
          }*/
    - xslt:
        version: 1.0.0
        title: xslt-SortByOrderIndex
        input: true
        source: "<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"
          xmlns:dp=\"http://www.datapower.com/extensions\" extension-element-prefixes=\"dp\">\n
          \   <xsl:output method=\"xml\" omit-xml-declaration=\"yes\" indent=\"yes\"/>\n
          \   <xsl:strip-space elements=\"*\"/>\n    <xsl:template match=\"@*|node()\">\n
          \       <xsl:copy>\n            <xsl:apply-templates select=\"@*|node()\"/>\n
          \       </xsl:copy>\n    </xsl:template>\n    <xsl:template match=\"//*[local-name()
          = 'allowances']\">\n        <xsl:variable name=\"elementName\" select=\"
          name(.)\"/>\n        <xsl:element name=\"{$elementName}\" namespace=\"http://soa.o2.co.uk/viewallowancedata_2\">
          \           \n            <xsl:for-each select=\"//*[local-name() = 'allowance']\">\n
          \               <xsl:sort select=\"./*[local-name() = 'orderIndex']\" data-type=\"number\"
          order=\"ascending\"/>\n                <xsl:copy-of select=\".\"/>\n            </xsl:for-each>\n
          \       </xsl:element>\n    </xsl:template>\n</xsl:stylesheet>"
    - map:
        title: MAP-getNonDataAllowance_2output
        inputs:
          input:
            schema:
              $ref: '#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Output'
            variable: message.body
            content: application/xml
        outputs:
          output:
            schema:
              $ref: '#/definitions/ViewAllowance-MinutesResponse'
            variable: message.body
            content: application/json
        actions:
        - create: output.allowances
          foreach: input.Envelope.Body.getNonDataAllowance_2Response.msisdnLevelNonDataAllowances.allowances.allowance
          from: input.Envelope.Body.getNonDataAllowance_2Response.msisdnLevelNonDataAllowances.allowances.allowance
          actions:
          - set: description
            from:
            - longDescription
            - allowanceUnit
            value: |-
              var retLongDesValue = undefined;
              if ($(allowanceUnit) == "SECOND"){
                  retLongDesValue = $(longDescription)
              }
          - set: unlimited
            from:
            - isUnlimited
            - allowanceUnit
            value: "var retIsUnlimited = undefined;\r\nif ($(allowanceUnit) == \"SECOND\"){\r\n
              \   retIsUnlimited = $(isUnlimited)\r\n}"
          - set: restricted
            from:
            - isRestricted
            - allowanceUnit
            value: "var retIsRestricted = undefined;\r\nif ($(allowanceUnit) == \"SECOND\"){\r\n
              \   retIsRestricted = $(isRestricted)\r\n}"
          - set: starting_balance
            from:
            - allowanceUsageSummary.startingBalance
            - allowanceUsageSummary
            - allowanceUnit
            - $item
            value: "var retStartingBalance = undefined;\nif ($(allowanceUnit) == \"SECOND\"){\n
              \   if ($(allowanceUsageSummary) == null){\n        retStartingBalance
              = -1\n    }\n    \n    else if ($(allowanceUsageSummary.startingBalance)
              == null){\n        retStartingBalance = -1\n    }\n    else {\n        retStartingBalance
              = $(allowanceUsageSummary.startingBalance) / 60\n    }\n    //if ($(allowanceUsageSummary.startingBalance)
              == 0 || $(allowanceUsageSummary.startingBalance) == null ){\n    //retStartingBalance
              = -1\n    //}\n    //else {\n        //retAllowanceUsed = 0\n      //
              \ retStartingBalance = $(allowanceUsageSummary.startingBalance)/60\n
              \   //}\n}"
          - set: allowance_used
            from:
            - allowanceUsageSummary.allowanceUsed
            - allowanceUsageSummary
            - allowanceUnit
            value: |-
              var retAllowanceUsed = undefined;
              if ($(allowanceUnit) == "SECOND"){
                  if ($(allowanceUsageSummary.allowanceUsed) == 0 || $(allowanceUsageSummary.allowanceUsed) == null ){
                  retAllowanceUsed = null
                  }
                  else {
                      //retAllowanceUsed = 0
                      retAllowanceUsed = $(allowanceUsageSummary.allowanceUsed)/60
                  }
              }
          - set: allowance_remaining
            from:
            - allowanceUsageSummary.allowanceRemaining
            - allowanceUsageSummary
            - allowanceUnit
            value: |-
              var retAllowanceRemaining = undefined;
              if ($(allowanceUnit) == "SECOND"){
                  if ($(allowanceUsageSummary.allowanceRemaining) == 0 || $(allowanceUsageSummary.allowanceRemaining) == null ){
                  retAllowanceRemaining = null
                  }
                  else {
                      retAllowanceRemaining = $(allowanceUsageSummary.allowanceRemaining)/60
                  }
              }
          - set: percent_allowance_used
            from:
            - allowanceUsageSummary
            - allowanceUsageSummary.startingBalance
            - allowanceUsageSummary.allowanceUsed
            - allowanceUnit
            value: "var retPercentAllowanceUsed = undefined;\nif( $(allowanceUnit)
              == \"SECOND\" )\n{\n if ($(allowanceUsageSummary.allowanceUsed) == 0
              || $(allowanceUsageSummary.allowanceUsed) == null || $(allowanceUsageSummary.allowanceUsed)
              < 0){\n  retPercentAllowanceUsed = 0\n}\n\nelse if ($(allowanceUsageSummary.startingBalance)
              == 0  || $(allowanceUsageSummary.startingBalance) < 0 || $(allowanceUsageSummary.startingBalance)
              == null){\n\tretPercentAllowanceUsed = 0\n}\nelse if ($(allowanceUsageSummary.allowanceUsed)
              >= $(allowanceUsageSummary.startingBalance)){\n\tretPercentAllowanceUsed
              = 100\n}\nelse {\n\tretPercentAllowanceUsed = ($(allowanceUsageSummary.allowanceUsed)
              / $(allowanceUsageSummary.startingBalance)) * 100\n}\n\n}"
          - set: expiry_date
            from:
            - expiryDate
            - allowanceUnit
            value: |-
              if ($(allowanceUnit) == "SECOND"){
                  //retexpiryDateValue = $(expiryDate)
                  $(expiryDate)
              }
          - set: restriction_category
            from:
            - restrictionCategory
            - allowanceUnit
            value: |-
              var retrestrictionCategory = undefined;
              if ($(allowanceUnit) == "SECOND"){
                  retrestrictionCategory = $(restrictionCategory)
              }
        version: 1.0.0
    - gatewayscript:
        title: GS-FormCompleteResponse
        version: 1.0.0
        source: "/* ***********************************************************************************************************************
          */\n/* ***********************************************************************************************************************
          */\n/* FileName                                Version    Created By                  Modified
          By               Date           */\n/* FormAPIResponse.js                      1.0
          \       Abhinav Saxena                                        14-May-2018
          \   */\n/*                                                                                                                         */\n/*
          ***********************************************************************************************************************
          */\n/* Purpose: This GW Script file will form the final API response.                                                          */\n/*
          \                                                                                                                        */\n/*
          Required params:                                                                                                        */\n/*
          ***********************************************************************************************************************
          */\n\n//Get all the values from the response.\nvar messages = apim.getvariable('messages-property.body');
          \nvar allAllowances = apim.getvariable('message.body.allowances');\n//var
          footerMessage = apim.getvariable('message.body.footerMessage');\n//var allowanceFooterMessage
          = messages.msg.allowance.footer;\n//var thresholdPercentage = apim.getvariable('message.body.thresholdPercentage');\n\n\n//Filter
          the Allowance objects if any is empty.\nvar filteredAllowance = isArrayEmpty(allAllowances);\n\n//Create
          the response object with all the values to be set to the message body\nvar
          responseObj = {\n                \"allowances\": filteredAllowance,\n                \"footer_message\":
          messages.msg.voice.account.footer,\n                \"allowance_footer_message\":
          messages.msg.allowance.footer,\n                \"threshold_percentage\":
          messages.minutesallowance.threshold\n                \n}\n\n//Set the message
          body\napim.setvariable('message.body',responseObj);\n\n//Function will check
          if the array objest has any object and each json object has an element.\nfunction
          isArrayEmpty(allAllowances){\n var finalArray =[];\n for (var i=0;i < allAllowances.length;
          i++){\n if (isJSONEmpty(allAllowances[i]) == false){\n finalArray.push(allAllowances[i]);\n
          \       }\n    }\n    return finalArray\n}\n\nfunction isJSONEmpty(jsonObject)
          {\n    var member;\n    var result = true;\n    for (member in jsonObject)
          {\n        if (jsonObject[member] != null) {\n            result = false;\n
          \       }\n    }\n    return result;\n}"
    - gatewayscript:
        version: 1.0.0
        title: GS-ExtractFinalLoggingData
        source: |-
          /* ************************************************************************************************************* */
          /* ************************************************************************************************************* */
          /* FileName                      Version    Created By                  Modified By               Date           */
          /* ExtractFinalLoggingData.js    1.0        Dinesh Tomar                                          06-July-2018   */
          /*                                                                                                               */
          /* ************************************************************************************************************* */
          /* Purpose: This GW Script will extract final metadata for logging                                               */
          /*                                                                                                               */
          /* Required params:                                                                                              */
          /* ***************************************************************************************************************/
          //Extract general metadata from system variables
          var systemDateTime = apim.getvariable('system.datetime');
          var apicTxId = apim.getvariable('apic-transaction-id');
          var xGlobalTxId = apim.getvariable('request.headers.x-global-transaction-id');
          var requestURI = apim.getvariable('request.uri');

          //Extract response metadata from system variables
          var responseHeaders = apim.getvariable('message.headers');

          delete responseHeaders['Accept-Encoding'];
          delete responseHeaders['X-Global-Transaction-ID'];
          delete responseHeaders['User-Agent'];
          delete responseHeaders['Via'];
          delete responseHeaders['x-authcode'];
          delete responseHeaders['authorization'];
          delete responseHeaders['Access-Control-Allow-Methods'];
          delete responseHeaders['Access-Control-Allow-Origin'];
          delete responseHeaders['Access-Control-Allow-Headers'];
          delete responseHeaders['Access-Control-Expose-Headers'];

          var responseHeadersString = JSON.stringify(responseHeaders);
          var responseStatusCode = apim.getvariable('message.status.code');
          var responseStatusReason = apim.getvariable('message.status.reason');
          //calculate time elapsed
          var apiStartTimeMS = apim.getvariable('apiStartTimeMS');
          var apiEndTimeMS = (new Date()).getTime();
          var totalTimeElapsed = (apiEndTimeMS - apiStartTimeMS) + " ms";
          var logString = "type:=response"
                          + " | system-datetime:=" +        systemDateTime
                          + " | apic-transaction-id:=" +    apicTxId
                          + " | global-transaction-id:=" +  xGlobalTxId
                          + " | request-uri:=" +            requestURI
                          + apim.getvariable('logString')
                          + " | response-http-headers:=" +  responseHeadersString
                          + " | response-status-code:=" +   responseStatusCode
                          + " | response-status-reason:=" + responseStatusReason
                          + " | total-time-elapsed:=" +     totalTimeElapsed;
                          ;
          console.log(logString);
    catch:
    - errors:
      - ConnectionError
      - InvalidMsisdn
      - InvalidDeviceType
      - InvalidAuthCode
      - InvalidCorrelator
      - InvalidDisambiguationID
      - InvalidAccessToken
      - InvalidContentType
      - InvalidAccountID
      - InvalidProductValue
      - InvalidClientId
      - InvalidUserId
      - default
      execute:
      - gatewayscript:
          title: GS-ErrorHandling
          version: 1.0.0
          source: |-
            /* ****************************************************************************************************************** */
            /* ****************************************************************************************************************** */
            /* FileName                           Version    Created By                  Modified By               Date           */
            /* Errorhandling.js                   1.0        Dinesh Tomar                                          07-May-2018    */
            /*                                                                                                                    */
            /* ****************************************************************************************************************** */
            /* Purpose: This GW Script file will read error config for the catch block error name and will set the necessary      */
            /*          params like status code, reason phrase and will return the error json                                     */
            /* Required params: errorName                                                                                         */
            /* ****************************************************************************************************************** */
            var urlOpen = require('urlopen');
            //form url for to fetch errorConfig JSON
            var requestURL = apim.getvariable('request.uri');
            var orgName = apim.getvariable('api.org.name');
            var hostName = requestURL.substr(0, requestURL.indexOf(orgName));
            var catalog = apim.getvariable('env.path');
            var errorConfigURL = hostName+orgName+'/'+catalog+'/'+'config/errorconfig';
            var clientId = apim.getvariable('client.app.id');
            var errorConfigURLOptions = {
                target: errorConfigURL,
                sslClientProfile: 'api-sslcli-all',
                headers: {'x-ibm-client-id': clientId, 'content-type': 'application/json' }
            };
            //fetch errorName and errorConfig JSON from context variables
            urlOpen.open(errorConfigURLOptions, function (error, response) {
                if (error) {
                    throw error;
                } else {
                    response.readAsJSON(function (error, errorConfigJSON) {
                        if (error) {
                            throw error;
                        } else {
                            var errorName = apim.getvariable('errorName');
                            if (errorName == null && apim.getvariable('message.status.code') == null) {
                                errorName = 'default';
                            } else if (errorName == null && apim.getvariable('message.status.reason') != null && apim.getvariable('message.status.reason').startsWith('APIC:') ) {
                                errorName = 'default';
                                apim.setvariable('message.status.code', apim.getvariable('message.status.code'));
                                apim.setvariable('message.status.reason', apim.getvariable('message.status.reason'));
                                apim.setvariable('message.body', apim.getvariable('message.body'));
                            } else {
                                //fetch specific block from error config JSON
                                if (! isJSONEmpty(errorConfigJSON)) {
                                    var errorDetails = errorConfigJSON.errorConfig.errorTypes[errorName];
                                    var statusCode = errorDetails.statusCode;
                                    var reasonPhrase = errorDetails.reasonPhrase;
                                    var errorMessage = errorDetails.errorMessage;
                                    apim.setvariable('message.headers.content-type', 'application/json');
                                    apim.setvariable('message.status.code', statusCode);
                                    apim.setvariable('message.status.reason', reasonPhrase);
                                    apim.setvariable('message.body', errorMessage);
                                }
                                //else block executes in case error config file is not loaded. it will set a default error message
                                else {
                                    apim.setvariable('message.headers.content-type', 'application/json');
                                    apim.setvariable('message.status.code', 500);
                                    apim.setvariable('message.status.reason', 'Internal Server Error');
                                    apim.setvariable('message.body', {
                                        "error": "Something went wrong"
                                    });
                                }
                            }
                        }
                    });
                }
            });

            //below function checks if json object is null or not
            function isJSONEmpty(jsonObject) {
                var member;
                var result = true;
                for (member in jsonObject) {
                    if (jsonObject[member] != null) {
                        result = false;
                    }
                }
                return result;
            }
      - gatewayscript:
          title: GS-ExtractErrorLoggingData
          version: 1.0.0
          source: "/* *************************************************************************************************************
            */\n/* *************************************************************************************************************
            */\n/* FileName                      Version    Created By                  Modified
            By               Date           */\n/* ExtractErrorLoggingData.js    1.0
            \       Dinesh Tomar                                          06-July-2018
            \  */\n/*                                                                                                               */\n/*
            *************************************************************************************************************
            */\n/* Purpose: This GW Script will extract error metadata for logging
            \                                              */\n/*                                                                                                               */\n/*
            Required params:                                                                                              */\n/*
            ***************************************************************************************************************/\n//Extract
            general metadata from system variables\nvar systemDateTime = apim.getvariable('system.datetime');\nvar
            apicTxId = apim.getvariable('apic-transaction-id');\nvar xGlobalTxId =
            apim.getvariable('request.headers.x-global-transaction-id');\nvar requestURI
            = apim.getvariable('request.uri');\n\n//Extract response metadata from
            system variables\nvar responseHeaders = apim.getvariable('message.headers');\n\ndelete
            responseHeaders['Accept-Encoding'];\ndelete responseHeaders['X-Global-Transaction-ID'];\ndelete
            responseHeaders['User-Agent'];\ndelete responseHeaders['Via'];\ndelete
            responseHeaders['x-authcode'];\ndelete responseHeaders['authorization'];\ndelete
            responseHeaders['Access-Control-Allow-Methods'];\ndelete responseHeaders['Access-Control-Allow-Origin'];\ndelete
            responseHeaders['Access-Control-Allow-Headers'];\ndelete responseHeaders['Access-Control-Expose-Headers'];\n\nvar
            responseHeadersString = JSON.stringify(responseHeaders);\nvar responseStatusCode
            = apim.getvariable('message.status.code');\nvar responseStatusReason =
            apim.getvariable('message.status.reason');\nvar errorName = apim.getvariable('errorName');\n//calculate
            time elapsed\nvar apiStartTimeMS = apim.getvariable('apiStartTimeMS');\nvar
            apiEndTimeMS = (new Date()).getTime();\nvar totalTimeElapsed = (apiEndTimeMS
            - apiStartTimeMS) + \" ms\";\n\nvar logString = \"type:=error\"\n                +
            \" | system-datetime:=\" +        systemDateTime\n                + \"
            | apic-transaction-id:=\" +    apicTxId\n                + \" | global-transaction-id:=\"
            +  xGlobalTxId\n                + \" | request-uri:=\" +            requestURI\n
            \               + apim.getvariable('logString')\n                + \"
            | response-http-headers:=\" +  responseHeadersString\n                +
            \" | response-status-code:=\" +   responseStatusCode\n                +
            \" | response-status-reason:=\" + responseStatusReason\n                +
            \" | error-name:=\" +             errorName\n                + \" | total-time-elapsed:=\"
            +     totalTimeElapsed;\n                \nconsole.log(logString);\n\n"
  gateway: datapower-gateway
  type: rest
tags: []
definitions:
  getNonDataAllowance_2_request:
    description: ""
    type: object
    properties:
      getNonDataAllowance_2:
        type: object
        properties:
          account:
            type: object
            properties:
              accountDetail:
                type: object
                properties:
                  billingAccountType:
                    type: string
                    xml:
                      namespace: ""
                  accountNumber:
                    type: string
                    xml:
                      namespace: ""
                  msisdn:
                    type: string
                    xml:
                      namespace: ""
                xml:
                  namespace: ""
        xml:
          namespace: http://soa.o2.co.uk/viewallowancedata_2
          prefix: ns2
    xml:
      namespace: ""
    example: "<ns2:getNonDataAllowance_2 xmlns:ns2=\"http://soa.o2.co.uk/viewallowancedata_2\"
      xmlns=\"http://soa.o2.co.uk/coredata_1\" xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\">\n<ns2:account>\n<accountDetail>\n<billingAccountType>MOBILE</billingAccountType>\n<accountNumber>1035059950</accountNumber>\n<msisdn>447568594137</msisdn>\n</accountDetail>\n</ns2:account>\n</ns2:getNonDataAllowance_2> "
  phoneservice_paym_response:
    description: ""
    type: object
    properties:
      productId:
        type: object
        properties:
          type:
            type: string
          value:
            type: string
      accountId:
        type: string
      alwaysOn:
        type: boolean
      rollOverEnabledTariff:
        type: boolean
      isCCA:
        type: boolean
      isSharedTariff:
        type: boolean
    example: |-
      {
          "productId": {
              "type": "phone_number",
              "value": "+447000000009"
          },
          "accountId": "447000000009",
          "alwaysOn": false,
          "rollOverEnabledTariff": false,
          "isCCA": false,
          "isSharedTariff": false
      }
  ViewAllowance-MinutesResponse:
    description: ""
    type: object
    properties:
      allowances:
        type: array
        items:
          properties:
            description:
              type: string
            unlimited:
              type: boolean
            restricted:
              type: boolean
            starting_balance:
              type: string
            allowance_used:
              type: string
            allowance_remaining:
              type: string
            percent_allowance_used:
              type: number
            expiry_date:
              type: string
            restriction_category:
              type: string
          type: object
      footer_message:
        type: string
      allowance_footer_message:
        type: string
      threshold_percentage:
        type: number
    example: |-
      {
         "allowances": [   {
            "description": "Anytime, any network minutes",
            "unlimited": true,
            "restricted": false,
            "starting_balance": "Unlimited",
            "allowance_used": "null",
            "allowance_remaining": "null",
            "percent_allowance_used": 0,
            "expiry_date": "04.08.2018",
            "restriction_category": "UNRES"
         }],
         "footer_message": "All UK calls will be updated within 12 hours.",
         "allowance_footer_message": "UK data use will be updated within 30 minutes.
      Data used in our Europe Zone may take up to 24 hours. Minutes and texts in the UK and our Europe Zone usually update within 24 hours but international calls may take longer.",
         "threshold_percentage": 80

      }
  getNonDataAllowance_2_Response:
    description: ""
    type: object
    properties:
      definitions:
        type: object
        properties:
          types:
            type: object
            properties:
              schema:
                type: object
                properties:
                  import:
                    type: object
                    properties:
                      namespace:
                        type: string
                        xml:
                          attribute: true
                      schemaLocation:
                        type: string
                        xml:
                          attribute: true
                  element:
                    type: array
                    items:
                      properties:
                        annotation:
                          type: object
                          properties:
                            documentation:
                              type: string
                        name:
                          type: string
                          xml:
                            attribute: true
                        type:
                          type: string
                          xml:
                            attribute: true
                      type: object
                  complexType:
                    type: array
                    items:
                      properties:
                        annotation:
                          type: object
                          properties:
                            documentation:
                              type: string
                        sequence:
                          type: object
                          properties:
                            element:
                              type: array
                              items:
                                properties:
                                  name:
                                    type: string
                                    xml:
                                      attribute: true
                                  type:
                                    type: string
                                    xml:
                                      attribute: true
                                  minOccurs:
                                    type: string
                                    xml:
                                      attribute: true
                                  maxOccurs:
                                    type: string
                                    xml:
                                      attribute: true
                                type: object
                        name:
                          type: string
                          xml:
                            attribute: true
                      type: object
                  simpleType:
                    type: array
                    items:
                      properties:
                        annotation:
                          type: object
                          properties:
                            documentation:
                              type: string
                        restriction:
                          type: object
                          properties:
                            maxLength:
                              type: object
                              properties:
                                value:
                                  type: string
                                  xml:
                                    attribute: true
                            base:
                              type: string
                              xml:
                                attribute: true
                        name:
                          type: string
                          xml:
                            attribute: true
                      type: object
                  elementFormDefault:
                    type: string
                    xml:
                      attribute: true
                  targetNamespace:
                    type: string
                    xml:
                      attribute: true
                  attributeFormDefault:
                    type: string
                    xml:
                      attribute: true
                xml:
                  namespace: http://www.w3.org/2001/XMLSchema
                  prefix: xsd
          message:
            type: array
            items:
              properties:
                part:
                  type: object
                  properties:
                    name:
                      type: string
                      xml:
                        attribute: true
                    element:
                      type: string
                      xml:
                        attribute: true
                name:
                  type: string
                  xml:
                    attribute: true
              type: object
          portType:
            type: object
            properties:
              operation:
                type: array
                items:
                  properties:
                    input:
                      type: object
                      properties:
                        name:
                          type: string
                          xml:
                            attribute: true
                        message:
                          type: string
                          xml:
                            attribute: true
                    output:
                      type: object
                      properties:
                        name:
                          type: string
                          xml:
                            attribute: true
                        message:
                          type: string
                          xml:
                            attribute: true
                    fault:
                      type: object
                      properties:
                        name:
                          type: string
                          xml:
                            attribute: true
                        message:
                          type: string
                          xml:
                            attribute: true
                    name:
                      type: string
                      xml:
                        attribute: true
                  type: object
              name:
                type: string
                xml:
                  attribute: true
          binding:
            type: object
            properties:
              binding:
                type: object
                properties:
                  style:
                    type: string
                    xml:
                      attribute: true
                  transport:
                    type: string
                    xml:
                      attribute: true
                xml:
                  namespace: http://schemas.xmlsoap.org/wsdl/soap/
                  prefix: soap
              operation:
                type: array
                items:
                  properties:
                    operation:
                      type: object
                      properties:
                        soapAction:
                          type: string
                          xml:
                            attribute: true
                      xml:
                        namespace: http://schemas.xmlsoap.org/wsdl/soap/
                        prefix: soap
                    input:
                      type: object
                      properties:
                        body:
                          type: object
                          properties:
                            parts:
                              type: string
                              xml:
                                attribute: true
                            use:
                              type: string
                              xml:
                                attribute: true
                          xml:
                            namespace: http://schemas.xmlsoap.org/wsdl/soap/
                            prefix: soap
                        name:
                          type: string
                          xml:
                            attribute: true
                    output:
                      type: object
                      properties:
                        body:
                          type: object
                          properties:
                            parts:
                              type: string
                              xml:
                                attribute: true
                            use:
                              type: string
                              xml:
                                attribute: true
                          xml:
                            namespace: http://schemas.xmlsoap.org/wsdl/soap/
                            prefix: soap
                        name:
                          type: string
                          xml:
                            attribute: true
                    fault:
                      type: object
                      properties:
                        fault:
                          type: object
                          properties:
                            name:
                              type: string
                              xml:
                                attribute: true
                            use:
                              type: string
                              xml:
                                attribute: true
                          xml:
                            namespace: http://schemas.xmlsoap.org/wsdl/soap/
                            prefix: soap
                        name:
                          type: string
                          xml:
                            attribute: true
                    name:
                      type: string
                      xml:
                        attribute: true
                  type: object
              name:
                type: string
                xml:
                  attribute: true
              type:
                type: string
                xml:
                  attribute: true
          service:
            type: object
            properties:
              port:
                type: object
                properties:
                  address:
                    type: object
                    properties:
                      location:
                        type: string
                        xml:
                          attribute: true
                    xml:
                      namespace: http://schemas.xmlsoap.org/wsdl/soap/
                      prefix: soap
                  name:
                    type: string
                    xml:
                      attribute: true
                  binding:
                    type: string
                    xml:
                      attribute: true
              name:
                type: string
                xml:
                  attribute: true
          targetNamespace:
            type: string
            xml:
              attribute: true
          name:
            type: string
            xml:
              attribute: true
        xml:
          namespace: http://schemas.xmlsoap.org/wsdl/
          prefix: wsdl
    xml:
      namespace: ""
    example: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!-- \t\t\t\t\t\t\t\t\t\t\t\t\t
      \           \t\t\t\t\t\t\r\n\tDate\t\t\tChange\t\tAuthor\t\t\tChange Description
      \     \t\t\t\t\t\t\r\n\t10/10/2011\t\t2.0.3\t\tSubramanyam\t\tAdded new operations
      getAllowance_2 & getNonDataAllowance_2.\t\r\n\t12/01/2011\t\t2.0.2\t\tSubramanyam\t\tAdded
      operation Versioning getDataAllowance & getNonDataAllowance.\r\n\t20/12/2010
      \    \t2.0.1\t    Subramanyam    \tAdded two new operations getDataAllowance
      and getNonDataAllowance.\t\r\n\t17/08/2010     \t2.0.0\t    Arjun    \t\tInitial
      Version   \t\r\n-->\r\n<wsdl:definitions name=\"ViewAllowance\"\r\n\ttargetNamespace=\"http://soa.o2.co.uk/viewallowanceservice_2\"\r\n\txmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\"\r\n\txmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"\r\n\txmlns:val=\"http://soa.o2.co.uk/viewallowanceservice_2\"\r\n\txmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\">\r\n\t<wsdl:types>\r\n\t\t<xsd:schema
      targetNamespace=\"http://soa.o2.co.uk/viewallowancedata_2\"\r\n\telementFormDefault=\"qualified\"
      attributeFormDefault=\"unqualified\"\r\n\txmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\r\n\txmlns:xcore=\"http://soa.o2.co.uk/coredata_1\"\r\n\txmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\">\r\n\r\n\t<xsd:import
      namespace=\"http://soa.o2.co.uk/coredata_1\"\r\n\t\tschemaLocation=\"coredata_1_1.xsd\"
      />\r\n\t<xsd:element name=\"getAllowance\" type=\"vad:getAllowance\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      request element for the getAllowance operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getAllowanceResponse\" type=\"vad:getAllowanceResponse\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      response element for the getAllowance operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getAllowanceFault\" type=\"xcore:SOAFaultType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>Fault
      from getAllowance operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getDataAllowance_1\" type=\"vad:getDataAllowance_1\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      request element for the getAllowance operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getDataAllowance_1Response\" type=\"vad:getDataAllowance_1Response\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      response element for the getAllowance operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getDataAllowance_1Fault\" type=\"xcore:SOAFaultType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>Fault
      from getAllowance operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getNonDataAllowance_1\" type=\"vad:getNonDataAllowance_1\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      request element for the getAllowance operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getNonDataAllowance_1Response\" type=\"vad:getNonDataAllowance_1Response\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      response element for the getAllowance operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getNonDataAllowance_1Fault\" type=\"xcore:SOAFaultType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>Fault
      from getAllowance operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getAllowance_2\" type=\"vad:getAllowance_2\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      request element for the getAllowance_2 operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getAllowance_2Response\" type=\"vad:getAllowance_2Response\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      response element for the getAllowance_2 operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getAllowance_2Fault\" type=\"xcore:SOAFaultType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>Fault
      from getAllowance_2 operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getNonDataAllowance_2\" type=\"vad:getNonDataAllowance_2\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      request element for the getNonDataAllowance_2 operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getNonDataAllowance_2Response\" type=\"vad:getNonDataAllowance_2Response\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      response element for the getNonDataAllowance_2 operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\r\n\t<xsd:element
      name=\"getNonDataAllowance_2Fault\" type=\"xcore:SOAFaultType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>Fault
      from getNonDataAllowance_2 operation.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t</xsd:element>\t\t\t\t\r\n\t<xsd:complexType
      name=\"getAllowance\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tA
      complex type holding the keys to retrieve both airtime\r\n\t\t\t\tand data allowances
      and usage details.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"account\" type=\"xcore:accountType\" />\r\n\t\t\t<xsd:element name=\"allowanceCategory\"
      type=\"vad:allowanceCategoryType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\r\n\t\t\t<xsd:element
      name=\"dataSource\" type=\"vad:dataSourceType\" minOccurs=\"0\"/>\r\n\t\t\t<xsd:element
      name=\"productList\" type=\"vad:productListType\" minOccurs=\"0\" />\r\n\t\t\t<xsd:element
      name=\"returnAllowanceByBundleType\" type=\"vad:typeYesOrNo\" maxOccurs=\"1\"
      minOccurs=\"0\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"getAllowanceResponse\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tThe
      service response, contains multiple allowances.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"accountAllowances\" minOccurs=\"0\"\r\n\t\t\t\ttype=\"vad:accountAllowancesType\"
      />\r\n\t\t\t<xsd:element name=\"msisdnAllowances\" minOccurs=\"0\"\r\n\t\t\t\ttype=\"vad:msisdnAllowances\"
      />\r\n\t\t\t<xsd:element name=\"chargingType\" type=\"xsd:string\" minOccurs=\"0\"
      maxOccurs=\"unbounded\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"getDataAllowance_1\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tA
      complex type holding the keys to retrieve data allowance usage details.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n
      \           <xsd:element name=\"account\" type=\"xcore:accountType\" />\r\n
      \           <xsd:element name=\"dataSource\" type=\"vad:dataSourceType\" minOccurs=\"0\"/>\r\n\t\t\t<xsd:element
      name=\"productList\" type=\"vad:productListType\" minOccurs=\"0\" />\r\n\t\t\t<xsd:element
      name=\"returnAllowanceByBundleType\" type=\"vad:typeYesOrNo\" maxOccurs=\"1\"
      minOccurs=\"0\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"getDataAllowance_1Response\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tThe
      service response, contains multiple allowances.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"accountAllowances\" minOccurs=\"0\"\r\n\t\t\t\ttype=\"vad:accountAllowancesType\"
      />\r\n\t\t\t<xsd:element name=\"msisdnLevelAllowances\" minOccurs=\"0\"\r\n\t\t\t\ttype=\"vad:msisdnLevelDataAllowancesType\"
      />\r\n\t\t\t<xsd:element name=\"chargingType\" type=\"xsd:string\" minOccurs=\"0\"
      maxOccurs=\"1\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"getNonDataAllowance_1\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tA
      complex type holding the keys to retrieve both airtime\r\n\t\t\t\tand data allowances
      and usage details.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"account\" type=\"xcore:accountType\" />\r\n\t\t\t<xsd:element name=\"allowanceCategory\"
      type=\"vad:allowanceCategoryType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\t\t\t\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"getNonDataAllowance_1Response\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tThe
      service response, contains multiple allowances.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"accountAllowances\" minOccurs=\"0\"\r\n\t\t\t\ttype=\"vad:accountAllowancesType\"
      />\r\n\t\t\t<xsd:element name=\"msisdnLevelAllowances\" minOccurs=\"0\"\r\n\t\t\t\ttype=\"vad:msisdnLevelNonDataAllowancesType\"
      />\r\n\t\t\t<xsd:element name=\"chargingType\" type=\"xsd:string\" minOccurs=\"0\"
      maxOccurs=\"unbounded\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"getAllowance_2\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tA
      complex type holding the keys to retrieve both airtime\r\n\t\t\t\tand data allowances
      and usage details.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"account\" type=\"xcore:accountType\" />\r\n\t\t\t<xsd:element name=\"allowanceCategory\"
      type=\"vad:allowanceCategoryType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\r\n\t\t\t<xsd:element
      name=\"dataSource\" type=\"vad:dataSourceType\" minOccurs=\"0\"/>\r\n\t\t\t<xsd:element
      name=\"productList\" type=\"vad:productListType\" minOccurs=\"0\" />\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"getAllowance_2Response\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tThe
      service response, contains multiple allowances.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n
      \           <xsd:element name=\"accountNumber\" type=\"xcore:billingAccountNumberType\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThe
      Companion account number for this number (if\r\n\t\t\t\t\t\trelevant).\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n
      \           <xsd:element name=\"accountAllowances\" minOccurs=\"0\" type=\"vad:accountAllowances_2Type\"
      />\r\n\t\t\t<xsd:element name=\"msisdnAllowances\" minOccurs=\"0\" type=\"vad:msisdnAllowances_2Type\"
      />\r\n\t\t\t<xsd:element name=\"chargingType\" type=\"xsd:string\" minOccurs=\"0\"
      maxOccurs=\"unbounded\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"getNonDataAllowance_2\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tA
      complex type holding the keys to retrieve both airtime\r\n\t\t\t\tand data allowances
      and usage details.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"account\" type=\"xcore:accountType\" />\r\n\t\t\t<xsd:element name=\"allowanceCategory\"
      type=\"vad:allowanceCategoryType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\t\t\t\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"getNonDataAllowance_2Response\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tThe
      service response, contains multiple allowances.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n
      \          <xsd:element name=\"accountNumber\" type=\"xcore:billingAccountNumberType\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThe
      Companion account number for this number (if\r\n\t\t\t\t\t\trelevant).\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\t\r\n\t\t\t<xsd:element
      name=\"accountAllowances\" minOccurs=\"0\"\r\n\t\t\t\ttype=\"vad:accountAllowances_2Type\"
      />\r\n\t\t\t<xsd:element name=\"msisdnLevelNonDataAllowances\" minOccurs=\"0\"\r\n\t\t\t\ttype=\"vad:msisdnNonDataAllowances_2Type\"
      />\r\n\t\t\t<xsd:element name=\"chargingType\" type=\"xsd:string\" minOccurs=\"0\"
      maxOccurs=\"unbounded\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\t\r\n\t<xsd:complexType
      name=\"accountAllowancesType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      shared across mobiles on an account.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"accountNumber\"\r\n\t\t\t\ttype=\"xcore:billingAccountNumberType\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThe
      Companion account number for this number (if\r\n\t\t\t\t\t\trelevant).\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"allowance\" type=\"vad:allowanceType\" minOccurs=\"0\"\r\n\t\t\t\tmaxOccurs=\"unbounded\"
      />\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType name=\"msisdnAllowances\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      relevant to MSISDN.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"msisdn\" type=\"xcore:msisdnType\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThe
      mobile phone that the information is about.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"voiceAllowances\" type=\"vad:voiceAllowancesType\" minOccurs=\"0\" />\r\n\t\t\t<xsd:element
      name=\"messageAllowances\" type=\"vad:messageAllowancesType\" minOccurs=\"0\"
      />\r\n\t\t\t<xsd:element name=\"dataAllowances\" type=\"vad:dataAllowances_2Type\"
      minOccurs=\"0\" />\r\n\t\t\t<xsd:element name=\"unlimitedAllowances\" type=\"vad:unlimitedAllowancesType\"
      minOccurs=\"0\" />\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"msisdnLevelDataAllowancesType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      relevant to MSISDN.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"msisdn\" type=\"xcore:msisdnType\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThe
      mobile phone that the information is about.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"dataAllowances\" type=\"vad:dataAllowancesType\" minOccurs=\"0\" />\r\n\t\t\t<xsd:element
      name=\"dataAllowancesByBundleType\" type=\"vad:dataAllowancesByBundleTypeType\"
      minOccurs=\"0\" maxOccurs=\"1\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\t\r\n\t<xsd:complexType
      name=\"msisdnLevelNonDataAllowancesType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      relevant to MSISDN.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"msisdn\" type=\"xcore:msisdnType\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThe
      mobile phone that the information is about.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"voiceAllowances\" type=\"vad:voiceAllowancesType\" minOccurs=\"0\" />\r\n\t\t\t<xsd:element
      name=\"messageAllowances\" type=\"vad:messageAllowancesType\" minOccurs=\"0\"
      />\r\n\t\t\t<xsd:element name=\"unlimitedAllowances\" type=\"vad:unlimitedAllowancesType\"
      minOccurs=\"0\" />\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\t\t\r\n\t<xsd:complexType
      name=\"voiceAllowancesType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      related to voice. Provides an overall initial\r\n\t\t\t\tand remaining allowances
      and also a break down of each\r\n\t\t\t\tallowance\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"totalAllowanceSummary\"\r\n\t\t\t\ttype=\"vad:allowanceSummaryType\"/>\r\n\t\t\t<xsd:element
      name=\"allowance\"\r\n\t\t\t\ttype=\"vad:allowanceType\" maxOccurs=\"unbounded\"
      />\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType name=\"messageAllowancesType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      related to message that includes SMS and MMS.\r\n\t\t\t\tProvides an overall
      initial and remaining allowances and\r\n\t\t\t\talso a break down of each allowance\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"totalAllowanceSummary\"\r\n\t\t\t\ttype=\"vad:allowanceSummaryType\"/>\r\n\t\t\t<xsd:element
      name=\"allowance\"\r\n\t\t\t\ttype=\"vad:allowanceType\" maxOccurs=\"unbounded\"
      />\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType name=\"dataAllowancesType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      related to data in KB. Provides an overall\r\n\t\t\t\tinitial and remaining
      allowances and also a break down of\r\n\t\t\t\teach allowance\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"totalAllowanceSummary\"\r\n\t\t\t\ttype=\"vad:dataAllowanceSummaryType\"
      minOccurs=\"0\" maxOccurs=\"unbounded\" />\r\n\t\t\t<xsd:element name=\"allowance\"
      type=\"vad:allowanceType\" minOccurs=\"0\" maxOccurs=\"unbounded\" />\r\n\t\t\t\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"allowanceSummaryType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tProvides
      the total of allowances summary.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"startingBalance\" type=\"xsd:integer\">\r\n\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>Total
      initial number of unit provided by the product.</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"allowanceUsed\" type=\"xsd:integer\">\r\n\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>Total
      number of units used in the current month.</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"allowanceRemaining\" type=\"xsd:integer\" minOccurs=\"0\">\r\n\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>Total
      number of units available to use.</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"dataAllowanceSummaryType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>Provides
      the total of data allowances summary.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:complexContent>\r\n\t\t\t<xsd:extension
      base=\"vad:allowanceSummaryType\">\r\n\t\t\t\t<xsd:sequence>\r\n\t\t\t\t\t<xsd:element
      name=\"dataThresholdType\" type=\"xsd:string\" maxOccurs=\"1\" minOccurs=\"0\">\r\n\t\t\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t\t\t<xsd:documentation>The
      data allowance threshold category. \r\n\t\t\t\t\t\t\tExample values are:DomesticM,DomesticD,EuQuota,RoWQuota.</xsd:documentation>\r\n\t\t\t\t\t\t</xsd:annotation>\r\n\t\t\t\t\t</xsd:element>\r\n\t\t\t\t\t<xsd:element
      name=\"startDate\" type=\"xsd:dateTime\" maxOccurs=\"1\" minOccurs=\"0\">\r\n\t\t\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t\t\t<xsd:documentation>The
      allowance start date.</xsd:documentation>\r\n\t\t\t\t\t\t</xsd:annotation>\r\n\t\t\t\t\t</xsd:element>\r\n\t\t\t\t\t<xsd:element
      name=\"renewalDate\" type=\"xsd:date\" maxOccurs=\"1\" minOccurs=\"0\">\r\n\t\t\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t\t\t<xsd:documentation>The
      allowance renewal date.</xsd:documentation>\r\n\t\t\t\t\t\t</xsd:annotation>\r\n\t\t\t\t\t</xsd:element>\r\n\t\t\t\t\t<xsd:element
      name=\"timestamp\" type=\"xsd:dateTime\" maxOccurs=\"1\" minOccurs=\"0\">\r\n\t\t\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t\t\t<xsd:documentation>The
      date and time in which the allowance retrieved was valid.</xsd:documentation>\r\n\t\t\t\t\t\t</xsd:annotation>\r\n\t\t\t\t\t</xsd:element>\r\n\t\t\t\t</xsd:sequence>\r\n\t\t\t</xsd:extension>\r\n\t\t</xsd:complexContent>\t\t\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"allowanceType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tA
      set of allowances that are included as part of a \"product\".\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"productCode\" minOccurs=\"0\"\r\n\t\t\t\ttype=\"vad:productCode\" />\r\n\t\t\t<xsd:element
      name=\"productName\" type=\"xsd:string\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tMarketing
      name of the product providing the allowance.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"productType\" type=\"vad:productType\" />\r\n\t\t\t<xsd:element name=\"productDescription\"
      type=\"xsd:string\"\r\n\t\t\t\tminOccurs=\"0\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tTextual
      description of the product. Typically includes\r\n\t\t\t\t\t\tthe number and
      type of allowances included with the\r\n\t\t\t\t\t\tproduct.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"expiryDate\" type=\"xsd:date\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tDate
      on which the allowance expires.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"suspended\" type=\"xsd:boolean\" minOccurs=\"0\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tFlag
      indicating whether the product (and by implication\r\n\t\t\t\t\t\tthe allowances
      provided by the product) are temporarily\r\n\t\t\t\t\t\tsuspended. This may
      be due (for example) to insufficient\r\n\t\t\t\t\t\tbalance to recharge the
      allowance. If the element is not\r\n\t\t\t\t\t\tincluded the product (and allowances)
      are currently\r\n\t\t\t\t\t\tactive.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"allowanceDetail\" type=\"vad:allowanceDetailType\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tNumerical
      descriptions of allowances delivered as part\r\n\t\t\t\t\t\tof a product. If
      there are no elements, and a\r\n\t\t\t\t\t\tproductDescription element exists,
      then the description\r\n\t\t\t\t\t\tshould be used instead.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"allowanceText\" type=\"xsd:string\"\r\n\t\t\t\tminOccurs=\"0\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThis
      field can be used as an alternative to displaying\r\n\t\t\t\t\t\tallowanceDetail
      elements if it is supplied.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"allowanceDetailType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tUsed
      to denote a product that gives a user an allowance.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"allowanceSummary\" type=\"vad:allowanceSummaryType\"/>\r\n\t\t\t<xsd:element
      name=\"allowanceUnit\" type=\"vad:allowanceUnitType\" />\r\n\t\t\t\r\n\t\t\t<xsd:element
      name=\"restricted\" type=\"xsd:boolean\" minOccurs=\"0\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tIndicates
      whether there are any restrictions on the use\r\n\t\t\t\t\t\tof the units (e.g.
      off-peak, week-ends only, on-net\r\n\t\t\t\t\t\tonly).\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"productListType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>The
      customer current tariff and the list of services present on the account. If
      this is provided then the customer data charging type \r\n\t\t\twould be determined
      using the tariff/services combination.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"tariffProductId\" type=\"xcore:productIDType\" minOccurs=\"1\"/>\r\n\t\t\t<xsd:element
      name=\"services\" type=\"vad:servicesType\" minOccurs=\"0\"/>\t\t\t\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"servicesType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>A
      list of services availalbe on the customer current tariff.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"productId\" type=\"xcore:productIDType\" maxOccurs=\"unbounded\" />\r\n\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"unlimitedAllowancesType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAll
      the unlimited Allowances related to Voice, Text and Data.\t\t\t\t\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"allowance\"\r\n\t\t\t\ttype=\"vad:allowanceType\" maxOccurs=\"unbounded\"
      />\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType name=\"msisdnAllowances_2Type\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      relevant to MSISDN.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"msisdn\" type=\"xcore:msisdnType\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThe
      mobile phone that the information is about.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"allowances\" type=\"vad:allowancesType\" minOccurs=\"0\" maxOccurs=\"1\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"msisdnNonDataAllowances_2Type\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tNon
      data allowances relevant to MSISDN.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"msisdn\" type=\"xcore:msisdnType\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThe
      mobile phone that the information is about.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"allowances\" type=\"vad:allowances_2Type\" minOccurs=\"0\" maxOccurs=\"1\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\t\r\n\t<xsd:complexType
      name=\"allowancesType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      relevant to MSISDN.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"allowance\" type=\"vad:allowance_2Type\" minOccurs=\"0\" maxOccurs=\"unbounded\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tComplex
      structure holding allowance details.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"fairUsageAllowances\" type=\"vad:fairUsageAllowancesType\" minOccurs=\"0\"
      maxOccurs=\"unbounded\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"accountAllowances_2Type\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      shared across mobiles on an account.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"allowance\" type=\"vad:allowance_2Type\" minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tComplex
      structure holding allowance details.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\t\r\n\t<xsd:complexType
      name=\"allowances_2Type\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tFair
      usage and non-fair usage allowances relevant to MSISDN.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"allowance\" type=\"vad:allowance_2Type\" minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tComplex
      structure holding allowance details.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\t\r\n\t<xsd:complexType
      name=\"fairUsageAllowancesType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>Provide
      fair usage allowances summary.</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:complexContent>\r\n\t\t\t<xsd:extension
      base=\"vad:allowanceSummaryType\">\r\n\t\t\t\t<xsd:sequence>\r\n\t\t\t\t\t<xsd:element
      name=\"thresholdType\" type=\"xsd:string\" maxOccurs=\"1\" minOccurs=\"0\">\r\n\t\t\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t\t\t<xsd:documentation>The
      data allowance threshold category. \r\n\t\t\t\t\t\t\tExample values are:DomesticM,DomesticD,EuQuota,RoWQuota.</xsd:documentation>\r\n\t\t\t\t\t\t</xsd:annotation>\r\n\t\t\t\t\t</xsd:element>\r\n\t\t\t\t\t<xsd:element
      name=\"startDate\" type=\"xsd:dateTime\" maxOccurs=\"1\" minOccurs=\"0\">\r\n\t\t\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t\t\t<xsd:documentation>The
      allowance start date.</xsd:documentation>\r\n\t\t\t\t\t\t</xsd:annotation>\r\n\t\t\t\t\t</xsd:element>\r\n\t\t\t\t\t<xsd:element
      name=\"renewalDate\" type=\"xsd:date\" maxOccurs=\"1\" minOccurs=\"0\">\r\n\t\t\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t\t\t<xsd:documentation>The
      allowance renewal date.</xsd:documentation>\r\n\t\t\t\t\t\t</xsd:annotation>\r\n\t\t\t\t\t</xsd:element>\r\n\t\t\t\t\t<xsd:element
      name=\"timestamp\" type=\"xsd:dateTime\" maxOccurs=\"1\" minOccurs=\"0\">\r\n\t\t\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t\t\t<xsd:documentation>The
      date and time in which the allowance retrieved was valid.</xsd:documentation>\r\n\t\t\t\t\t\t</xsd:annotation>\r\n\t\t\t\t\t</xsd:element>\r\n\t\t\t\t</xsd:sequence>\r\n\t\t\t</xsd:extension>\r\n\t\t</xsd:complexContent>\t\t\r\n\t</xsd:complexType>\t\r\n\t<xsd:complexType
      name=\"allowanceDetailsType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      details.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"allowanceDetail\" type=\"vad:allowanceDetailType\" minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThe
      mobile phone that the information is about.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\t\r\n\t<xsd:complexType
      name=\"allowance_2Type\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tA
      set of allowances that are included as part of a \"product\".\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"productId\" type=\"vad:productCode\" minOccurs=\"0\"/>\r\n            <xsd:element
      name=\"allowanceName\" type=\"xsd:string\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tMarketing
      name of the product providing the allowance.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n
      \           <xsd:element name=\"allowanceUnit\" type=\"vad:allowanceUnitType\"
      />\r\n            <xsd:element name=\"shortDescription\" type=\"xsd:string\"
      >\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tShort
      textual description of the product.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element><xsd:element
      name=\"longDescription\" type=\"xsd:string\" >\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tLong
      textual description of the product.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n
      \           <xsd:element name=\"isRestricted\" type=\"xsd:boolean\" />\r\n            <xsd:element
      name=\"restrictionCategory\" type=\"xsd:string\" />\r\n\t\t\t<xsd:element name=\"isUnlimited\"
      type=\"xsd:boolean\" />\r\n\t\t\t<xsd:element name=\"expiryDate\" type=\"xsd:date\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tDate
      on which the allowance expires.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n
      \           <xsd:element name=\"orderIndex\" type=\"xsd:integer\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tDescribes
      the order in which the allowance need to displayed.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>
      \           \r\n            </xsd:element>\t\r\n\t\t\t<xsd:element name=\"allowanceUsageSummary\"
      type=\"vad:allowanceUsageSummaryType\" maxOccurs=\"1\" minOccurs=\"0\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"allowanceUsageSummaryType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tProvides
      the summary of allowances usage.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"startingBalance\" type=\"xsd:integer\">\r\n\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>Total
      initial number of unit provided by the product.</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"allowanceUsed\" type=\"xsd:integer\">\r\n\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>Total
      number of units used in the current month.</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t\t<xsd:element
      name=\"allowanceRemaining\" type=\"xsd:integer\" minOccurs=\"0\">\r\n\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>Total
      number of units available to use.</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:element>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:simpleType
      name=\"productCode\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tSystem
      ID for the product, to aid aggregation (not available for\r\n\t\t\t\tall products).\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:restriction
      base=\"xsd:string\">\r\n\t\t\t<xsd:maxLength value=\"20\" />\r\n\t\t</xsd:restriction>\r\n\t</xsd:simpleType>\r\n\t<xsd:simpleType
      name=\"productType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tThe
      type of allowance (tarrif / bolt-on/ treat)\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:restriction
      base=\"xsd:string\">\r\n\t\t\t<xsd:enumeration value=\"TARIFF\" />\r\n\t\t\t<xsd:enumeration
      value=\"BOLT-ON\" />\r\n\t\t\t<xsd:enumeration value=\"TREAT\" />\r\n\t\t\t<xsd:enumeration
      value=\"OTHER\" />\r\n\t\t</xsd:restriction>\r\n\t</xsd:simpleType>\r\n\t<xsd:simpleType
      name=\"allowanceUnitType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tThe
      unit of measurement for the allowence.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:restriction
      base=\"xsd:string\">\r\n\t\t\t<xsd:enumeration value=\"SECOND\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tAllowance
      values are denominated in voice seconds.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:enumeration>\r\n\t\t\t<xsd:enumeration
      value=\"MESSAGE\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tCombined
      SMS and MMS messages. Note that this will only\r\n\t\t\t\t\t\tbe used where
      the back-end system allows the same\r\n\t\t\t\t\t\tallowance to be used for
      both SMS and MMS. For postpay,\r\n\t\t\t\t\t\t1 MMS equates to 4 units, for
      prepay 3 units.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:enumeration>\r\n\t\t\t<xsd:enumeration
      value=\"KB\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tThe
      unit used to represent any data allowance.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:enumeration>\r\n\t\t\t<xsd:enumeration
      value=\"MMS\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tUnits
      are media messages only. Note this will only be\r\n\t\t\t\t\t\tused where the
      billing system restricts the allowance\r\n\t\t\t\t\t\tfor use only with MMS.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:enumeration>\r\n\t\t\t<xsd:enumeration
      value=\"SMS\">\r\n\t\t\t\t<xsd:annotation>\r\n\t\t\t\t\t<xsd:documentation>\r\n\t\t\t\t\t\tUnits
      are short messaging service units only. Note this\r\n\t\t\t\t\t\twill only be
      used where the billing system restricts the\r\n\t\t\t\t\t\tallowance for use
      only with SMS.\r\n\t\t\t\t\t</xsd:documentation>\r\n\t\t\t\t</xsd:annotation>\r\n\t\t\t</xsd:enumeration>\r\n\t\t</xsd:restriction>\r\n\t</xsd:simpleType>\r\n\t<xsd:simpleType
      name=\"allowanceCategoryType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t
      A simple type to define the type of allowance to retrieve.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:restriction
      base=\"xsd:string\">\r\n\t\t\t<xsd:enumeration value=\"MINUTES\"/>\r\n\t\t\t<xsd:enumeration
      value=\"MESSAGES\"/>\r\n\t\t\t<xsd:enumeration value=\"DATA\"/>\r\n\t\t</xsd:restriction>\r\n\t</xsd:simpleType>\r\n\t<xsd:simpleType
      name=\"dataSourceType\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t
      A simple type to define the the source of the allowances.\r\n\t\t\t If this
      element is not provided then the data allowance\r\n\t\t\t source would be decided
      based on the data charging category by default.\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:restriction
      base=\"xsd:string\">\r\n\t\t\t<xsd:enumeration value=\"BILLING\"/>\r\n\t\t\t<xsd:enumeration
      value=\"FUP\"/>\r\n\t\t</xsd:restriction>\r\n\t</xsd:simpleType>\r\n\t<xsd:complexType
      name=\"dataAllowancesByBundleTypeType\">\r\n\t  <xsd:sequence>\r\n\t   \t<xsd:element
      name =\"dataBundle\" type=\"vad:dataBundleType\" minOccurs=\"1\" maxOccurs=\"unbounded\"/>
      \r\n\t  \t</xsd:sequence>\r\n\t</xsd:complexType>\t\r\n\t<xsd:complexType name=\"dataBundleType\">\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"bundleType\" type=\"xsd:string\"/>\r\n\t\t\t<xsd:element name=\"startingAllowance\"
      type=\"xsd:integer\" maxOccurs=\"1\" minOccurs=\"1\"/>\r\n\t\t\t<xsd:element
      name=\"allowanceUsed\"     type=\"xsd:integer\" maxOccurs=\"1\" minOccurs=\"0\"/>\r\n\t\t\t<xsd:element
      name=\"allowanceRemaining\" type=\"xsd:integer\" maxOccurs=\"1\" minOccurs=\"0\"/>\r\n\t\t\t<xsd:element
      name=\"expiryDate\" type=\"xsd:date\" maxOccurs=\"1\" minOccurs=\"0\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:complexType
      name=\"returnAllowanceByTypeType\">\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"rollOverDetails\" type=\"vad:typeYesOrNo\" maxOccurs=\"1\" minOccurs=\"0\"/>\r\n\t\t\t<xsd:element
      name=\"recurringDetails\" type=\"vad:typeYesOrNo\" maxOccurs=\"1\" minOccurs=\"0\"/>\r\n\t\t\t<xsd:element
      name=\"retrieveAllDetails\" type=\"vad:typeYesOrNo\" maxOccurs=\"1\" minOccurs=\"0\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\r\n\t<xsd:simpleType
      name=\"typeYesOrNo\">\r\n      <xsd:annotation>\r\n         <xsd:documentation>Flag
      indicating whether or not there are outstanding\r\n\t\t\t\treturns on an order
      (Y/N). Field will be N if no returns\r\n\t\t\t\thave been requested.</xsd:documentation>\r\n
      \     </xsd:annotation>\r\n      <xsd:restriction base=\"xsd:string\">\r\n         <xsd:minLength
      value=\"1\"/>\r\n         <xsd:maxLength value=\"1\"/>\r\n         <xsd:enumeration
      value=\"Y\"/>\r\n         <xsd:enumeration value=\"N\"/>\r\n      </xsd:restriction>\r\n
      \  </xsd:simpleType>\r\n   <xsd:complexType name=\"dataAllowances_2Type\">\r\n\t\t<xsd:annotation>\r\n\t\t\t<xsd:documentation>\r\n\t\t\t\tAllowances
      related to data in KB. Provides an overall\r\n\t\t\t\tinitial and remaining
      allowances and also a break down of\r\n\t\t\t\teach allowance\r\n\t\t\t</xsd:documentation>\r\n\t\t</xsd:annotation>\r\n\t\t<xsd:sequence>\r\n\t\t\t<xsd:element
      name=\"totalAllowanceSummary\"\r\n\t\t\t\ttype=\"vad:dataAllowanceSummaryType\"
      minOccurs=\"0\" maxOccurs=\"unbounded\" />\r\n\t\t\t<xsd:element name=\"allowance\"
      type=\"vad:allowanceType\" minOccurs=\"0\" maxOccurs=\"unbounded\" />\r\n\t\t\t<xsd:element
      name=\"dataAllowancesByBundleType\" type=\"vad:dataAllowancesByBundleTypeType\"
      minOccurs=\"0\" maxOccurs=\"1\"/>\r\n\t\t</xsd:sequence>\r\n\t</xsd:complexType>\t\t\t\t\r\n</xsd:schema>\r\n\t</wsdl:types>\r\n\t<wsdl:message
      name=\"getAllowance\">\r\n\t\t<wsdl:part name=\"getAllowance\" element=\"vad:getAllowance\"
      />\r\n\t</wsdl:message>\r\n\t<wsdl:message name=\"getAllowanceResponse\">\r\n\t\t<wsdl:part
      name=\"getAllowanceResponse\"\r\n\t\t\telement=\"vad:getAllowanceResponse\"
      />\r\n\t</wsdl:message>\r\n\t<wsdl:message name=\"getAllowanceFault\">\r\n\t\t<wsdl:part
      name=\"getAllowanceFault\" element=\"vad:getAllowanceFault\" />\r\n\t</wsdl:message>\r\n\t<wsdl:message
      name=\"getDataAllowance_1\">\r\n\t\t<wsdl:part name=\"getDataAllowance_1\" element=\"vad:getDataAllowance_1\"
      />\r\n\t</wsdl:message>\r\n\t<wsdl:message name=\"getDataAllowance_1Response\">\r\n\t\t<wsdl:part
      name=\"getDataAllowance_1Response\"\r\n\t\t\telement=\"vad:getDataAllowance_1Response\"
      />\r\n\t</wsdl:message>\r\n\t<wsdl:message name=\"getDataAllowance_1Fault\">\r\n\t\t<wsdl:part
      name=\"getDataAllowance_1Fault\" element=\"vad:getDataAllowance_1Fault\" />\r\n\t</wsdl:message>\r\n\t<wsdl:message
      name=\"getNonDataAllowance_1\">\r\n\t\t<wsdl:part name=\"getNonDataAllowance_1\"
      element=\"vad:getNonDataAllowance_1\" />\r\n\t</wsdl:message>\r\n\t<wsdl:message
      name=\"getNonDataAllowance_1Response\">\r\n\t\t<wsdl:part name=\"getNonDataAllowance_1Response\"\r\n\t\t\telement=\"vad:getNonDataAllowance_1Response\"
      />\r\n\t</wsdl:message>\r\n\t<wsdl:message name=\"getNonDataAllowance_1Fault\">\r\n\t\t<wsdl:part
      name=\"getNonDataAllowance_1Fault\" element=\"vad:getNonDataAllowance_1Fault\"
      />\r\n\t</wsdl:message>\t\r\n\t<wsdl:message name=\"getAllowance_2\">\r\n\t\t<wsdl:part
      name=\"getAllowance_2\" element=\"vad:getAllowance_2\" />\r\n\t</wsdl:message>\r\n\t<wsdl:message
      name=\"getAllowance_2Response\">\r\n\t\t<wsdl:part name=\"getAllowance_2Response\"\r\n\t\t\telement=\"vad:getAllowance_2Response\"
      />\r\n\t</wsdl:message>\r\n\t<wsdl:message name=\"getAllowance_2Fault\">\r\n\t\t<wsdl:part
      name=\"getAllowance_2Fault\" element=\"vad:getAllowance_2Fault\" />\r\n\t</wsdl:message>\r\n\t<wsdl:message
      name=\"getNonDataAllowance_2\">\r\n\t\t<wsdl:part name=\"getNonDataAllowance_2\"
      element=\"vad:getNonDataAllowance_2\" />\r\n\t</wsdl:message>\r\n\t<wsdl:message
      name=\"getNonDataAllowance_2Response\">\r\n\t\t<wsdl:part name=\"getNonDataAllowance_2Response\"\r\n\t\t\telement=\"vad:getNonDataAllowance_2Response\"
      />\r\n\t</wsdl:message>\r\n\t<wsdl:message name=\"getNonDataAllowance_2Fault\">\r\n\t\t<wsdl:part
      name=\"getNonDataAllowance_2Fault\" element=\"vad:getNonDataAllowance_2Fault\"
      />\r\n\t</wsdl:message>\t\r\n\t<wsdl:portType name=\"ViewAllowancePortType\">\r\n\t\t<wsdl:operation
      name=\"getAllowance\">\r\n\t\t\t<wsdl:input name=\"getAllowance\" message=\"val:getAllowance\"
      />\r\n\t\t\t<wsdl:output name=\"getAllowanceResponse\"\r\n\t\t\t\tmessage=\"val:getAllowanceResponse\"
      />\r\n\t\t\t<wsdl:fault name=\"getAllowanceFault\"\r\n\t\t\t\tmessage=\"val:getAllowanceFault\"
      />\r\n\t\t</wsdl:operation>\r\n\t\t<wsdl:operation name=\"getDataAllowance_1\">\r\n\t\t\t<wsdl:input
      name=\"getDataAllowance_1\" message=\"val:getDataAllowance_1\" />\r\n\t\t\t<wsdl:output
      name=\"getDataAllowance_1Response\"\r\n\t\t\t\tmessage=\"val:getDataAllowance_1Response\"
      />\r\n\t\t\t<wsdl:fault name=\"getDataAllowance_1Fault\"\r\n\t\t\t\tmessage=\"val:getDataAllowance_1Fault\"
      />\r\n\t\t</wsdl:operation>\r\n\t\t<wsdl:operation name=\"getNonDataAllowance_1\">\r\n\t\t\t<wsdl:input
      name=\"getNonDataAllowance_1\" message=\"val:getNonDataAllowance_1\" />\r\n\t\t\t<wsdl:output
      name=\"getNonDataAllowance_1Response\"\r\n\t\t\t\tmessage=\"val:getNonDataAllowance_1Response\"
      />\r\n\t\t\t<wsdl:fault name=\"getNonDataAllowance_1Fault\"\r\n\t\t\t\tmessage=\"val:getNonDataAllowance_1Fault\"
      />\r\n\t\t</wsdl:operation>\r\n\t\t<wsdl:operation name=\"getAllowance_2\">\r\n\t\t\t<wsdl:input
      name=\"getAllowance_2\" message=\"val:getAllowance_2\" />\r\n\t\t\t<wsdl:output
      name=\"getAllowance_2Response\"\r\n\t\t\t\tmessage=\"val:getAllowance_2Response\"
      />\r\n\t\t\t<wsdl:fault name=\"getAllowance_2Fault\"\r\n\t\t\t\tmessage=\"val:getAllowance_2Fault\"
      />\r\n\t\t</wsdl:operation>\r\n\t\t<wsdl:operation name=\"getNonDataAllowance_2\">\r\n\t\t\t<wsdl:input
      name=\"getNonDataAllowance_2\" message=\"val:getNonDataAllowance_2\" />\r\n\t\t\t<wsdl:output
      name=\"getNonDataAllowance_2Response\"\r\n\t\t\t\tmessage=\"val:getNonDataAllowance_2Response\"
      />\r\n\t\t\t<wsdl:fault name=\"getNonDataAllowance_2Fault\"\r\n\t\t\t\tmessage=\"val:getNonDataAllowance_2Fault\"
      />\r\n\t\t</wsdl:operation>\t\t\t\t\t\t\t\t\r\n\t</wsdl:portType>\r\n\t<wsdl:binding
      name=\"ViewAllowanceBinding\"\r\n\t\ttype=\"val:ViewAllowancePortType\">\r\n\t\t<soap:binding
      style=\"document\"\r\n\t\t\ttransport=\"http://schemas.xmlsoap.org/soap/http\"
      />\r\n\t\t<wsdl:operation name=\"getAllowance\">\r\n\t\t\t<soap:operation soapAction=\"\"
      />\r\n\t\t\t<wsdl:input name=\"getAllowance\">\r\n\t\t\t\t<soap:body parts=\"getAllowance\"
      use=\"literal\" />\r\n\t\t\t</wsdl:input>\r\n\t\t\t<wsdl:output name=\"getAllowanceResponse\">\r\n\t\t\t\t<soap:body
      parts=\"getAllowanceResponse\" use=\"literal\" />\r\n\t\t\t</wsdl:output>\r\n\t\t\t<wsdl:fault
      name=\"getAllowanceFault\">\r\n\t\t\t\t<soap:fault name=\"getAllowanceFault\"
      use=\"literal\" />\r\n\t\t\t</wsdl:fault>\r\n\t\t</wsdl:operation>\r\n\t\t<wsdl:operation
      name=\"getDataAllowance_1\">\r\n\t\t\t<soap:operation soapAction=\"\" />\r\n\t\t\t<wsdl:input
      name=\"getDataAllowance_1\">\r\n\t\t\t\t<soap:body parts=\"getDataAllowance_1\"
      use=\"literal\" />\r\n\t\t\t</wsdl:input>\r\n\t\t\t<wsdl:output name=\"getDataAllowance_1Response\">\r\n\t\t\t\t<soap:body
      parts=\"getDataAllowance_1Response\" use=\"literal\" />\r\n\t\t\t</wsdl:output>\r\n\t\t\t<wsdl:fault
      name=\"getDataAllowance_1Fault\">\r\n\t\t\t\t<soap:fault name=\"getDataAllowance_1Fault\"
      use=\"literal\" />\r\n\t\t\t</wsdl:fault>\r\n\t\t</wsdl:operation>\r\n\t\t<wsdl:operation
      name=\"getNonDataAllowance_1\">\r\n\t\t\t<soap:operation soapAction=\"\" />\r\n\t\t\t<wsdl:input
      name=\"getNonDataAllowance_1\">\r\n\t\t\t\t<soap:body parts=\"getNonDataAllowance_1\"
      use=\"literal\" />\r\n\t\t\t</wsdl:input>\r\n\t\t\t<wsdl:output name=\"getNonDataAllowance_1Response\">\r\n\t\t\t\t<soap:body
      parts=\"getNonDataAllowance_1Response\" use=\"literal\" />\r\n\t\t\t</wsdl:output>\r\n\t\t\t<wsdl:fault
      name=\"getNonDataAllowance_1Fault\">\r\n\t\t\t\t<soap:fault name=\"getNonDataAllowance_1Fault\"
      use=\"literal\" />\r\n\t\t\t</wsdl:fault>\r\n\t\t</wsdl:operation>\r\n\t\t<wsdl:operation
      name=\"getAllowance_2\">\r\n\t\t\t<soap:operation soapAction=\"\" />\r\n\t\t\t<wsdl:input
      name=\"getAllowance_2\">\r\n\t\t\t\t<soap:body parts=\"getAllowance_2\" use=\"literal\"
      />\r\n\t\t\t</wsdl:input>\r\n\t\t\t<wsdl:output name=\"getAllowance_2Response\">\r\n\t\t\t\t<soap:body
      parts=\"getAllowance_2Response\" use=\"literal\" />\r\n\t\t\t</wsdl:output>\r\n\t\t\t<wsdl:fault
      name=\"getAllowance_2Fault\">\r\n\t\t\t\t<soap:fault name=\"getAllowance_2Fault\"
      use=\"literal\" />\r\n\t\t\t</wsdl:fault>\r\n\t\t</wsdl:operation>\r\n\t\t<wsdl:operation
      name=\"getNonDataAllowance_2\">\r\n\t\t\t<soap:operation soapAction=\"\" />\r\n\t\t\t<wsdl:input
      name=\"getNonDataAllowance_2\">\r\n\t\t\t\t<soap:body parts=\"getNonDataAllowance_2\"
      use=\"literal\" />\r\n\t\t\t</wsdl:input>\r\n\t\t\t<wsdl:output name=\"getNonDataAllowance_2Response\">\r\n\t\t\t\t<soap:body
      parts=\"getNonDataAllowance_2Response\" use=\"literal\" />\r\n\t\t\t</wsdl:output>\r\n\t\t\t<wsdl:fault
      name=\"getNonDataAllowance_2Fault\">\r\n\t\t\t\t<soap:fault name=\"getNonDataAllowance_2Fault\"
      use=\"literal\" />\r\n\t\t\t</wsdl:fault>\r\n\t\t</wsdl:operation>\t\t\t\t\r\n\t</wsdl:binding>\r\n\t<wsdl:service
      name=\"ViewAllowanceService\">\r\n\t\t<wsdl:port name=\"ViewAllowancePort\"\r\n\t\t\tbinding=\"val:ViewAllowanceBinding\">\r\n\t\t\t<soap:address\r\n\t\t\t\tlocation=\"https://sdpapi.o2.co.uk/services/ViewAllowance_2_0\"
      />\r\n\t\t</wsdl:port>\r\n\t</wsdl:service>\r\n</wsdl:definitions>"
paths:
  /{msisdn}/postpay/allowance/minutes:
    get:
      responses:
        "200":
          description: 200 OK
    parameters:
    - name: msisdn
      type: string
      required: true
      in: path
    - name: x-authcode
      type: string
      required: true
      in: header
    - name: x-device
      type: string
      required: true
      in: header
    - name: x-correlator
      type: string
      required: true
      in: header
    - name: x-user-id
      type: string
      required: true
      in: header
    - name: x-client-id
      type: string
      required: true
      in: header
