swagger: "2.0"
info:
  title: o2apic-novum-postpaycurrentandpendingtariff
  x-ibm-name: o2apic-novum-postpaycurrentandpendingtariff
  version: 1.0.0
host: $(catalog.host)
schemes:
- https
basePath: /apic
produces:
- application/json
consumes:
- application/json
security:
- clientIdHeader: []
securityDefinitions:
  clientIdHeader:
    type: apiKey
    in: header
    name: X-IBM-Client-Id
x-ibm-configuration:
  phase: realized
  testable: true
  enforced: true
  properties:
    target-url:
      value: http://example.com/operation-name
      description: The URL of the target service
      encoded: false
  cors:
    enabled: true
  application-authentication:
    certificate: false
  targets:
    ManagePostpayTariffService:
      swagger: "2.0"
      info:
        title: ManagePostpayTariffService
        description: ""
        x-ibm-name: managepostpaytariffservice
        version: 1.0.0
      schemes:
      - https
      basePath: /ManagePostpayTariffService
      produces:
      - application/xml
      consumes:
      - text/xml
      securityDefinitions:
        clientID:
          type: apiKey
          name: X-IBM-Client-Id
          in: header
          description: ""
      security:
      - clientID: []
      x-ibm-configuration:
        type: wsdl
        wsdl-definition:
          wsdl: 5af305d80cf28f24d498f623
          service: ManagePostpayTariffService
          port: ManagePostpayTariffPort
          soap-version: "1.1"
        assembly:
          execute:
          - proxy:
              title: proxy
              target-url: https://sdpapi.o2.co.uk/services/ManagePostpayTariff_2_0
        gateway: datapower-gateway
        enforced: true
        testable: true
        phase: realized
        cors:
          enabled: true
      paths:
        /getContract:
          post:
            summary: Operation getContract
            description: ""
            operationId: getContract
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/managepostpaytariffdata_2}getContract'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractInput'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractFault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractOutput'
        /getContractRevisions:
          post:
            summary: Operation getContractRevisions
            description: ""
            operationId: getContractRevisions
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/managepostpaytariffdata_2}getContractRevisions'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractRevisionsInput'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractRevisionsFault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractRevisionsOutput'
        /getBusinessPolicies:
          post:
            summary: Operation getBusinessPolicies
            description: ""
            operationId: getBusinessPolicies
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/managepostpaytariffdata_2}getBusinessPolicies'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getBusinessPoliciesInput'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getBusinessPoliciesFault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getBusinessPoliciesOutput'
        /getValidTariffs:
          post:
            summary: Operation getValidTariffs
            description: ""
            operationId: getValidTariffs
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/managepostpaytariffdata_2}getValidTariffs'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffsInput'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffsFault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffsOutput'
        /changeContract:
          post:
            summary: Operation changeContract
            description: ""
            operationId: changeContract
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/managepostpaytariffdata_2}changeContract'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/changeContractInput'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/changeContractFault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/changeContractOutput'
        /cancelContractChange:
          post:
            summary: Operation cancelContractChange
            description: ""
            operationId: cancelContractChange
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/managepostpaytariffdata_2}cancelContractChange'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/cancelContractChangeInput'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/cancelContractChangeFault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/cancelContractChangeOutput'
        /getTariffCompatibleProducts:
          post:
            summary: Operation getTariffCompatibleProducts
            description: ""
            operationId: getTariffCompatibleProducts
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/managepostpaytariffdata_2}getTariffCompatibleProducts'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getTariffCompatibleProductsInput'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getTariffCompatibleProductsFault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getTariffCompatibleProductsOutput'
        /getValidTariffs_2:
          post:
            summary: Operation getValidTariffs_2
            description: ""
            operationId: getValidTariffs_2
            x-ibm-soap:
              soap-action: ""
              soap-operation: '{http://soa.o2.co.uk/managepostpaytariffdata_2}getValidTariffs_2'
            parameters:
            - in: body
              name: body
              required: true
              schema:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffs_2Input'
            responses:
              "500":
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffs_2Fault'
              default:
                description: ""
                schema:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffs_2Output'
      definitions:
        Security:
          xml:
            namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
            prefix: wsse
          type: object
          properties:
            UsernameToken:
              xml:
                namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
                prefix: wsse
              type: object
              properties:
                Username:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
                    prefix: wsse
                  type: string
                Password:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
                    prefix: wsse
                  type: string
                Nonce:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd
                    prefix: wsse
                  type: string
                  properties:
                    EncodingType:
                      xml:
                        namespace: ""
                        attribute: true
                      type: string
                Created:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
                    prefix: wsu
                  type: string
            Timestamp:
              xml:
                namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
                prefix: wsu
              type: object
              properties:
                Created:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
                    prefix: wsu
                  type: string
                Expires:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
                    prefix: wsu
                  type: string
                Id:
                  xml:
                    namespace: http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd
                    prefix: wsu
                    attribute: true
                  type: string
        getContractInput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractHeader'
                Body:
                  type: object
                  properties:
                    getContract:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContract_mtd'
                  required:
                  - getContract
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <mtd:getContract xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1"><!-- mandatory -->
               <mtd:customerId><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </mtd:customerId>
               <mtd:retrieveAdditionalInfo>
                <mtd:sharingInfo>true</mtd:sharingInfo>
                <mtd:allowanceInfo>true</mtd:allowanceInfo>
               </mtd:retrieveAdditionalInfo>
              </mtd:getContract>
             </soapenv:Body>
            </soapenv:Envelope>
        getContractHeader:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/Security'
        getContractOutput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getContractResponse:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractResponse_mtd'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <mtd:getContractResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
               <mtd:currentContract><!-- mandatory -->
                <mtd:startDate>2016-04-18</mtd:startDate>
                <mtd:endDate>2016-04-18</mtd:endDate>
                <mtd:minimumTerm>3</mtd:minimumTerm>
                <mtd:tariff><!-- mandatory -->
                 <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                 <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                 <ns2:TariffName>string</ns2:TariffName>
                 <ns2:ProductName>string</ns2:ProductName>
                 <ns2:ProductFamily>string</ns2:ProductFamily>
                 <ns2:MonthlyFee>3</ns2:MonthlyFee>
                 <ns2:ProductDescription>string</ns2:ProductDescription>
                 <ns2:ProductClassification>string</ns2:ProductClassification>
                 <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                 <ns2:ProductDefault>true</ns2:ProductDefault>
                 <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                 <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                 <ns2:StartDate>2016-04-18</ns2:StartDate>
                 <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                 <ns2:ProductStatus>string</ns2:ProductStatus>
                 <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                 <ns2:Requester>string</ns2:Requester>
                 <ns2:CutoverProduct>string</ns2:CutoverProduct>
                 <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                  <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                  <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                 </ns2:ProductParameters>
                 <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                  <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                  <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                  <ns2:TariffName>string</ns2:TariffName>
                  <ns2:ProductName>string</ns2:ProductName>
                  <ns2:ProductFamily>string</ns2:ProductFamily>
                  <ns2:MonthlyFee>3</ns2:MonthlyFee>
                  <ns2:ProductDescription>string</ns2:ProductDescription>
                  <ns2:ProductClassification>string</ns2:ProductClassification>
                  <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                  <ns2:ProductDefault>true</ns2:ProductDefault>
                  <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                  <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                  <ns2:StartDate>2016-04-18</ns2:StartDate>
                  <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                  <ns2:ProductStatus>string</ns2:ProductStatus>
                  <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                  <ns2:Requester>string</ns2:Requester>
                  <ns2:CutoverProduct>string</ns2:CutoverProduct>
                  <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                   <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                   <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                  </ns2:ProductParameters>
                  <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                   <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                  </ns2:InclusiveProducts>
                  <ns2:sharingInfo>
                   <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                   <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                   <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                  </ns2:sharingInfo>
                  <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                   <ns2:name><!-- mandatory -->string</ns2:name>
                   <ns2:value><!-- mandatory -->string</ns2:value>
                  </ns2:allowances>
                 </ns2:InclusiveProducts>
                 <ns2:sharingInfo>
                  <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                  <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                  <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                 </ns2:sharingInfo>
                 <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                  <ns2:name><!-- mandatory -->string</ns2:name>
                  <ns2:value><!-- mandatory -->string</ns2:value>
                 </ns2:allowances>
                </mtd:tariff>
                <mtd:billingAccountNumber>string</mtd:billingAccountNumber>
                <mtd:MSISDN>string</mtd:MSISDN>
               </mtd:currentContract>
              </mtd:getContractResponse>
             </soapenv:Body>
            </soapenv:Envelope>
        getContractFault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getContractFault:
                              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractFault_mta'
              required:
              - Body
          required:
          - Envelope
        getContractRevisionsInput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractRevisionsHeader'
                Body:
                  type: object
                  properties:
                    getContractRevisions:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractRevisions_mtd'
                  required:
                  - getContractRevisions
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <mtd:getContractRevisions xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1"><!-- mandatory -->
               <mtd:customerId><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </mtd:customerId>
               <mtd:retrieveAdditionalInfo>
                <mtd:sharingInfo>true</mtd:sharingInfo>
                <mtd:allowanceInfo>true</mtd:allowanceInfo>
               </mtd:retrieveAdditionalInfo>
              </mtd:getContractRevisions>
             </soapenv:Body>
            </soapenv:Envelope>
        getContractRevisionsHeader:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/Security'
        getContractRevisionsOutput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getContractRevisionsResponse:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractRevisionsResponse_mtd'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <mtd:getContractRevisionsResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
               <mtd:MSISDN><!-- mandatory -->string</mtd:MSISDN>
               <mtd:revisedContract>
                <mtd:startDate>2016-04-18</mtd:startDate>
                <mtd:endDate>2016-04-18</mtd:endDate>
                <mtd:minimumTerm>3</mtd:minimumTerm>
                <mtd:tariff><!-- mandatory -->
                 <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                 <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                 <ns2:TariffName>string</ns2:TariffName>
                 <ns2:ProductName>string</ns2:ProductName>
                 <ns2:ProductFamily>string</ns2:ProductFamily>
                 <ns2:MonthlyFee>3</ns2:MonthlyFee>
                 <ns2:ProductDescription>string</ns2:ProductDescription>
                 <ns2:ProductClassification>string</ns2:ProductClassification>
                 <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                 <ns2:ProductDefault>true</ns2:ProductDefault>
                 <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                 <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                 <ns2:StartDate>2016-04-18</ns2:StartDate>
                 <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                 <ns2:ProductStatus>string</ns2:ProductStatus>
                 <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                 <ns2:Requester>string</ns2:Requester>
                 <ns2:CutoverProduct>string</ns2:CutoverProduct>
                 <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                  <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                  <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                 </ns2:ProductParameters>
                 <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                  <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                  <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                  <ns2:TariffName>string</ns2:TariffName>
                  <ns2:ProductName>string</ns2:ProductName>
                  <ns2:ProductFamily>string</ns2:ProductFamily>
                  <ns2:MonthlyFee>3</ns2:MonthlyFee>
                  <ns2:ProductDescription>string</ns2:ProductDescription>
                  <ns2:ProductClassification>string</ns2:ProductClassification>
                  <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                  <ns2:ProductDefault>true</ns2:ProductDefault>
                  <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                  <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                  <ns2:StartDate>2016-04-18</ns2:StartDate>
                  <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                  <ns2:ProductStatus>string</ns2:ProductStatus>
                  <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                  <ns2:Requester>string</ns2:Requester>
                  <ns2:CutoverProduct>string</ns2:CutoverProduct>
                  <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                   <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                   <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                  </ns2:ProductParameters>
                  <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                   <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                  </ns2:InclusiveProducts>
                  <ns2:sharingInfo>
                   <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                   <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                   <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                  </ns2:sharingInfo>
                  <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                   <ns2:name><!-- mandatory -->string</ns2:name>
                   <ns2:value><!-- mandatory -->string</ns2:value>
                  </ns2:allowances>
                 </ns2:InclusiveProducts>
                 <ns2:sharingInfo>
                  <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                  <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                  <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                 </ns2:sharingInfo>
                 <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                  <ns2:name><!-- mandatory -->string</ns2:name>
                  <ns2:value><!-- mandatory -->string</ns2:value>
                 </ns2:allowances>
                </mtd:tariff>
                <mtd:billingAccountNumber>string</mtd:billingAccountNumber>
                <mtd:MSISDN>string</mtd:MSISDN>
               </mtd:revisedContract>
               <mtd:effectiveDate>2016-04-18</mtd:effectiveDate>
               <mtd:cancelToken>3</mtd:cancelToken>
              </mtd:getContractRevisionsResponse>
             </soapenv:Body>
            </soapenv:Envelope>
        getContractRevisionsFault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getContractRevisionsFault:
                              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractRevisionsFault_mta'
              required:
              - Body
          required:
          - Envelope
        getBusinessPoliciesInput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getBusinessPoliciesHeader'
                Body:
                  type: object
                  properties:
                    getBusinessPolicies:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getBusinessPolicies_mtd'
                  required:
                  - getBusinessPolicies
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <mtd:getBusinessPolicies xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1"><!-- mandatory -->
               <mtd:customerId><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </mtd:customerId>
              </mtd:getBusinessPolicies>
             </soapenv:Body>
            </soapenv:Envelope>
        getBusinessPoliciesHeader:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/Security'
        getBusinessPoliciesOutput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getBusinessPoliciesResponse:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getBusinessPoliciesResponse_mtd'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <mtd:getBusinessPoliciesResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
               <mtd:businessPolicies>
                <mtd:businessPolicy><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                 <ns2:Subject><!-- mandatory -->string</ns2:Subject>
                 <ns2:Action><!-- mandatory -->string</ns2:Action>
                 <ns2:ProductId><!-- mandatory -->3</ns2:ProductId>
                 <ns2:Channel><!-- mandatory -->string</ns2:Channel>
                 <ns2:Permitted><!-- mandatory -->true</ns2:Permitted>
                 <ns2:ReasonCode>string</ns2:ReasonCode>
                 <ns2:ReasonMessage>string</ns2:ReasonMessage>
                </mtd:businessPolicy>
               </mtd:businessPolicies>
              </mtd:getBusinessPoliciesResponse>
             </soapenv:Body>
            </soapenv:Envelope>
        getBusinessPoliciesFault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getBusinessPoliciesFault:
                              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getBusinessPoliciesFault_mta'
              required:
              - Body
          required:
          - Envelope
        getValidTariffsInput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffsHeader'
                Body:
                  type: object
                  properties:
                    getValidTariffs:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffs_mtd'
                  required:
                  - getValidTariffs
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <mtd:getValidTariffs xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1"><!-- mandatory -->
               <mtd:customerId><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </mtd:customerId>
               <mtd:overrideRules>true</mtd:overrideRules>
               <mtd:tariffFamily><!-- between zero and unlimited repetitions of this element -->string</mtd:tariffFamily>
               <mtd:retrieveAdditionalInfo>
                <mtd:sharingInfo>true</mtd:sharingInfo>
                <mtd:allowanceInfo>true</mtd:allowanceInfo>
               </mtd:retrieveAdditionalInfo>
              </mtd:getValidTariffs>
             </soapenv:Body>
            </soapenv:Envelope>
        getValidTariffsHeader:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/Security'
        getValidTariffsOutput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getValidTariffsResponse:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffsResponse_mtd'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <mtd:getValidTariffsResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
               <mtd:MSISDN><!-- mandatory -->string</mtd:MSISDN>
               <mtd:validTariffs>
                <mtd:tariff><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                 <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                 <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                 <ns2:TariffName>string</ns2:TariffName>
                 <ns2:ProductName>string</ns2:ProductName>
                 <ns2:ProductFamily>string</ns2:ProductFamily>
                 <ns2:MonthlyFee>3</ns2:MonthlyFee>
                 <ns2:ProductDescription>string</ns2:ProductDescription>
                 <ns2:ProductClassification>string</ns2:ProductClassification>
                 <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                 <ns2:ProductDefault>true</ns2:ProductDefault>
                 <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                 <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                 <ns2:StartDate>2016-04-18</ns2:StartDate>
                 <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                 <ns2:ProductStatus>string</ns2:ProductStatus>
                 <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                 <ns2:Requester>string</ns2:Requester>
                 <ns2:CutoverProduct>string</ns2:CutoverProduct>
                 <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                  <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                  <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                 </ns2:ProductParameters>
                 <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                  <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                  <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                  <ns2:TariffName>string</ns2:TariffName>
                  <ns2:ProductName>string</ns2:ProductName>
                  <ns2:ProductFamily>string</ns2:ProductFamily>
                  <ns2:MonthlyFee>3</ns2:MonthlyFee>
                  <ns2:ProductDescription>string</ns2:ProductDescription>
                  <ns2:ProductClassification>string</ns2:ProductClassification>
                  <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                  <ns2:ProductDefault>true</ns2:ProductDefault>
                  <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                  <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                  <ns2:StartDate>2016-04-18</ns2:StartDate>
                  <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                  <ns2:ProductStatus>string</ns2:ProductStatus>
                  <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                  <ns2:Requester>string</ns2:Requester>
                  <ns2:CutoverProduct>string</ns2:CutoverProduct>
                  <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                   <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                   <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                  </ns2:ProductParameters>
                  <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                   <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                  </ns2:InclusiveProducts>
                  <ns2:sharingInfo>
                   <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                   <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                   <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                  </ns2:sharingInfo>
                  <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                   <ns2:name><!-- mandatory -->string</ns2:name>
                   <ns2:value><!-- mandatory -->string</ns2:value>
                  </ns2:allowances>
                 </ns2:InclusiveProducts>
                 <ns2:sharingInfo>
                  <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                  <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                  <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                 </ns2:sharingInfo>
                 <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                  <ns2:name><!-- mandatory -->string</ns2:name>
                  <ns2:value><!-- mandatory -->string</ns2:value>
                 </ns2:allowances>
                </mtd:tariff>
                <mtd:responseCode><!-- mandatory -->string</mtd:responseCode>
               </mtd:validTariffs>
              </mtd:getValidTariffsResponse>
             </soapenv:Body>
            </soapenv:Envelope>
        getValidTariffsFault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getValidTariffsFault:
                              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffsFault_mta'
              required:
              - Body
          required:
          - Envelope
        changeContractInput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/changeContractHeader'
                Body:
                  type: object
                  properties:
                    changeContract:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/changeContract_mtd'
                  required:
                  - changeContract
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <mtd:changeContract xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2"><!-- mandatory -->
               <mtd:customerId><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </mtd:customerId>
               <mtd:revisedContract><!-- mandatory -->
                <mtd:startDate>2016-04-18</mtd:startDate>
                <mtd:endDate>2016-04-18</mtd:endDate>
                <mtd:minimumTerm>3</mtd:minimumTerm>
                <mtd:tariff><!-- mandatory -->
                 <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                 <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                 <ns2:TariffName>string</ns2:TariffName>
                 <ns2:ProductName>string</ns2:ProductName>
                 <ns2:ProductFamily>string</ns2:ProductFamily>
                 <ns2:MonthlyFee>3</ns2:MonthlyFee>
                 <ns2:ProductDescription>string</ns2:ProductDescription>
                 <ns2:ProductClassification>string</ns2:ProductClassification>
                 <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                 <ns2:ProductDefault>true</ns2:ProductDefault>
                 <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                 <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                 <ns2:StartDate>2016-04-18</ns2:StartDate>
                 <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                 <ns2:ProductStatus>string</ns2:ProductStatus>
                 <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                 <ns2:Requester>string</ns2:Requester>
                 <ns2:CutoverProduct>string</ns2:CutoverProduct>
                 <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                  <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                  <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                 </ns2:ProductParameters>
                 <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                  <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                  <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                  <ns2:TariffName>string</ns2:TariffName>
                  <ns2:ProductName>string</ns2:ProductName>
                  <ns2:ProductFamily>string</ns2:ProductFamily>
                  <ns2:MonthlyFee>3</ns2:MonthlyFee>
                  <ns2:ProductDescription>string</ns2:ProductDescription>
                  <ns2:ProductClassification>string</ns2:ProductClassification>
                  <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                  <ns2:ProductDefault>true</ns2:ProductDefault>
                  <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                  <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                  <ns2:StartDate>2016-04-18</ns2:StartDate>
                  <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                  <ns2:ProductStatus>string</ns2:ProductStatus>
                  <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                  <ns2:Requester>string</ns2:Requester>
                  <ns2:CutoverProduct>string</ns2:CutoverProduct>
                  <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                   <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                   <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                  </ns2:ProductParameters>
                  <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                   <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                  </ns2:InclusiveProducts>
                  <ns2:sharingInfo>
                   <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                   <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                   <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                  </ns2:sharingInfo>
                  <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                   <ns2:name><!-- mandatory -->string</ns2:name>
                   <ns2:value><!-- mandatory -->string</ns2:value>
                  </ns2:allowances>
                 </ns2:InclusiveProducts>
                 <ns2:sharingInfo>
                  <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                  <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                  <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                 </ns2:sharingInfo>
                 <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                  <ns2:name><!-- mandatory -->string</ns2:name>
                  <ns2:value><!-- mandatory -->string</ns2:value>
                 </ns2:allowances>
                </mtd:tariff>
                <mtd:billingAccountNumber>string</mtd:billingAccountNumber>
                <mtd:MSISDN>string</mtd:MSISDN>
               </mtd:revisedContract>
               <mtd:additionalProducts><!-- between zero and unlimited repetitions of this element -->
                <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                <ns2:TariffName>string</ns2:TariffName>
                <ns2:ProductName>string</ns2:ProductName>
                <ns2:ProductFamily>string</ns2:ProductFamily>
                <ns2:MonthlyFee>3</ns2:MonthlyFee>
                <ns2:ProductDescription>string</ns2:ProductDescription>
                <ns2:ProductClassification>string</ns2:ProductClassification>
                <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                <ns2:ProductDefault>true</ns2:ProductDefault>
                <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                <ns2:StartDate>2016-04-18</ns2:StartDate>
                <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                <ns2:ProductStatus>string</ns2:ProductStatus>
                <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                <ns2:Requester>string</ns2:Requester>
                <ns2:CutoverProduct>string</ns2:CutoverProduct>
                <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                 <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                 <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                </ns2:ProductParameters>
                <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                 <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                 <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                 <ns2:TariffName>string</ns2:TariffName>
                 <ns2:ProductName>string</ns2:ProductName>
                 <ns2:ProductFamily>string</ns2:ProductFamily>
                 <ns2:MonthlyFee>3</ns2:MonthlyFee>
                 <ns2:ProductDescription>string</ns2:ProductDescription>
                 <ns2:ProductClassification>string</ns2:ProductClassification>
                 <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                 <ns2:ProductDefault>true</ns2:ProductDefault>
                 <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                 <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                 <ns2:StartDate>2016-04-18</ns2:StartDate>
                 <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                 <ns2:ProductStatus>string</ns2:ProductStatus>
                 <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                 <ns2:Requester>string</ns2:Requester>
                 <ns2:CutoverProduct>string</ns2:CutoverProduct>
                 <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                  <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                  <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                 </ns2:ProductParameters>
                 <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                  <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                 </ns2:InclusiveProducts>
                 <ns2:sharingInfo>
                  <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                  <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                  <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                 </ns2:sharingInfo>
                 <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                  <ns2:name><!-- mandatory -->string</ns2:name>
                  <ns2:value><!-- mandatory -->string</ns2:value>
                 </ns2:allowances>
                </ns2:InclusiveProducts>
                <ns2:sharingInfo>
                 <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                 <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                 <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                </ns2:sharingInfo>
                <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                 <ns2:name><!-- mandatory -->string</ns2:name>
                 <ns2:value><!-- mandatory -->string</ns2:value>
                </ns2:allowances>
               </mtd:additionalProducts>
               <mtd:effectiveStartDate>2016-04-18</mtd:effectiveStartDate>
               <mtd:overrideRules>true</mtd:overrideRules>
              </mtd:changeContract>
             </soapenv:Body>
            </soapenv:Envelope>
        changeContractHeader:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/Security'
        changeContractOutput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    changeContractResponse:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/changeContractResponse_mtd'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <mtd:changeContractResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2">
               <mtd:statusCode><!-- mandatory -->string</mtd:statusCode>
               <mtd:statusMessage><!-- mandatory -->string</mtd:statusMessage>
               <mtd:serviceRequestId>string</mtd:serviceRequestId>
               <mtd:isRulesOverridable>true</mtd:isRulesOverridable>
              </mtd:changeContractResponse>
             </soapenv:Body>
            </soapenv:Envelope>
        changeContractFault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            changeContractFault:
                              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/changeContractFault_mta'
              required:
              - Body
          required:
          - Envelope
        cancelContractChangeInput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/cancelContractChangeHeader'
                Body:
                  type: object
                  properties:
                    cancelContractChange:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/cancelContractChange_mtd'
                  required:
                  - cancelContractChange
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <mtd:cancelContractChange xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2"><!-- mandatory -->
               <mtd:cancelToken><!-- mandatory -->3</mtd:cancelToken>
              </mtd:cancelContractChange>
             </soapenv:Body>
            </soapenv:Envelope>
        cancelContractChangeHeader:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/Security'
        cancelContractChangeOutput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    cancelContractChangeResponse:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/cancelContractChangeResponse_mtd'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <mtd:cancelContractChangeResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2">
               <mtd:statusCode><!-- mandatory -->string</mtd:statusCode>
               <mtd:statusMessage><!-- mandatory -->string</mtd:statusMessage>
               <mtd:serviceRequestId>string</mtd:serviceRequestId>
               <mtd:isRulesOverridable>true</mtd:isRulesOverridable>
              </mtd:cancelContractChangeResponse>
             </soapenv:Body>
            </soapenv:Envelope>
        cancelContractChangeFault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            cancelContractChangeFault:
                              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/cancelContractChangeFault_mta'
              required:
              - Body
          required:
          - Envelope
        getTariffCompatibleProductsInput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getTariffCompatibleProductsHeader'
                Body:
                  type: object
                  properties:
                    getTariffCompatibleProducts:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getTariffCompatibleProducts_mtd'
                  required:
                  - getTariffCompatibleProducts
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <mtd:getTariffCompatibleProducts xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2"><!-- mandatory -->
               <mtd:MSISDN>string</mtd:MSISDN>
               <mtd:tariffProducts>
                <mtd:productId><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->string</mtd:productId>
               </mtd:tariffProducts>
               <mtd:newTariffId><!-- mandatory -->string</mtd:newTariffId>
               <mtd:retrieveAdditionalInfo>
                <mtd:parameterName><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->string</mtd:parameterName>
               </mtd:retrieveAdditionalInfo>
              </mtd:getTariffCompatibleProducts>
             </soapenv:Body>
            </soapenv:Envelope>
        getTariffCompatibleProductsHeader:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/Security'
        getTariffCompatibleProductsOutput:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getTariffCompatibleProductsResponse:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getTariffCompatibleProductsResponse_mtd'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <mtd:getTariffCompatibleProductsResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
               <mtd:responseCode><!-- mandatory -->string</mtd:responseCode>
               <mtd:tariffCompatibilityByMsisdn>
                <mtd:tariffProduct><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                 <mtd:product><!-- mandatory -->
                  <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                  <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                  <ns2:TariffName>string</ns2:TariffName>
                  <ns2:ProductName>string</ns2:ProductName>
                  <ns2:ProductFamily>string</ns2:ProductFamily>
                  <ns2:MonthlyFee>3</ns2:MonthlyFee>
                  <ns2:ProductDescription>string</ns2:ProductDescription>
                  <ns2:ProductClassification>string</ns2:ProductClassification>
                  <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                  <ns2:ProductDefault>true</ns2:ProductDefault>
                  <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                  <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                  <ns2:StartDate>2016-04-18</ns2:StartDate>
                  <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                  <ns2:ProductStatus>string</ns2:ProductStatus>
                  <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                  <ns2:Requester>string</ns2:Requester>
                  <ns2:CutoverProduct>string</ns2:CutoverProduct>
                  <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                   <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                   <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                  </ns2:ProductParameters>
                  <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                   <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                   <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                   <ns2:TariffName>string</ns2:TariffName>
                   <ns2:ProductName>string</ns2:ProductName>
                   <ns2:ProductFamily>string</ns2:ProductFamily>
                   <ns2:MonthlyFee>3</ns2:MonthlyFee>
                   <ns2:ProductDescription>string</ns2:ProductDescription>
                   <ns2:ProductClassification>string</ns2:ProductClassification>
                   <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                   <ns2:ProductDefault>true</ns2:ProductDefault>
                   <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                   <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                   <ns2:StartDate>2016-04-18</ns2:StartDate>
                   <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                   <ns2:ProductStatus>string</ns2:ProductStatus>
                   <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                   <ns2:Requester>string</ns2:Requester>
                   <ns2:CutoverProduct>string</ns2:CutoverProduct>
                   <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                    <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                    <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                   </ns2:ProductParameters>
                   <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                    <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                   </ns2:InclusiveProducts>
                   <ns2:sharingInfo>
                    <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                    <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                    <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                   </ns2:sharingInfo>
                   <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                    <ns2:name><!-- mandatory -->string</ns2:name>
                    <ns2:value><!-- mandatory -->string</ns2:value>
                   </ns2:allowances>
                  </ns2:InclusiveProducts>
                  <ns2:sharingInfo>
                   <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                   <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                   <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                  </ns2:sharingInfo>
                  <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                   <ns2:name><!-- mandatory -->string</ns2:name>
                   <ns2:value><!-- mandatory -->string</ns2:value>
                  </ns2:allowances>
                 </mtd:product>
                 <mtd:compatibleStatus><!-- mandatory -->string</mtd:compatibleStatus>
                 <mtd:isCompatibilityStatusOverridable>true</mtd:isCompatibilityStatusOverridable>
                 <mtd:reasonMessage><!-- mandatory -->string</mtd:reasonMessage>
                </mtd:tariffProduct>
               </mtd:tariffCompatibilityByMsisdn>
               <mtd:tariffCompatibilityByProductList>
                <mtd:tariffProduct><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                 <mtd:productId><!-- mandatory -->string</mtd:productId>
                 <mtd:compatibleStatus><!-- mandatory -->string</mtd:compatibleStatus>
                 <mtd:isCompatibilityStatusOverridable>true</mtd:isCompatibilityStatusOverridable>
                 <mtd:reasonMessage><!-- mandatory -->string</mtd:reasonMessage>
                </mtd:tariffProduct>
               </mtd:tariffCompatibilityByProductList>
              </mtd:getTariffCompatibleProductsResponse>
             </soapenv:Body>
            </soapenv:Envelope>
        getTariffCompatibleProductsFault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getTariffCompatibleProductsFault:
                              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getTariffCompatibleProductsFault_mta'
              required:
              - Body
          required:
          - Envelope
        getValidTariffs_2Input:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Header:
                  $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffs_2Header'
                Body:
                  type: object
                  properties:
                    getValidTariffs_2:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffs_2_mtd'
                  required:
                  - getValidTariffs_2
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Header>
              <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
               <wsse:UsernameToken>
                <wsse:Username>string</wsse:Username>
                <wsse:Password>string</wsse:Password>
                <wsse:Nonce EncodingType="string">string</wsse:Nonce>
                <wsu:Created>string</wsu:Created>
               </wsse:UsernameToken>
               <wsu:Timestamp wsu:Id="string">
                <wsu:Created>string</wsu:Created>
                <wsu:Expires>string</wsu:Expires>
               </wsu:Timestamp>
              </wsse:Security>
             </soapenv:Header>
             <soapenv:Body>
              <mtd:getValidTariffs_2 xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1"><!-- mandatory -->
               <mtd:customerId><!-- mandatory -->
                <ns1:portalID>string</ns1:portalID>
                <ns1:msisdn>string</ns1:msisdn>
                <ns1:accountDetail>
                 <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
                 <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
                 <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
                </ns1:accountDetail>
               </mtd:customerId>
               <mtd:overrideRules>true</mtd:overrideRules>
              </mtd:getValidTariffs_2>
             </soapenv:Body>
            </soapenv:Envelope>
        getValidTariffs_2Header:
          type: object
          properties:
            Security:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/Security'
        getValidTariffs_2Output:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    getValidTariffs_2Response:
                      $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffs_2Response_mtd'
              required:
              - Body
          required:
          - Envelope
          example: |2-

            <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
             <soapenv:Body>
              <mtd:getValidTariffs_2Response xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
               <mtd:MSISDN><!-- mandatory -->string</mtd:MSISDN>
               <mtd:validTariffs>
                <mtd:tariff><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
                 <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                 <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                 <ns2:TariffName>string</ns2:TariffName>
                 <ns2:ProductName>string</ns2:ProductName>
                 <ns2:ProductFamily>string</ns2:ProductFamily>
                 <ns2:MonthlyFee>3</ns2:MonthlyFee>
                 <ns2:ProductDescription>string</ns2:ProductDescription>
                 <ns2:ProductClassification>string</ns2:ProductClassification>
                 <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                 <ns2:ProductDefault>true</ns2:ProductDefault>
                 <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                 <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                 <ns2:StartDate>2016-04-18</ns2:StartDate>
                 <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                 <ns2:ProductStatus>string</ns2:ProductStatus>
                 <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                 <ns2:Requester>string</ns2:Requester>
                 <ns2:CutoverProduct>string</ns2:CutoverProduct>
                 <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                  <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                  <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                 </ns2:ProductParameters>
                 <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                  <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                  <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                  <ns2:TariffName>string</ns2:TariffName>
                  <ns2:ProductName>string</ns2:ProductName>
                  <ns2:ProductFamily>string</ns2:ProductFamily>
                  <ns2:MonthlyFee>3</ns2:MonthlyFee>
                  <ns2:ProductDescription>string</ns2:ProductDescription>
                  <ns2:ProductClassification>string</ns2:ProductClassification>
                  <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                  <ns2:ProductDefault>true</ns2:ProductDefault>
                  <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                  <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                  <ns2:StartDate>2016-04-18</ns2:StartDate>
                  <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                  <ns2:ProductStatus>string</ns2:ProductStatus>
                  <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                  <ns2:Requester>string</ns2:Requester>
                  <ns2:CutoverProduct>string</ns2:CutoverProduct>
                  <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                   <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                   <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                  </ns2:ProductParameters>
                  <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                   <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                  </ns2:InclusiveProducts>
                  <ns2:sharingInfo>
                   <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                   <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                   <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                  </ns2:sharingInfo>
                  <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                   <ns2:name><!-- mandatory -->string</ns2:name>
                   <ns2:value><!-- mandatory -->string</ns2:value>
                  </ns2:allowances>
                 </ns2:InclusiveProducts>
                 <ns2:sharingInfo>
                  <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                  <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                  <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                 </ns2:sharingInfo>
                 <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                  <ns2:name><!-- mandatory -->string</ns2:name>
                  <ns2:value><!-- mandatory -->string</ns2:value>
                 </ns2:allowances>
                </mtd:tariff>
                <mtd:responseCode><!-- mandatory -->string</mtd:responseCode>
               </mtd:validTariffs>
              </mtd:getValidTariffs_2Response>
             </soapenv:Body>
            </soapenv:Envelope>
        getValidTariffs_2Fault:
          type: object
          properties:
            Envelope:
              xml:
                prefix: soapenv
                namespace: http://schemas.xmlsoap.org/soap/envelope/
              type: object
              properties:
                Body:
                  type: object
                  properties:
                    Fault:
                      type: object
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: string
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: object
                          properties:
                            getValidTariffs_2Fault:
                              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getValidTariffs_2Fault_mta'
              required:
              - Body
          required:
          - Envelope
        getContract_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            customerId:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/accountType_ns1_mtd'
              description: MSISDN is required.
            retrieveAdditionalInfo:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/retrieveAdditionalInfoType_mtd'
              description: To retrieve addition information for example:tariff sharing
                info.
          required:
          - customerId
          description: For a given customer identifier, retrieves the current mobile
            service contract associated with the MSISDN. Also includes any recorded
            future changes.
          example: |2-

            <mtd:getContract xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <mtd:customerId><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </mtd:customerId>
             <mtd:retrieveAdditionalInfo>
              <mtd:sharingInfo>true</mtd:sharingInfo>
              <mtd:allowanceInfo>true</mtd:allowanceInfo>
             </mtd:retrieveAdditionalInfo>
            </mtd:getContract>
        getContractResponse_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            currentContract:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/serviceContractType_mtd'
          required:
          - currentContract
          description: For a given customer identifier, retrieves the current mobile
            service contract associated with the MSISDN. Also includes any recorded
            future changes.
          example: |2-

            <mtd:getContractResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
             <mtd:currentContract><!-- mandatory -->
              <mtd:startDate>2016-04-18</mtd:startDate>
              <mtd:endDate>2016-04-18</mtd:endDate>
              <mtd:minimumTerm>3</mtd:minimumTerm>
              <mtd:tariff><!-- mandatory -->
               <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
               <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
               <ns2:TariffName>string</ns2:TariffName>
               <ns2:ProductName>string</ns2:ProductName>
               <ns2:ProductFamily>string</ns2:ProductFamily>
               <ns2:MonthlyFee>3</ns2:MonthlyFee>
               <ns2:ProductDescription>string</ns2:ProductDescription>
               <ns2:ProductClassification>string</ns2:ProductClassification>
               <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
               <ns2:ProductDefault>true</ns2:ProductDefault>
               <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
               <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
               <ns2:StartDate>2016-04-18</ns2:StartDate>
               <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
               <ns2:ProductStatus>string</ns2:ProductStatus>
               <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
               <ns2:Requester>string</ns2:Requester>
               <ns2:CutoverProduct>string</ns2:CutoverProduct>
               <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
               </ns2:ProductParameters>
               <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                <ns2:TariffName>string</ns2:TariffName>
                <ns2:ProductName>string</ns2:ProductName>
                <ns2:ProductFamily>string</ns2:ProductFamily>
                <ns2:MonthlyFee>3</ns2:MonthlyFee>
                <ns2:ProductDescription>string</ns2:ProductDescription>
                <ns2:ProductClassification>string</ns2:ProductClassification>
                <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                <ns2:ProductDefault>true</ns2:ProductDefault>
                <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                <ns2:StartDate>2016-04-18</ns2:StartDate>
                <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                <ns2:ProductStatus>string</ns2:ProductStatus>
                <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                <ns2:Requester>string</ns2:Requester>
                <ns2:CutoverProduct>string</ns2:CutoverProduct>
                <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                 <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                 <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                </ns2:ProductParameters>
                <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                 <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                </ns2:InclusiveProducts>
                <ns2:sharingInfo>
                 <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                 <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                 <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                </ns2:sharingInfo>
                <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                 <ns2:name><!-- mandatory -->string</ns2:name>
                 <ns2:value><!-- mandatory -->string</ns2:value>
                </ns2:allowances>
               </ns2:InclusiveProducts>
               <ns2:sharingInfo>
                <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
               </ns2:sharingInfo>
               <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                <ns2:name><!-- mandatory -->string</ns2:name>
                <ns2:value><!-- mandatory -->string</ns2:value>
               </ns2:allowances>
              </mtd:tariff>
              <mtd:billingAccountNumber>string</mtd:billingAccountNumber>
              <mtd:MSISDN>string</mtd:MSISDN>
             </mtd:currentContract>
            </mtd:getContractResponse>
        getContractFault_mta:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <mtd:getContractFault xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </mtd:getContractFault>
        getContractRevisions_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            customerId:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/accountType_ns1_mtd'
              description: MSISDN is required.
            retrieveAdditionalInfo:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/retrieveAdditionalInfoType_mtd'
              description: 'To retrieve addition information. For example: Return
                inclusive allowances for the tariff'
          required:
          - customerId
          description: Retrieves any pending revisions applicable to the service contract.
          example: |2-

            <mtd:getContractRevisions xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <mtd:customerId><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </mtd:customerId>
             <mtd:retrieveAdditionalInfo>
              <mtd:sharingInfo>true</mtd:sharingInfo>
              <mtd:allowanceInfo>true</mtd:allowanceInfo>
             </mtd:retrieveAdditionalInfo>
            </mtd:getContractRevisions>
        getContractRevisionsResponse_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            MSISDN:
              type: string
            revisedContract:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/serviceContractType_mtd'
              description: If there is a contract revision (tariff or inclusive product
                change) pending, provides the new contract.
            effectiveDate:
              type: string
              format: date
              description: Date on which this version of the contract becomes active.
            cancelToken:
              type: number
              description: Token to be used to cancel the pending contract revision.
          required:
          - MSISDN
          description: Retrieves any pending revisions applicable to the service contract.
          example: |2-

            <mtd:getContractRevisionsResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
             <mtd:MSISDN><!-- mandatory -->string</mtd:MSISDN>
             <mtd:revisedContract>
              <mtd:startDate>2016-04-18</mtd:startDate>
              <mtd:endDate>2016-04-18</mtd:endDate>
              <mtd:minimumTerm>3</mtd:minimumTerm>
              <mtd:tariff><!-- mandatory -->
               <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
               <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
               <ns2:TariffName>string</ns2:TariffName>
               <ns2:ProductName>string</ns2:ProductName>
               <ns2:ProductFamily>string</ns2:ProductFamily>
               <ns2:MonthlyFee>3</ns2:MonthlyFee>
               <ns2:ProductDescription>string</ns2:ProductDescription>
               <ns2:ProductClassification>string</ns2:ProductClassification>
               <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
               <ns2:ProductDefault>true</ns2:ProductDefault>
               <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
               <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
               <ns2:StartDate>2016-04-18</ns2:StartDate>
               <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
               <ns2:ProductStatus>string</ns2:ProductStatus>
               <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
               <ns2:Requester>string</ns2:Requester>
               <ns2:CutoverProduct>string</ns2:CutoverProduct>
               <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
               </ns2:ProductParameters>
               <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                <ns2:TariffName>string</ns2:TariffName>
                <ns2:ProductName>string</ns2:ProductName>
                <ns2:ProductFamily>string</ns2:ProductFamily>
                <ns2:MonthlyFee>3</ns2:MonthlyFee>
                <ns2:ProductDescription>string</ns2:ProductDescription>
                <ns2:ProductClassification>string</ns2:ProductClassification>
                <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                <ns2:ProductDefault>true</ns2:ProductDefault>
                <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                <ns2:StartDate>2016-04-18</ns2:StartDate>
                <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                <ns2:ProductStatus>string</ns2:ProductStatus>
                <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                <ns2:Requester>string</ns2:Requester>
                <ns2:CutoverProduct>string</ns2:CutoverProduct>
                <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                 <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                 <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                </ns2:ProductParameters>
                <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                 <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                </ns2:InclusiveProducts>
                <ns2:sharingInfo>
                 <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                 <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                 <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                </ns2:sharingInfo>
                <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                 <ns2:name><!-- mandatory -->string</ns2:name>
                 <ns2:value><!-- mandatory -->string</ns2:value>
                </ns2:allowances>
               </ns2:InclusiveProducts>
               <ns2:sharingInfo>
                <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
               </ns2:sharingInfo>
               <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                <ns2:name><!-- mandatory -->string</ns2:name>
                <ns2:value><!-- mandatory -->string</ns2:value>
               </ns2:allowances>
              </mtd:tariff>
              <mtd:billingAccountNumber>string</mtd:billingAccountNumber>
              <mtd:MSISDN>string</mtd:MSISDN>
             </mtd:revisedContract>
             <mtd:effectiveDate>2016-04-18</mtd:effectiveDate>
             <mtd:cancelToken>3</mtd:cancelToken>
            </mtd:getContractRevisionsResponse>
        getContractRevisionsFault_mta:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <mtd:getContractRevisionsFault xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </mtd:getContractRevisionsFault>
        getBusinessPolicies_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            customerId:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/accountType_ns1_mtd'
              description: MSISDN is required.
          required:
          - customerId
          description: Retrieves the current set of business policies in force on
            the contract.
          example: |2-

            <mtd:getBusinessPolicies xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <mtd:customerId><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </mtd:customerId>
            </mtd:getBusinessPolicies>
        getBusinessPoliciesResponse_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            businessPolicies:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/businessPoliciesType_mtd'
          description: Retrieves the current set of business policies in force on
            the contract.
          example: |2-

            <mtd:getBusinessPoliciesResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
             <mtd:businessPolicies>
              <mtd:businessPolicy><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
               <ns2:Subject><!-- mandatory -->string</ns2:Subject>
               <ns2:Action><!-- mandatory -->string</ns2:Action>
               <ns2:ProductId><!-- mandatory -->3</ns2:ProductId>
               <ns2:Channel><!-- mandatory -->string</ns2:Channel>
               <ns2:Permitted><!-- mandatory -->true</ns2:Permitted>
               <ns2:ReasonCode>string</ns2:ReasonCode>
               <ns2:ReasonMessage>string</ns2:ReasonMessage>
              </mtd:businessPolicy>
             </mtd:businessPolicies>
            </mtd:getBusinessPoliciesResponse>
        getBusinessPoliciesFault_mta:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <mtd:getBusinessPoliciesFault xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </mtd:getBusinessPoliciesFault>
        getValidTariffs_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            customerId:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/accountType_ns1_mtd'
              description: MSISDN is required.
            overrideRules:
              type: boolean
              description: Indicates whether business rules are to be over-ridden.
                Ignored for clients not authorized to over-ride business rules. Transaction
                may still fail due to rules which can not be over-ridden.
            tariffFamily:
              type: array
              items:
                type: string
              description: "The tariffs to be returned based on the list of Tariff
                families requested.\n\t\t\t\t\tThis is applicable only if the business
                rules are to be over-ridden. \n\t\t\t\t\tIgnored for clients not authorized
                to over-ride business rules."
            retrieveAdditionalInfo:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/retrieveAdditionalInfoType_mtd'
              description: To retrieve addition information for example:tariff sharing
                info, inclusive allowance details.
          required:
          - customerId
          description: Retrieves the list of tariffs that the customer is eligible
            to move to.
          example: |2-

            <mtd:getValidTariffs xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <mtd:customerId><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </mtd:customerId>
             <mtd:overrideRules>true</mtd:overrideRules>
             <mtd:tariffFamily><!-- between zero and unlimited repetitions of this element -->string</mtd:tariffFamily>
             <mtd:retrieveAdditionalInfo>
              <mtd:sharingInfo>true</mtd:sharingInfo>
              <mtd:allowanceInfo>true</mtd:allowanceInfo>
             </mtd:retrieveAdditionalInfo>
            </mtd:getValidTariffs>
        getValidTariffsResponse_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            MSISDN:
              xml:
                namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
                prefix: mtd
              type: string
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
                strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand
                translated into localised formats on the\n\t\t\t\tpresentation and
                backend layers.;\nInternational format ccaaaannnnnnnnn where: cc =
                county code; aaaa = area code and nnn = subscriber number."
            validTariffs:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/validTariffsType_mtd'
              description: List of tariffs which the customer is eligible to move
                to.
          required:
          - MSISDN
          description: Retrieves the list of tariffs that the customer is eligible
            to move to.
          example: |2-

            <mtd:getValidTariffsResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
             <mtd:MSISDN><!-- mandatory -->string</mtd:MSISDN>
             <mtd:validTariffs>
              <mtd:tariff><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
               <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
               <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
               <ns2:TariffName>string</ns2:TariffName>
               <ns2:ProductName>string</ns2:ProductName>
               <ns2:ProductFamily>string</ns2:ProductFamily>
               <ns2:MonthlyFee>3</ns2:MonthlyFee>
               <ns2:ProductDescription>string</ns2:ProductDescription>
               <ns2:ProductClassification>string</ns2:ProductClassification>
               <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
               <ns2:ProductDefault>true</ns2:ProductDefault>
               <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
               <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
               <ns2:StartDate>2016-04-18</ns2:StartDate>
               <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
               <ns2:ProductStatus>string</ns2:ProductStatus>
               <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
               <ns2:Requester>string</ns2:Requester>
               <ns2:CutoverProduct>string</ns2:CutoverProduct>
               <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
               </ns2:ProductParameters>
               <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                <ns2:TariffName>string</ns2:TariffName>
                <ns2:ProductName>string</ns2:ProductName>
                <ns2:ProductFamily>string</ns2:ProductFamily>
                <ns2:MonthlyFee>3</ns2:MonthlyFee>
                <ns2:ProductDescription>string</ns2:ProductDescription>
                <ns2:ProductClassification>string</ns2:ProductClassification>
                <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                <ns2:ProductDefault>true</ns2:ProductDefault>
                <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                <ns2:StartDate>2016-04-18</ns2:StartDate>
                <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                <ns2:ProductStatus>string</ns2:ProductStatus>
                <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                <ns2:Requester>string</ns2:Requester>
                <ns2:CutoverProduct>string</ns2:CutoverProduct>
                <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                 <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                 <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                </ns2:ProductParameters>
                <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                 <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                </ns2:InclusiveProducts>
                <ns2:sharingInfo>
                 <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                 <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                 <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                </ns2:sharingInfo>
                <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                 <ns2:name><!-- mandatory -->string</ns2:name>
                 <ns2:value><!-- mandatory -->string</ns2:value>
                </ns2:allowances>
               </ns2:InclusiveProducts>
               <ns2:sharingInfo>
                <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
               </ns2:sharingInfo>
               <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                <ns2:name><!-- mandatory -->string</ns2:name>
                <ns2:value><!-- mandatory -->string</ns2:value>
               </ns2:allowances>
              </mtd:tariff>
              <mtd:responseCode><!-- mandatory -->string</mtd:responseCode>
             </mtd:validTariffs>
            </mtd:getValidTariffsResponse>
        getValidTariffsFault_mta:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <mtd:getValidTariffsFault xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </mtd:getValidTariffsFault>
        changeContract_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            customerId:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/accountType_ns1_mtd'
              description: MSISDN is required.
            revisedContract:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/serviceContractType_mtd'
              description: If there is a contract revision (tariff or inclusive product
                change) pending, provides the new contract.
            additionalProducts:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productType_ns2_mtd'
              description: List of additional services to be added as part of the
                transaction.
            effectiveStartDate:
              type: string
              format: date
              description: Effective date of tariff transfer.
            overrideRules:
              type: boolean
              description: Indicates whether business rules are to be over-ridden.
                Ignored for clients not authorized to over-ride business rules. Transaction
                may still fail due to rules which can not be over-ridden.
          required:
          - customerId
          - revisedContract
          description: Requests an alteration to the existing service contract (typically
            a change of tariff). Contract changes are typically applied after the
            account has next been billed.
          example: |2-

            <mtd:changeContract xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
             <mtd:customerId><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </mtd:customerId>
             <mtd:revisedContract><!-- mandatory -->
              <mtd:startDate>2016-04-18</mtd:startDate>
              <mtd:endDate>2016-04-18</mtd:endDate>
              <mtd:minimumTerm>3</mtd:minimumTerm>
              <mtd:tariff><!-- mandatory -->
               <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
               <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
               <ns2:TariffName>string</ns2:TariffName>
               <ns2:ProductName>string</ns2:ProductName>
               <ns2:ProductFamily>string</ns2:ProductFamily>
               <ns2:MonthlyFee>3</ns2:MonthlyFee>
               <ns2:ProductDescription>string</ns2:ProductDescription>
               <ns2:ProductClassification>string</ns2:ProductClassification>
               <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
               <ns2:ProductDefault>true</ns2:ProductDefault>
               <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
               <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
               <ns2:StartDate>2016-04-18</ns2:StartDate>
               <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
               <ns2:ProductStatus>string</ns2:ProductStatus>
               <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
               <ns2:Requester>string</ns2:Requester>
               <ns2:CutoverProduct>string</ns2:CutoverProduct>
               <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
               </ns2:ProductParameters>
               <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                <ns2:TariffName>string</ns2:TariffName>
                <ns2:ProductName>string</ns2:ProductName>
                <ns2:ProductFamily>string</ns2:ProductFamily>
                <ns2:MonthlyFee>3</ns2:MonthlyFee>
                <ns2:ProductDescription>string</ns2:ProductDescription>
                <ns2:ProductClassification>string</ns2:ProductClassification>
                <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                <ns2:ProductDefault>true</ns2:ProductDefault>
                <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                <ns2:StartDate>2016-04-18</ns2:StartDate>
                <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                <ns2:ProductStatus>string</ns2:ProductStatus>
                <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                <ns2:Requester>string</ns2:Requester>
                <ns2:CutoverProduct>string</ns2:CutoverProduct>
                <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                 <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                 <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                </ns2:ProductParameters>
                <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                 <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                </ns2:InclusiveProducts>
                <ns2:sharingInfo>
                 <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                 <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                 <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                </ns2:sharingInfo>
                <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                 <ns2:name><!-- mandatory -->string</ns2:name>
                 <ns2:value><!-- mandatory -->string</ns2:value>
                </ns2:allowances>
               </ns2:InclusiveProducts>
               <ns2:sharingInfo>
                <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
               </ns2:sharingInfo>
               <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                <ns2:name><!-- mandatory -->string</ns2:name>
                <ns2:value><!-- mandatory -->string</ns2:value>
               </ns2:allowances>
              </mtd:tariff>
              <mtd:billingAccountNumber>string</mtd:billingAccountNumber>
              <mtd:MSISDN>string</mtd:MSISDN>
             </mtd:revisedContract>
             <mtd:additionalProducts><!-- between zero and unlimited repetitions of this element -->
              <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
              <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
              <ns2:TariffName>string</ns2:TariffName>
              <ns2:ProductName>string</ns2:ProductName>
              <ns2:ProductFamily>string</ns2:ProductFamily>
              <ns2:MonthlyFee>3</ns2:MonthlyFee>
              <ns2:ProductDescription>string</ns2:ProductDescription>
              <ns2:ProductClassification>string</ns2:ProductClassification>
              <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
              <ns2:ProductDefault>true</ns2:ProductDefault>
              <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
              <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
              <ns2:StartDate>2016-04-18</ns2:StartDate>
              <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
              <ns2:ProductStatus>string</ns2:ProductStatus>
              <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
              <ns2:Requester>string</ns2:Requester>
              <ns2:CutoverProduct>string</ns2:CutoverProduct>
              <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
               <ns2:paramName><!-- mandatory -->string</ns2:paramName>
               <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
              </ns2:ProductParameters>
              <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
               <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
               <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
               <ns2:TariffName>string</ns2:TariffName>
               <ns2:ProductName>string</ns2:ProductName>
               <ns2:ProductFamily>string</ns2:ProductFamily>
               <ns2:MonthlyFee>3</ns2:MonthlyFee>
               <ns2:ProductDescription>string</ns2:ProductDescription>
               <ns2:ProductClassification>string</ns2:ProductClassification>
               <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
               <ns2:ProductDefault>true</ns2:ProductDefault>
               <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
               <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
               <ns2:StartDate>2016-04-18</ns2:StartDate>
               <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
               <ns2:ProductStatus>string</ns2:ProductStatus>
               <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
               <ns2:Requester>string</ns2:Requester>
               <ns2:CutoverProduct>string</ns2:CutoverProduct>
               <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
               </ns2:ProductParameters>
               <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
               </ns2:InclusiveProducts>
               <ns2:sharingInfo>
                <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
               </ns2:sharingInfo>
               <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                <ns2:name><!-- mandatory -->string</ns2:name>
                <ns2:value><!-- mandatory -->string</ns2:value>
               </ns2:allowances>
              </ns2:InclusiveProducts>
              <ns2:sharingInfo>
               <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
               <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
               <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
              </ns2:sharingInfo>
              <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
               <ns2:name><!-- mandatory -->string</ns2:name>
               <ns2:value><!-- mandatory -->string</ns2:value>
              </ns2:allowances>
             </mtd:additionalProducts>
             <mtd:effectiveStartDate>2016-04-18</mtd:effectiveStartDate>
             <mtd:overrideRules>true</mtd:overrideRules>
            </mtd:changeContract>
        changeContractResponse_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            statusCode:
              type: string
              description: Status code to indicate the state of the request.
            statusMessage:
              type: string
              description: Status of the of the Service Request.
            serviceRequestId:
              type: string
              description: Service Request Id for the service request. Will only be
                returned when the request for changeContract has been accepted successfully.
            isRulesOverridable:
              type: boolean
          required:
          - statusCode
          - statusMessage
          description: Generic contract response structure.
          example: |2-

            <mtd:changeContractResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2">
             <mtd:statusCode><!-- mandatory -->string</mtd:statusCode>
             <mtd:statusMessage><!-- mandatory -->string</mtd:statusMessage>
             <mtd:serviceRequestId>string</mtd:serviceRequestId>
             <mtd:isRulesOverridable>true</mtd:isRulesOverridable>
            </mtd:changeContractResponse>
        changeContractFault_mta:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <mtd:changeContractFault xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </mtd:changeContractFault>
        cancelContractChange_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            cancelToken:
              type: number
              description: Token provided in the getContractRevisions call.
          required:
          - cancelToken
          description: Cancels all pending changes to the contract (e.g. tariff change).
          example: |2-

            <mtd:cancelContractChange xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2">
             <mtd:cancelToken><!-- mandatory -->3</mtd:cancelToken>
            </mtd:cancelContractChange>
        cancelContractChangeResponse_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            statusCode:
              type: string
              description: Status code to indicate the state of the request.
            statusMessage:
              type: string
              description: Status of the of the Service Request.
            serviceRequestId:
              type: string
              description: Service Request Id for the service request. Will only be
                returned when the request for changeContract has been accepted successfully.
            isRulesOverridable:
              type: boolean
          required:
          - statusCode
          - statusMessage
          description: Generic contract response structure.
          example: |2-

            <mtd:cancelContractChangeResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2">
             <mtd:statusCode><!-- mandatory -->string</mtd:statusCode>
             <mtd:statusMessage><!-- mandatory -->string</mtd:statusMessage>
             <mtd:serviceRequestId>string</mtd:serviceRequestId>
             <mtd:isRulesOverridable>true</mtd:isRulesOverridable>
            </mtd:cancelContractChangeResponse>
        cancelContractChangeFault_mta:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <mtd:cancelContractChangeFault xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </mtd:cancelContractChangeFault>
        getTariffCompatibleProducts_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            MSISDN:
              xml:
                namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
                prefix: mtd
              type: string
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
                strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand
                translated into localised formats on the\n\t\t\t\tpresentation and
                backend layers."
            tariffProducts:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/tariffProductsType_mtd'
            newTariffId:
              xml:
                namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
                prefix: mtd
              type: string
              maxLength: 80
              minLength: 1
              description: The catologue identifier for a product
            retrieveAdditionalInfo:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/retrieveAdditionalInfoType_2_mtd'
              description: To retrieve addition information.
          required:
          - newTariffId
          description: This is the request for getTariffCompatibleProducts operation.
          example: |2-

            <mtd:getTariffCompatibleProducts xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2">
             <mtd:MSISDN>string</mtd:MSISDN>
             <mtd:tariffProducts>
              <mtd:productId><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->string</mtd:productId>
             </mtd:tariffProducts>
             <mtd:newTariffId><!-- mandatory -->string</mtd:newTariffId>
             <mtd:retrieveAdditionalInfo>
              <mtd:parameterName><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->string</mtd:parameterName>
             </mtd:retrieveAdditionalInfo>
            </mtd:getTariffCompatibleProducts>
        getTariffCompatibleProductsResponse_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            responseCode:
              type: string
            tariffCompatibilityByMsisdn:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/tariffCompatibilityByMsisdnType_mtd'
            tariffCompatibilityByProductList:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/tariffCompatibilityByProductListType_mtd'
          required:
          - responseCode
          description: This is the response for getTariffCompatibleProducts operation.Indicates
            whether the list of current Tariff Bolton products are compatible to the
            destination Tariff.
          example: |2-

            <mtd:getTariffCompatibleProductsResponse xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
             <mtd:responseCode><!-- mandatory -->string</mtd:responseCode>
             <mtd:tariffCompatibilityByMsisdn>
              <mtd:tariffProduct><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
               <mtd:product><!-- mandatory -->
                <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                <ns2:TariffName>string</ns2:TariffName>
                <ns2:ProductName>string</ns2:ProductName>
                <ns2:ProductFamily>string</ns2:ProductFamily>
                <ns2:MonthlyFee>3</ns2:MonthlyFee>
                <ns2:ProductDescription>string</ns2:ProductDescription>
                <ns2:ProductClassification>string</ns2:ProductClassification>
                <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                <ns2:ProductDefault>true</ns2:ProductDefault>
                <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                <ns2:StartDate>2016-04-18</ns2:StartDate>
                <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                <ns2:ProductStatus>string</ns2:ProductStatus>
                <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                <ns2:Requester>string</ns2:Requester>
                <ns2:CutoverProduct>string</ns2:CutoverProduct>
                <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                 <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                 <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                </ns2:ProductParameters>
                <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                 <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                 <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                 <ns2:TariffName>string</ns2:TariffName>
                 <ns2:ProductName>string</ns2:ProductName>
                 <ns2:ProductFamily>string</ns2:ProductFamily>
                 <ns2:MonthlyFee>3</ns2:MonthlyFee>
                 <ns2:ProductDescription>string</ns2:ProductDescription>
                 <ns2:ProductClassification>string</ns2:ProductClassification>
                 <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                 <ns2:ProductDefault>true</ns2:ProductDefault>
                 <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                 <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                 <ns2:StartDate>2016-04-18</ns2:StartDate>
                 <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                 <ns2:ProductStatus>string</ns2:ProductStatus>
                 <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                 <ns2:Requester>string</ns2:Requester>
                 <ns2:CutoverProduct>string</ns2:CutoverProduct>
                 <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                  <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                  <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                 </ns2:ProductParameters>
                 <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                  <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                 </ns2:InclusiveProducts>
                 <ns2:sharingInfo>
                  <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                  <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                  <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                 </ns2:sharingInfo>
                 <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                  <ns2:name><!-- mandatory -->string</ns2:name>
                  <ns2:value><!-- mandatory -->string</ns2:value>
                 </ns2:allowances>
                </ns2:InclusiveProducts>
                <ns2:sharingInfo>
                 <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                 <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                 <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                </ns2:sharingInfo>
                <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                 <ns2:name><!-- mandatory -->string</ns2:name>
                 <ns2:value><!-- mandatory -->string</ns2:value>
                </ns2:allowances>
               </mtd:product>
               <mtd:compatibleStatus><!-- mandatory -->string</mtd:compatibleStatus>
               <mtd:isCompatibilityStatusOverridable>true</mtd:isCompatibilityStatusOverridable>
               <mtd:reasonMessage><!-- mandatory -->string</mtd:reasonMessage>
              </mtd:tariffProduct>
             </mtd:tariffCompatibilityByMsisdn>
             <mtd:tariffCompatibilityByProductList>
              <mtd:tariffProduct><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
               <mtd:productId><!-- mandatory -->string</mtd:productId>
               <mtd:compatibleStatus><!-- mandatory -->string</mtd:compatibleStatus>
               <mtd:isCompatibilityStatusOverridable>true</mtd:isCompatibilityStatusOverridable>
               <mtd:reasonMessage><!-- mandatory -->string</mtd:reasonMessage>
              </mtd:tariffProduct>
             </mtd:tariffCompatibilityByProductList>
            </mtd:getTariffCompatibleProductsResponse>
        getTariffCompatibleProductsFault_mta:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <mtd:getTariffCompatibleProductsFault xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </mtd:getTariffCompatibleProductsFault>
        getValidTariffs_2_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            customerId:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/accountType_ns1_mtd'
              description: MSISDN is required.
            overrideRules:
              type: boolean
              description: Indicates whether business rules are to be over-ridden.
                Ignored for clients not authorized to over-ride business rules. Transaction
                may still fail due to rules which can not be over-ridden.
          required:
          - customerId
          description: Retrieves the list of tariffs that the customer is eligible
            to move to.
          example: |2-

            <mtd:getValidTariffs_2 xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <mtd:customerId><!-- mandatory -->
              <ns1:portalID>string</ns1:portalID>
              <ns1:msisdn>string</ns1:msisdn>
              <ns1:accountDetail>
               <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>
               <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>
               <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>
              </ns1:accountDetail>
             </mtd:customerId>
             <mtd:overrideRules>true</mtd:overrideRules>
            </mtd:getValidTariffs_2>
        getValidTariffs_2Response_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            MSISDN:
              xml:
                namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
                prefix: mtd
              type: string
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
                strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand
                translated into localised formats on the\n\t\t\t\tpresentation and
                backend layers.;\nInternational format ccaaaannnnnnnnn where: cc =
                county code; aaaa = area code and nnn = subscriber number."
            validTariffs:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/validTariffsType_mtd'
              description: List of tariffs which the customer is eligible to move
                to.
          required:
          - MSISDN
          description: Retrieves the list of tariffs that the customer is eligible
            to move to.
          example: |2-

            <mtd:getValidTariffs_2Response xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns2="http://soa.o2.co.uk/pscommonpostpaydata_2">
             <mtd:MSISDN><!-- mandatory -->string</mtd:MSISDN>
             <mtd:validTariffs>
              <mtd:tariff><!-- mandatory --><!-- between 1 and unlimited repetitions of this element -->
               <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
               <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
               <ns2:TariffName>string</ns2:TariffName>
               <ns2:ProductName>string</ns2:ProductName>
               <ns2:ProductFamily>string</ns2:ProductFamily>
               <ns2:MonthlyFee>3</ns2:MonthlyFee>
               <ns2:ProductDescription>string</ns2:ProductDescription>
               <ns2:ProductClassification>string</ns2:ProductClassification>
               <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
               <ns2:ProductDefault>true</ns2:ProductDefault>
               <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
               <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
               <ns2:StartDate>2016-04-18</ns2:StartDate>
               <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
               <ns2:ProductStatus>string</ns2:ProductStatus>
               <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
               <ns2:Requester>string</ns2:Requester>
               <ns2:CutoverProduct>string</ns2:CutoverProduct>
               <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
               </ns2:ProductParameters>
               <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                <ns2:ProductId><!-- mandatory -->string</ns2:ProductId>
                <ns2:ProductEquivalenceId>string</ns2:ProductEquivalenceId>
                <ns2:TariffName>string</ns2:TariffName>
                <ns2:ProductName>string</ns2:ProductName>
                <ns2:ProductFamily>string</ns2:ProductFamily>
                <ns2:MonthlyFee>3</ns2:MonthlyFee>
                <ns2:ProductDescription>string</ns2:ProductDescription>
                <ns2:ProductClassification>string</ns2:ProductClassification>
                <ns2:ExclusiveGroup><!-- between zero and unlimited repetitions of this element -->string</ns2:ExclusiveGroup>
                <ns2:ProductDefault>true</ns2:ProductDefault>
                <ns2:ProductRequestDateAlignment>string</ns2:ProductRequestDateAlignment>
                <ns2:ProductTypeEquivalenceId>string</ns2:ProductTypeEquivalenceId>
                <ns2:StartDate>2016-04-18</ns2:StartDate>
                <ns2:ExpiryDate>2016-04-18</ns2:ExpiryDate>
                <ns2:ProductStatus>string</ns2:ProductStatus>
                <ns2:ExtendedProductStatus>string</ns2:ExtendedProductStatus>
                <ns2:Requester>string</ns2:Requester>
                <ns2:CutoverProduct>string</ns2:CutoverProduct>
                <ns2:ProductParameters><!-- between zero and unlimited repetitions of this element -->
                 <ns2:paramName><!-- mandatory -->string</ns2:paramName>
                 <ns2:paramValue><!-- mandatory -->string</ns2:paramValue>
                </ns2:ProductParameters>
                <ns2:InclusiveProducts><!-- between zero and unlimited repetitions of this element -->
                 <ns2:productType>Cycle detected, further nesting not shown</ns2:productType>
                </ns2:InclusiveProducts>
                <ns2:sharingInfo>
                 <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                 <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                 <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
                </ns2:sharingInfo>
                <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                 <ns2:name><!-- mandatory -->string</ns2:name>
                 <ns2:value><!-- mandatory -->string</ns2:value>
                </ns2:allowances>
               </ns2:InclusiveProducts>
               <ns2:sharingInfo>
                <ns2:isShareable><!-- mandatory -->true</ns2:isShareable>
                <ns2:isPrimaryShareable>true</ns2:isPrimaryShareable>
                <ns2:isSecondaryShareable>true</ns2:isSecondaryShareable>
               </ns2:sharingInfo>
               <ns2:allowances><!-- between zero and unlimited repetitions of this element -->
                <ns2:name><!-- mandatory -->string</ns2:name>
                <ns2:value><!-- mandatory -->string</ns2:value>
               </ns2:allowances>
              </mtd:tariff>
              <mtd:responseCode><!-- mandatory -->string</mtd:responseCode>
             </mtd:validTariffs>
            </mtd:getValidTariffs_2Response>
        getValidTariffs_2Fault_mta:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            SOAFaultOriginator:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultOriginator_ns1'
            SOAFaultCode:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOAFaultCode_ns1'
            faultDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: A human readable description of the error.
            faultTrace:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              description: "A computer generated dump of the fault (may help\n\t\t\t\t\t\tin
                debugging problems)."
            SOATransactionID:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/SOATransactionID_ns1'
          required:
          - SOAFaultOriginator
          - SOAFaultCode
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,
            if something goes wrong."
          example: |2-

            <mtd:getValidTariffs_2Fault xmlns:mtd="http://soa.o2.co.uk/managepostpaytariffdata_2" xmlns:ns1="http://soa.o2.co.uk/coredata_1">
             <ns1:SOAFaultOriginator><!-- mandatory -->string</ns1:SOAFaultOriginator>
             <ns1:SOAFaultCode><!-- mandatory -->string</ns1:SOAFaultCode>
             <ns1:faultDescription>string</ns1:faultDescription>
             <ns1:faultTrace>string</ns1:faultTrace>
             <ns1:SOATransactionID>string</ns1:SOATransactionID>
            </mtd:getValidTariffs_2Fault>
        accountType_ns1_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            portalID:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/portalIDType_ns1'
            msisdn:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/msisdnType_ns1'
              description: A msisdn, in international format i.e.,"447712345678"
            accountDetail:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/accountDetail_ns1'
              description: Account Details
          description: "Data type to define a customers account. This could be\n\t\t\t\teither
            a portal account, msisdn, or a companion account\n\t\t\t\tand msisdn.
            Or a Bank Account program ID and account ID\n\t\t\t\t(initially for Timberlake)"
          x-xsi-type: accountType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          x-xsi-type-uniquename: accountType_ns1_mtd
        retrieveAdditionalInfoType_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            sharingInfo:
              type: boolean
              description: Indicate if sharing information of tariff/service to be
                returned in the response.
            allowanceInfo:
              type: boolean
              description: Indicate if inclusive allowance for the tariff/service
                to be returned in the response.
          description: Addition information about the product subscribed.
          x-xsi-type: retrieveAdditionalInfoType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: retrieveAdditionalInfoType_mtd
        serviceContractType_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            startDate:
              type: string
              format: date
              description: Date the contract started – original activation date or
                last upgrade date.
            endDate:
              type: string
              format: date
              description: The date the contract will end.
            minimumTerm:
              type: number
              description: Minimum term of the contract in months.
            tariff:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productType_ns2_mtd'
              description: The tariff product related to services provided by the
                contract.
            billingAccountNumber:
              xml:
                namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
                prefix: mtd
              type: string
              maxLength: 20
              minLength: 6
              description: "A billing account, as it appears in the back end billing\n\t\t\t\tsystem
                (Companion).;\nBilling Account that receives charges generated by
                this contract."
            MSISDN:
              xml:
                namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
                prefix: mtd
              type: string
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
                strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand
                translated into localised formats on the\n\t\t\t\tpresentation and
                backend layers.;\nMust be in international format, e.g. 447702775390."
          required:
          - tariff
          description: Service contract details.
          x-xsi-type: serviceContractType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: serviceContractType_mtd
        SOAFaultOriginator_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
        SOAFaultCode_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
        SOATransactionID_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
        businessPoliciesType_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            businessPolicy:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/businessPolicy_ns2_mtd'
              minItems: 1
          required:
          - businessPolicy
          description: A list of policies active against the current contract.
          x-xsi-type: businessPoliciesType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: businessPoliciesType_mtd
        validTariffsType_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            tariff:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productType_ns2_mtd'
              minItems: 1
              description: List of tariffs which the customer is eligible to move
                to.
            responseCode:
              type: string
              description: "The response code indicates the status of the response.\n\t\t\t\t\tIf
                all the records are returned, it returns success code otherwise warning
                code."
          required:
          - tariff
          - responseCode
          description: List of valid tariffs
          x-xsi-type: validTariffsType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: validTariffsType_mtd
        productType_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: object
          properties:
            ProductId:
              type: string
              description: "System identifier for the product. Not\n\t\t\t\t\t\tcustomer-friendly
                - to be used in subsequent\n\t\t\t\t\t\tupdate calls."
            ProductEquivalenceId:
              type: string
              description: "The master product equivalence Id to identify\n\t\t\t\t\t\tdifferent
                versions of the same product across\n\t\t\t\t\t\tthe product catalogues
                for different channels."
            TariffName:
              type: string
              description: "The billing Tariff name. This is will be\n\t\t\t\t\t\tpopulated
                only while retrieving the current\n\t\t\t\t\t\tcontract along with
                Tariff. Don't use this field\n\t\t\t\t\t\tas this will be deprecated."
            ProductName:
              type: string
              description: "Customer friendly marketing name for the\n\t\t\t\t\t\tproduct.
                Should be consistent with the sales\n\t\t\t\t\t\tchannels and the
                bill."
            ProductFamily:
              type: string
              description: "The customer tariff family. e.g. SIMO, 1M, 12M, 18M, 24M,
                \n\t\t\t\tIPHONE, 24M IPHONE. This is applicable only to Tariffs."
            MonthlyFee:
              type: number
              description: Monthly recurring fee in UK pence.
            ProductDescription:
              type: string
              description: Description of the product.
            ProductClassification:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productClassification_ns2'
              description: Sales category for this product.
            ExclusiveGroup:
              type: array
              items:
                type: string
              description: "Identifies the group of products to which this\n\t\t\t\t\t\tproduct
                belongs. Only one product in the group\n\t\t\t\t\t\tcan be active
                on a service contract at any one\n\t\t\t\t\t\ttime."
            ProductDefault:
              type: boolean
              description: "Indicates whether this product is the default\n\t\t\t\t\t\twithin
                the chosen tariff."
            ProductRequestDateAlignment:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productRequestDateAlignmentType_ns2'
              description: "Indicates whether the Tariff, or addition or\n\t\t\t\t\t\tremoval
                of a bolt-on or other service, must be\n\t\t\t\t\t\t(or may be) requested
                to take place on a future\n\t\t\t\t\t\tdate."
            ProductTypeEquivalenceId:
              type: string
              description: "The product type equivalence Id to identify\n\t\t\t\t\t\tchargeable
                and non chargeable versions of the\n\t\t\t\t\t\tsame product across
                the product categories for a\n\t\t\t\t\t\tspecific channel."
            StartDate:
              type: string
              format: date
              description: The date on which the product becomes effective.
            ExpiryDate:
              type: string
              format: date
              description: "For promotional products, the date on which the\n\t\t\t\t\t\tproduct
                expires."
            ProductStatus:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productStatus_ns2'
              description: The product status.
            ExtendedProductStatus:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/extendedProductStatus_ns2'
              description: "The extended product status.Will be populated\n\t\t\t\t\t\tonly
                for pending products."
            Requester:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/requester_ns2'
              description: "The requester of the service request.This will\n\t\t\t\t\t\tbe
                populated only for the SRs which is pending\n\t\t\t\t\t\tor inprogress
                ones."
            CutoverProduct:
              type: string
              description: "For promotional products, the product that will\n\t\t\t\t\t\tbe
                added to the service contract once the expiry\n\t\t\t\t\t\tdate is
                reached."
            ProductParameters:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productParamType_ns2'
              description: Additional information required by the product
            InclusiveProducts:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productType_ns2'
              description: "List of products which are explicitly provided\n\t\t\t\t\t\tby
                the service contract, typically for no\n\t\t\t\t\t\tadditional charge.
                Currently inclusive bolt-ons\n\t\t\t\t\t\t(for some high value tariffs)
                and data bolt-ons."
            sharingInfo:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/sharingInfoType_ns2'
              description: Returns information on sharing tariff.
            allowances:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/allowanceType_ns2'
              description: List of inclusive allowances available for the product.
          required:
          - ProductId
          description: Product structure.
          x-xsi-type: productType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: productType_ns2
        productType_ns2_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            ProductId:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "System identifier for the product. Not\n\t\t\t\t\t\tcustomer-friendly
                - to be used in subsequent\n\t\t\t\t\t\tupdate calls."
            ProductEquivalenceId:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "The master product equivalence Id to identify\n\t\t\t\t\t\tdifferent
                versions of the same product across\n\t\t\t\t\t\tthe product catalogues
                for different channels."
            TariffName:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "The billing Tariff name. This is will be\n\t\t\t\t\t\tpopulated
                only while retrieving the current\n\t\t\t\t\t\tcontract along with
                Tariff. Don't use this field\n\t\t\t\t\t\tas this will be deprecated."
            ProductName:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "Customer friendly marketing name for the\n\t\t\t\t\t\tproduct.
                Should be consistent with the sales\n\t\t\t\t\t\tchannels and the
                bill."
            ProductFamily:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "The customer tariff family. e.g. SIMO, 1M, 12M, 18M, 24M,
                \n\t\t\t\tIPHONE, 24M IPHONE. This is applicable only to Tariffs."
            MonthlyFee:
              type: number
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: Monthly recurring fee in UK pence.
            ProductDescription:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: Description of the product.
            ProductClassification:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productClassification_ns2'
              description: Sales category for this product.
            ExclusiveGroup:
              type: array
              items:
                type: string
                xml:
                  namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                  prefix: ns2
              description: "Identifies the group of products to which this\n\t\t\t\t\t\tproduct
                belongs. Only one product in the group\n\t\t\t\t\t\tcan be active
                on a service contract at any one\n\t\t\t\t\t\ttime."
            ProductDefault:
              type: boolean
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "Indicates whether this product is the default\n\t\t\t\t\t\twithin
                the chosen tariff."
            ProductRequestDateAlignment:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productRequestDateAlignmentType_ns2'
              description: "Indicates whether the Tariff, or addition or\n\t\t\t\t\t\tremoval
                of a bolt-on or other service, must be\n\t\t\t\t\t\t(or may be) requested
                to take place on a future\n\t\t\t\t\t\tdate."
            ProductTypeEquivalenceId:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "The product type equivalence Id to identify\n\t\t\t\t\t\tchargeable
                and non chargeable versions of the\n\t\t\t\t\t\tsame product across
                the product categories for a\n\t\t\t\t\t\tspecific channel."
            StartDate:
              type: string
              format: date
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: The date on which the product becomes effective.
            ExpiryDate:
              type: string
              format: date
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "For promotional products, the date on which the\n\t\t\t\t\t\tproduct
                expires."
            ProductStatus:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productStatus_ns2'
              description: The product status.
            ExtendedProductStatus:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/extendedProductStatus_ns2'
              description: "The extended product status.Will be populated\n\t\t\t\t\t\tonly
                for pending products."
            Requester:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/requester_ns2'
              description: "The requester of the service request.This will\n\t\t\t\t\t\tbe
                populated only for the SRs which is pending\n\t\t\t\t\t\tor inprogress
                ones."
            CutoverProduct:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "For promotional products, the product that will\n\t\t\t\t\t\tbe
                added to the service contract once the expiry\n\t\t\t\t\t\tdate is
                reached."
            ProductParameters:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productParamType_ns2'
              description: Additional information required by the product
            InclusiveProducts:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productType_ns2'
              description: "List of products which are explicitly provided\n\t\t\t\t\t\tby
                the service contract, typically for no\n\t\t\t\t\t\tadditional charge.
                Currently inclusive bolt-ons\n\t\t\t\t\t\t(for some high value tariffs)
                and data bolt-ons."
            sharingInfo:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/sharingInfoType_ns2'
              description: Returns information on sharing tariff.
            allowances:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/allowanceType_ns2'
              description: List of inclusive allowances available for the product.
          required:
          - ProductId
          description: Product structure.
          x-xsi-type: productType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: productType_ns2_mtd
        tariffProductsType_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            productId:
              type: array
              items:
                xml:
                  namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
                  prefix: mtd
                type: string
                maxLength: 80
                minLength: 1
                description: The catologue identifier for a product
              minItems: 1
          required:
          - productId
          description: a set of bolton product ids
          x-xsi-type: tariffProductsType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: tariffProductsType_mtd
        retrieveAdditionalInfoType_2_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            parameterName:
              type: array
              items:
                type: string
              minItems: 1
              description: Indicate the information of bolton to be returned in the
                response.
          required:
          - parameterName
          description: Addition information about the bolton subscribed.
          x-xsi-type: retrieveAdditionalInfoType_2
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: retrieveAdditionalInfoType_2_mtd
        tariffCompatibilityByMsisdnType_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            tariffProduct:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/msisdnProductsType_mtd'
              minItems: 1
          required:
          - tariffProduct
          description: tariffCompatibilityByMisisdnType
          x-xsi-type: tariffCompatibilityByMsisdnType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: tariffCompatibilityByMsisdnType_mtd
        tariffCompatibilityByProductListType_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            tariffProduct:
              type: array
              items:
                $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/tariffProductType_mtd'
              minItems: 1
          required:
          - tariffProduct
          description: a set of bolton products.
          x-xsi-type: tariffCompatibilityByProductListType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: tariffCompatibilityByProductListType_mtd
        portalIDType_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
          description: "The portal account username (i.e., Portal ID). \n\t\t\t\tA
            portal account is normally of the form “john.smith@o2.co.uk\". \n\t\t\t\tThe
            Portal ID in this example is \"john.smith\" and the domain is \"o2.co.uk\"."
          x-xsi-type: portalIDType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          x-xsi-type-uniquename: portalIDType_ns1
        msisdnType_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
          description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\t\t\tas
            strings, including country codes i.e. \"447734123456\";\n\t\t\t\tand translated
            into localised formats on the\n\t\t\t\tpresentation and backend layers."
          x-xsi-type: msisdnType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          x-xsi-type-uniquename: msisdnType_ns1
        accountDetail_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: object
          properties:
            billingAccountType:
              xml:
                namespace: http://soa.o2.co.uk/coredata_1
                prefix: ns1
              type: string
              enum:
              - MOBILE
              description: "The type of account as it is defined in the\n\t\t\t\t\t\tbilling
                system (only \"MOBILE\" currently\n\t\t\t\t\t\tdefined)."
            accountNumber:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/billingAccountNumberType_ns1'
              description: The companion account.
            msisdn:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/msisdnType_ns1'
              description: The msisdn within the above account.
          required:
          - billingAccountType
          - accountNumber
          - msisdn
          description: Account Details
          x-xsi-type: accountDetail
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          x-xsi-type-uniquename: accountDetail_ns1
        businessPolicy_ns2_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            Subject:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/subject_ns2'
              description: "The entity that has permission to carry out the\n\t\t\t\t\t\toperation."
            Action:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/action_ns2'
              description: "The operation the permission covers. ADD – The\n\t\t\t\t\t\tsubject
                is allowed to add the object to the\n\t\t\t\t\t\tcontract. REMOVE
                – The subject is allowed to\n\t\t\t\t\t\tremove the object from the
                contract. SWAP – The\n\t\t\t\t\t\tsubject is allowed to swap the object
                for\n\t\t\t\t\t\tanother of the same type."
            ProductId:
              type: number
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "Product Id of the product the operation can act\n\t\t\t\t\t\ton."
            Channel:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/channel_ns2'
              description: "The channel over which the operation is\n\t\t\t\t\t\tpermitted."
            Permitted:
              type: boolean
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: Whether the operation is permitted or not.
            ReasonCode:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "If permission is denied, the business rule\n\t\t\t\t\t\treason
                code that is preventing the operation.\n\t\t\t\t\t\tThis will be referred
                by the Consumer to display\n\t\t\t\t\t\tthe appropriate message to
                the Customer."
            ReasonMessage:
              type: string
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              description: "If permission is denied, the message used for\n\t\t\t\t\t\tinternal
                (e.g. Ops, Customer Service) purposes\n\t\t\t\t\t\tand may be for
                the Customer."
          required:
          - Subject
          - Action
          - ProductId
          - Channel
          - Permitted
          description: Business policy details.
          x-xsi-type: businessPolicy
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: businessPolicy_ns2_mtd
        productClassification_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: string
          description: "Product classification valid values include \n\t\t\t\t\tNone\n\t\t\t\t\tTariff\n\t\t\t\t\tBar\n\t\t\t\t\tBilling
            Option\n\t\t\t\t\tBroadband\n\t\t\t\t\tData Bundle\n\t\t\t\t\tData Option\n\t\t\t\t\tData
            Roaming\n\t\t\t\t\tESME\n\t\t\t\t\tESME Short code\n\t\t\t\t\tInsurance\n\t\t\t\t\tInternational
            from UK\n\t\t\t\t\tInternational Roaming\n\t\t\t\t\tMessaging Bundle\n\t\t\t\t\tMixed
            Bundle\n\t\t\t\t\tPromotional\n\t\t\t\t\tSubscription Discount\n\t\t\t\t\tSupplementary
            Service\n\t\t\t\t\tText Service\n\t\t\t\t\tTreat\n\t\t\t\t\tVoice Bundle\n\t\t\t\t\tWiFi\n\t\t\t\t\tFamily
            Subscription\n\t\t\t\t\tFamily Discount\n\t\t\t\t\tCustomer Service Charge\n\t\t\t\t\tSupport"
          x-xsi-type: productClassification
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: productClassification_ns2
        productRequestDateAlignmentType_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: string
          maxLength: 20
          minLength: 1
          description: "Indicates whether the Tariff, or addition or removal of\n\t\t\t\ta
            bolt-on or other service, must be (or may be)\n\t\t\t\trequested to take
            place on a future date. Valid values\n\t\t\t\tare: NONE: Must be aligned
            to current date and future\n\t\t\t\tdating not allowed BILLDATE: must
            be aligned to billing\n\t\t\t\tdate BILLDATE-1: must be aligned to the
            day before the\n\t\t\t\tbilling date ANY: may be future dated to any date"
          x-xsi-type: productRequestDateAlignmentType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: productRequestDateAlignmentType_ns2
        productStatus_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: string
          enum:
          - "0"
          - "1"
          - "2"
          - "3"
          description: "Product Status\n\t\t\t\t0\tActive \n\t\t\t\t1\tPendingAdd\n\t\t\t\t2\tPendingRemove\n\t\t\t\t3\tPendingModify"
          x-xsi-type: productStatus
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: productStatus_ns2
        extendedProductStatus_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: string
          description: "The extended product status valid values include \n\t\t\t\t\tNEW\n\t\t\t\t\tACCEPTED\n\t\t\t\t\tDELAYED\n\t\t\t\t\tEXECUTION"
          x-xsi-type: extendedProductStatus
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: extendedProductStatus_ns2
        requester_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: string
          minLength: 1
          maxLength: 1
          description: "The requester of the service request. Notice that new\n\t\t\t\tvlaues
            will be added when the client are added. Valid\n\t\t\t\tvalues: C – Carex
            B – EBPP payments E – Geneva\n\t\t\t\tTreatments processor H – Chorelys
            Q – EQCU O – O2 text S\n\t\t\t\t– Bulk service request W – Shops (new
            connections ,\n\t\t\t\tupgrades and replacements) R – Retail shops direct
            I –\n\t\t\t\tClient (iPhone) X – Product Expiration and\n\t\t\t\tTransformation
            D – Consumer Dashboard via SOA"
          x-xsi-type: requester
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: requester_ns2
        productParamType_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: object
          properties:
            paramName:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/paramNameType_ns2'
              description: Type of product parameter, ex:CALLINGCIRCLE, isNextBestTariff
            paramValue:
              xml:
                namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
                prefix: ns2
              type: string
              maxLength: 255
              description: Product parameter value, e.g. 447709123456, Yes/No values
          required:
          - paramName
          - paramValue
          description: Product parameter type.
          x-xsi-type: productParamType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: productParamType_ns2
        sharingInfoType_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: object
          properties:
            isShareable:
              type: boolean
              description: Indicates if an tairff/service is shareable.
            isPrimaryShareable:
              type: boolean
              description: Indicate the tariff/service as primary shareable.
            isSecondaryShareable:
              type: boolean
              description: Indicate the tariff/service as secondary shareable.
          required:
          - isShareable
          description: Returns product sharing information.
          x-xsi-type: sharingInfoType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: sharingInfoType_ns2
        allowanceType_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: object
          properties:
            name:
              type: string
              description: 'Indicates the name of the allowance. Example: Voice, SMS,
                MMS, Data'
            value:
              type: string
              description: Indicates the value of the allowance.
          required:
          - name
          - value
          description: Returns the inclusive allowances available for the product.
          x-xsi-type: allowanceType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: allowanceType_ns2
        msisdnProductsType_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            product:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/productType_ns2_mtd'
            compatibleStatus:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/compatibleStatusType_mtd'
            isCompatibilityStatusOverridable:
              type: boolean
            reasonMessage:
              type: string
              description: The descriptive message for the compatibility status
          required:
          - product
          - compatibleStatus
          - reasonMessage
          description: msisdnProductType
          x-xsi-type: msisdnProductsType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: msisdnProductsType_mtd
        tariffProductType_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: object
          properties:
            productId:
              xml:
                namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
                prefix: mtd
              type: string
              maxLength: 80
              minLength: 1
              description: The catologue identifier for a product
            compatibleStatus:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/compatibleStatusType_mtd'
            isCompatibilityStatusOverridable:
              type: boolean
            reasonMessage:
              type: string
              description: The descriptive message for the compatibility status
          required:
          - productId
          - compatibleStatus
          - reasonMessage
          description: a set of bolton product ids along with Compatibility flag for
            a given tariff.
          x-xsi-type: tariffProductType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: tariffProductType_mtd
        billingAccountNumberType_ns1:
          xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          type: string
          maxLength: 20
          minLength: 6
          description: "A billing account, as it appears in the back end billing\n\t\t\t\tsystem
            (Companion)."
          x-xsi-type: billingAccountNumberType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/coredata_1
            prefix: ns1
          x-xsi-type-uniquename: billingAccountNumberType_ns1
        subject_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: string
          enum:
          - CUSTOMER
          - STD AGENT
          - RET AGENT
          description: "A type that only allows CUSTOMER, STD AGENT, RET AGENT\n\t\t\t\tas
            valid values."
          x-xsi-type: subject
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: subject_ns2
        action_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: string
          enum:
          - ADD
          - REMOVE
          - SWAP
          - CANCEL
          description: Action - ADD,REMOVE,SWAP or CANCEL.
          x-xsi-type: action
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: action_ns2
        channel_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: string
          description: Channel valid values include DASHBOARD, FAMILY.
          x-xsi-type: channel
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: channel_ns2
        paramNameType_ns2:
          xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          type: string
          description: ParamNameType valid value - CALLINGCIRCLE.
          x-xsi-type: paramNameType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/pscommonpostpaydata_2
            prefix: ns2
          x-xsi-type-uniquename: paramNameType_ns2
        compatibleStatusType_mtd:
          xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          type: string
          description: "The compatibility status which can be one of the following
            4 values \n        \t\tNOT_COMPATIBLE \n        \t\tCOMPATIBLE_REMOVED\n
            \       \t\tCOMPATIBLE_COPIED \n        \t\tCOMPATIBLE_NOT_COPIED"
          x-xsi-type: compatibleStatusType
          x-xsi-type-xml:
            namespace: http://soa.o2.co.uk/managepostpaytariffdata_2
            prefix: mtd
          x-xsi-type-uniquename: compatibleStatusType_mtd
  assembly:
    execute:
    - activity-log:
        title: Log:Payload
        content: payload
        error-content: payload
        version: 1.0.0
    - gatewayscript:
        title: GS:FetchValidationConfig
        version: 1.0.0
        source: |-
          /* ************************************************************************************************************* */
          /* ************************************************************************************************************* */
          /* FileName                      Version    Created By                  Modified By               Date           */
          /* FetchValidationConfig.js      1.0        Dinesh Tomar                                          04-July-2018   */
          /*                                                                                                               */
          /* ************************************************************************************************************* */
          /* Purpose: This GW Script will create URL to fetch validation config for all apis                               */
          /*                                                                                                               */
          /* Required params:                                                                                              */
          /* ***************************************************************************************************************/
          var clientId = apim.getvariable('client.app.id');
          apim.setvariable('message.headers.x-ibm-client-id', clientId);
          apim.setvariable('message.headers.content-type', 'application/json');
          //form url for to fetch errorConfig JSON
          var requestURL = apim.getvariable('request.uri');
          var orgName = apim.getvariable('api.org.name');
          var hostName = requestURL.substr(0, requestURL.indexOf(orgName));
          var catalog = apim.getvariable('env.path');
          apim.setvariable('apicURLPrefix', hostName+orgName+'/'+catalog);
          var validationConfigURL = apim.getvariable('apicURLPrefix')+'/'+'config/validationconfig';
          apim.setvariable('validationConfigURL', validationConfigURL);
        description: This GW Script will create URL to fetch validation config for
          all apis
    - invoke:
        title: Invoke:ValidationConfig
        timeout: 60
        verb: GET
        cache-response: time-to-live
        cache-ttl: 60
        version: 1.0.0
        description: Load all messages  and properties in context
        target-url: $(validationConfigURL)
        output: validationConfig
    - gatewayscript:
        version: 1.0.0
        title: GS:ValidateParams
        source: "/* **********************************************************************************************************
          */\n/* **********************************************************************************************************
          */\n/* FileName                   Version    Created By                  Modified
          By               Date           */\n/* ValidateParams.js          1.0        Dinesh
          Tomar                                          03-July-2018   */\n/*                                                                                                            */\n/*
          **********************************************************************************************************
          */\n/* Purpose: This GW Script file will return all API configurations to
          be used for validating input params     */\n/*                                                                                                            */\n/*
          Required params:                                                                                           */\n/*
          ************************************************************************************************************/\nvar
          validationConfig = apim.getvariable('validationConfig.body');\nif (validationConfig
          == null || isJSONEmpty(validationConfig)){\n    apim.setvariable('errorName',
          'ConnectionError');\n    apim.error('ConnectionError', 500, 'Internal Error',
          'Connection error');\n}\nelse {\n    var apiName = apim.getvariable('api.name');\n
          \   var operationName = apim.getvariable('api.operation.path');\n    var
          apiConfig = validationConfig.apisConfig[apiName][operationName];\n    var
          paramsConfig = validationConfig.paramsConfig;\n    var requiredPathParams
          = apiConfig.requiredPathParams;\n    var requiredQueryParams = apiConfig.requiredQueryParams;\n
          \   var requiredHeaderParams = apiConfig.requiredHeaderParams;\n    validateRequiredParams('headers',
          requiredHeaderParams, paramsConfig);\n    validateRequiredParams('parameters',
          requiredQueryParams, paramsConfig);\n    validateRequiredParams('parameters',
          requiredPathParams, paramsConfig);\n}\n\nfunction validateRequiredParams(paramType,
          requiredParams, paramsConfig){\n    if (requiredParams !== \"\"){\n        var
          reqParams = requiredParams.split('|');\n        for (var i = 0; i < reqParams.length;
          i++){\n            var paramConfig = paramsConfig[reqParams[i]];\n            var
          inputParam = apim.getvariable('request.'+paramType+'.'+reqParams[i]);\n
          \           var nullValidation = ((inputParam != undefined) || (inputParam
          != null));\n            if (nullValidation){\n                var dataTypeValidation
          = true;\n                dataTypeValidation = validateDataType(inputParam,
          paramConfig);\n                var lengthValidation = true;\n                var
          allowedValuesValidation = true;\n                if (paramConfig.manLength
          || paramConfig.maxLength){\n                    lengthValidation = validateLength(inputParam,
          paramConfig);\n                }\n                if (paramConfig.allowedValues){\n
          \                   allowedValuesValidation = validateAllowedValues(inputParam,
          paramConfig);\n                }\n                if (!(dataTypeValidation)
          || !(lengthValidation) || !(allowedValuesValidation)){\n                    apim.setvariable('errorName',
          paramConfig.validationErrorName);\n                    apim.error(paramConfig.validationErrorName,
          paramConfig.validationErrorCode, 'Internal Error', paramConfig.validationErrorMessage);\n
          \                   return;\n                }\n                else {\n
          \                   apim.setvariable('message.headers.'+reqParams[i], inputParam);\n
          \                   var clientId = apim.getvariable('client.app.id');\n
          \                   apim.setvariable('message.headers.x-ibm-client-id',
          clientId);\n                    apim.setvariable('message.headers.content-type',
          'application/json');\n                    //form url for to fetch properties
          config JSON\n                    var configPropertiesURL = apim.getvariable('apicURLPrefix')+'/'+'config/properties';\n
          \                   apim.setvariable('configPropertiesURL', configPropertiesURL);\n
          \               }\n            }\n            else {\n                apim.setvariable('errorName',
          paramConfig.validationErrorName);\n                apim.error(paramConfig.validationErrorName,
          paramConfig.validationErrorCode, 'Internal Error', paramConfig.validationErrorMessage);\n
          \               return;\n            }\n            \n        }\n    }\n}\n\nfunction
          validateDataType(inputParam, paramConfig){\n    if (paramConfig.dataType
          == 'number'){\n        return !(isNaN(parseInt(inputParam)));\n    }\n    else
          if (paramConfig.dataType == 'email'){ \n        if (inputParam.includes('.')
          && inputParam.includes('@') && (! inputParam.includes(' ')))\n            return
          true;\n        else\n            return false;\n    }\n    else if (paramConfig.dataType
          == 'string'){\n        if (inputParam != null && inputParam.length != 0)\n
          \           return true;\n        else\n            return false;\n    }\n
          \   else if (paramConfig.dataType == 'version'){\n        if (inputParam
          == null || inputParam.length == 0)\n            return false;\n        else
          if (inputParam.includes('.')) {\n            var splittedArray = inputParam.split('.');\n
          \           var result = true;\n            for (var i = 0; i < splittedArray.length;
          i++){\n                if (isNaN(parseInt(splittedArray[i]))){\n                    result
          = false;\n                    return result;\n                }\n            }\n
          \           return result;\n        }\n        else{\n            return
          !(isNaN(parseInt(inputParam)));\n        }\n    }\n    else\n        return
          true;\n}\n\nfunction validateLength(inputParam, paramConfig){\n    var minLength
          = paramConfig.minLength;\n    var maxLength = paramConfig.maxLength;\n    if
          ((inputParam.length >= minLength) && (inputParam.length <= maxLength))\n
          \       return true;\n    else\n        return false;\n}\n\nfunction validateAllowedValues(inputParam,
          paramConfig){\n    var allowedValues = paramConfig.allowedValues;\n    var
          allowedValuesArray = allowedValues.split('|');\n    var result = false;\n
          \   for (var i = 0; i < allowedValuesArray.length; i++){\n        if (allowedValuesArray[i]
          == inputParam){\n            result = true;\n            return result;\n
          \       }\n    }\n    return result;\n}\n\nfunction isJSONEmpty(jsonObject)
          {\n    var member;\n    var result = true;\n    for (member in jsonObject)
          {\n        if (jsonObject[member] != null) {\n            result = false;\n
          \       }\n    }\n    return result;\n}"
        description: This GW Script file will return all API configurations to be
          used for validating input params
    - invoke:
        target-url: $(configPropertiesURL)
        title: Invoke:PropertiesHandler
        description: Load all messages  and properties in context
        output: messages-property
    - gatewayscript:
        title: GS:GetDisambiguationId
        version: 1.0.0
        source: |-
          /* ********************************************************************************************************* */
          /* ********************************************************************************************************* */
          /* FileName                  Version    Created By                  Modified By               Date           */
          /* GetDisambiguationId.js    1.0        Dinesh Tomar                                          08-May-2018    */
          /*                                                                                                           */
          /* ********************************************************************************************************* */
          /* Purpose: This GW Script file will create request to get disambiguation id for the msisdn received         */
          /*                                                                                                           */
          /* Required params:                                                                                          */
          /* ********************************************************************************************************* */
          //load properties configuration from context variable
          var messages = apim.getvariable('messages-property.body');

          if (messages == null || isJSONEmpty(messages)){
              apim.setvariable('errorName', 'ConnectionError');
              apim.error('ConnectionError', 500, 'Internal Error', 'Connection error');
          }
          else {
              //get all headers
              var clientId = apim.getvariable('client.app.id');
              var msisdn = apim.getvariable('request.parameters.msisdn');
              var authCode = apim.getvariable('request.headers.x-authcode');
              apim.setvariable('message.headers.x-ibm-client-id', clientId);
              apim.setvariable('message.headers.msisdn', msisdn);
              apim.setvariable('message.headers.x-authcode', authCode);
              var apicDisambiguationIdURL = apim.getvariable('apicURLPrefix')+messages.authserver.generateDisambiguationId.apicURI;
              apim.setvariable('apicDisambiguationIdURL', apicDisambiguationIdURL);
              apim.setvariable('soaGetContractEndpoint', messages.soa.getContract.uri);
              apim.setvariable('soaGetContractRevisionsEndpoint', messages.soa.getContractRevisions.uri);
          }

          function isJSONEmpty(jsonObject) {
              var member;
              var result = true;
              for (member in jsonObject) {
                  if (jsonObject[member] != null) {
                      result = false;
                  }
              }
              return result;
          }
        description: This GW Script file will create request to get disambiguation
          id for the msisdn received
    - invoke:
        title: Invoke:GetDisambiguationId
        timeout: 60
        verb: GET
        cache-response: protocol
        cache-ttl: 900
        version: 1.0.0
        target-url: $(apicDisambiguationIdURL)
        output: disambiguationId
    - gatewayscript:
        title: GS:GetPhoneDetails
        version: 1.0.0
        source: |-
          /* ******************************************************************************************************* */
          /* ******************************************************************************************************* */
          /* FileName                Version    Created By                  Modified By               Date           */
          /* GetPhoneDetails.js      1.0        Dinesh Tomar                                          08-May-2018    */
          /*                                                                                                         */
          /* ******************************************************************************************************* */
          /* Purpose: This GW Script file will create request to get phone details                                   */
          /*                                                                                                         */
          /* Required params:                                                                                        */
          /* ******************************************************************************************************* */
          //load properties configuration from context variable
          var messages = apim.getvariable('messages-property.body');
          //get access token and Disambiguation Id from context variables
          if (isJSONEmpty(apim.getvariable('disambiguationId.body'))){
              apim.setvariable('errorName', 'ConnectionError');
              apim.error('ConnectionError', 500, 'Internal Error', 'Connection error');
          }
          else {
              var accessToken = apim.getvariable('disambiguationId.body').access_token;
              var disambiguationId = apim.getvariable('disambiguationId.body').disambiguation_id;
              apim.setvariable('message.headers.disambiguation-id', disambiguationId);
              apim.setvariable('message.headers.authorization', "Bearer "+accessToken);
              var phoneDetailsURL = messages.phoneservice.msisdndetails.uri;
              //phoneDetailsURL = phoneDetailsURL.replace('CURRENT', apim.getvariable('message.headers.msisdn'));
              apim.setvariable('phoneDetailsURL', phoneDetailsURL);
              var phonePlanURL = messages.phoneservice.phoneplan.uri;
              //phonePlanURL = phonePlanURL.replace('CURRENT', apim.getvariable('message.headers.msisdn'));
              apim.setvariable('phonePlanURL', phonePlanURL);
              apim.setvariable('tariffDevicePlanMessage', messages.tariff.devicePlan.msg);
              apim.setvariable('pendingTariffDevicePlanMessage', messages.pendingTariff.devicePlan.msg);
              apim.setvariable('tariffDetailsLink', messages.tariff.details.link.uri.pattern);
          }

          function isJSONEmpty(jsonObject) {
              var member;
              var result = true;
              for (member in jsonObject) {
                  if (jsonObject[member] != null) {
                      result = false;
                  }
              }
              return result;
          }
        description: This GW Script file will create request to get phone details
    - invoke:
        title: Invoke:GetPhoneDetails
        timeout: 60
        verb: GET
        cache-response: protocol
        cache-ttl: 900
        version: 1.0.0
        target-url: $(phoneDetailsURL)
        output: phoneDetails
    - if:
        title: If-phoneCCAActive
        condition: apim.getvariable('phoneDetails.body').isCCA && apim.getvariable('phoneDetails.body').ccaStatus
          == 'ACTIVE'
        execute:
        - invoke:
            title: Invoke:GetPhonePlan
            timeout: 60
            verb: GET
            cache-response: protocol
            cache-ttl: 900
            version: 1.0.0
            target-url: $(phonePlanURL)
            output: phonePlan
        version: 1.0.0
    - set-variable:
        title: SetVar-Headers
        actions:
        - set: message.headers.content-type
          value: application/xml
        - set: message.headers.soapaction
          value: ""
        version: 1.0.0
    - xslt:
        title: XSLT:Create-GetContract-SOARequest
        input: false
        version: 1.0.0
        source: "<!-- ****************************************************************************************************
          -->\n<!-- ****************************************************************************************************
          -->\n<!-- FileName                                  Version     Created
          By         Modified By     Date        -->\n<!-- Create-GetContract-SOARequest.xsl
          \        1.0         Dinesh Tomar                       08-May-2018 -->\n<!--
          \                                                                                                     -->\n<!--
          ****************************************************************************************************
          -->\n<!-- Purpose: This XSLT code will create SOAP request for GetContract
          operation of managepostpaytariff    -->\n<!--          SOA service                                                                                 -->\n<!--
          Required params:                                                                                     -->\n<!--
          ****************************************************************************************************
          -->\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"
          xmlns:dp=\"http://www.datapower.com/extensions\" xmlns:func=\"http://exslt.org/functions\"
          xmlns:apim=\"http://www.ibm.com/apimanagement\" extension-element-prefixes=\"dp
          func apim\">\n    <xsl:import href=\"local:///isp/policy/apim.custom.xsl\"
          />\n    <xsl:output method=\"xml\" omit-xml-declaration=\"yes\" indent=\"yes\"/>\n
          \   <xsl:strip-space elements=\"*\"/>\n    <xsl:template match=\"/\">\n
          \       <xsl:call-template name=\"apim:setVariable\">\n            <xsl:with-param
          name=\"varName\" select=\"'message.headers.content-type'\" />\n            <xsl:with-param
          name=\"value\" select=\"'application/xml'\" />\n        </xsl:call-template>\n
          \       <soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\">\n
          \           <soap:Header xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\n\t\t\t\t<wsse:Security
          xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\">\n\t\t\t\t
          \   <wsse:UsernameToken>\n\t\t\t\t\t\t<wsse:Username>apic_123</wsse:Username>\n\t\t\t\t\t\t<wsse:Password>t3st1ng</wsse:Password>\n\t\t\t\t\t</wsse:UsernameToken>\n\t\t\t\t</wsse:Security>\n
          \           </soap:Header>\n            <soapenv:Body>\n                <ns3:getContract
          xmlns:ns2=\"http://soa.o2.co.uk/pscommonpostpaydata_2\"\n                    xmlns:ns3=\"http://soa.o2.co.uk/managepostpaytariffdata_2\"\n
          \                   xmlns=\"http://soa.o2.co.uk/coredata_1\"\n                    xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\">\n
          \                   <ns3:customerId>\n                        <msisdn><xsl:value-of
          select=\"apim:getContext('request.parameters.msisdn')\"/></msisdn>\n                    </ns3:customerId>\n
          \                   <ns3:retrieveAdditionalInfo>\n                        <ns3:allowanceInfo>true</ns3:allowanceInfo>\n
          \                   </ns3:retrieveAdditionalInfo>\n                </ns3:getContract>\n
          \           </soapenv:Body>\n        </soapenv:Envelope>        \n    </xsl:template>\n</xsl:stylesheet>\n"
    - invoke:
        title: Invoke:SOA:GetContract
        timeout: 60
        verb: POST
        cache-response: protocol
        cache-ttl: 900
        version: 1.0.0
        target-url: $(soaGetContractEndpoint)
        output: getContractOut
        tls-profile: apim-tls-client-profile:1.0.0
    - map:
        title: Map:CurrentTariffs
        inputs:
          input:
            schema:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractOutput'
            variable: getContractOut.body
            content: application/xml
          phonePlan:
            schema:
              type: object
              properties:
                installmentAmount:
                  type: number
                  format: double
                  name: installmentAmount
            variable: phonePlan.body
            content: application/json
        outputs:
          currentTariff:
            schema:
              $ref: '#/definitions/PostPayTariff'
            variable: currentTariff
            content: application/json
        actions:
        - set: currentTariff.start_date
          from: input.Envelope.Body.getContractResponse.currentContract.tariff.StartDate
          value: |-
            function formatDate(date){
                var year = date.substr(0,4);
                var month = date.substr(5,2);
                var day = date.substr(8,2);
                return day+"."+month+"."+year;
            }

            formatDate($(input.Envelope.Body.getContractResponse.currentContract.tariff.StartDate));
        - set: currentTariff.tariff_name
          from: input.Envelope.Body.getContractResponse.currentContract.tariff.ProductName
        - set: currentTariff.length_of_contract
          from: input.Envelope.Body.getContractResponse.currentContract.minimumTerm
          value: |-
            formatDuration($(input.Envelope.Body.getContractResponse.currentContract.minimumTerm));

            function formatDuration(duration){
                if (duration == null){
                    return null;
                }
                else if (duration == "1"){
                    return "1 month";
                }
                else {
                    return duration + " months";
                }
            }
        - set: currentTariff.monthly_charge
          from: input.Envelope.Body.getContractResponse.currentContract.tariff.MonthlyFee
          value: '"£".concat(($(input.Envelope.Body.getContractResponse.currentContract.tariff.MonthlyFee)/100).toFixed(2));'
        - set: currentTariff.renewal_date
          from: input.Envelope.Body.getContractResponse.currentContract.endDate
          value: |-
            function formatDate(date){
                var year = date.substr(0,4);
                var month = date.substr(5,2);
                var day = date.substr(8,2);
                return day+"."+month+"."+year;
            }

            formatDate($(input.Envelope.Body.getContractResponse.currentContract.endDate));
        - set: currentTariff.device_cost
          from: phonePlan.installmentAmount
          value: '"£".concat($(phonePlan.installmentAmount).toFixed(2).toString());'
        - set: currentTariff.device_plan_message
          from: phonePlan.installmentAmount
          value: apim.getvariable('tariffDevicePlanMessage').replace('%s', $(phonePlan.installmentAmount).toFixed(2).toString());
        - set: currentTariff._links.details
          from:
          - input.Envelope.Body.getContractResponse.currentContract.MSISDN
          - input.Envelope.Body.getContractResponse.currentContract.tariff.TariffName
          - input.Envelope.Body.getContractResponse.currentContract.tariff.ProductName
          value: |
            tariffDetailsLink($(input.Envelope.Body.getContractResponse.currentContract.MSISDN), $(input.Envelope.Body.getContractResponse.currentContract.tariff.TariffName), $(input.Envelope.Body.getContractResponse.currentContract.tariff.ProductName));

            function tariffDetailsLink(msisdn, tariffName, productName){
                if (msisdn != null && tariffName != null && productName != null){
                    var link = encodeURI(apim.getvariable('tariffDetailsLink').replace('#msisdn#', msisdn).replace('#tariffname#', tariffName).replace('#productlabel#', productName));
                    return link;
                }
                else{
                    return null;
                }
            }
        - create: currentTariff.allowances
          foreach: input.Envelope.Body.getContractResponse.currentContract.tariff.allowances
          from: input.Envelope.Body.getContractResponse.currentContract.tariff.allowances
          actions:
          - set: $item
            from:
            - name
            - value
            value: "formatAllowances($(name), $(value));\n\nfunction formatAllowances(name,
              value){\n    var validNamesKeys = [\"data\", \"voice\", \"sms\", \"data_audio\",
              \"roam\"];\n    var validNamesValues = [\"data\", \"minutes\", \"texts\",
              \"UK data for music streaming\", \"O2 Travel\"];\n    var suffix;\n
              \   var prefix;\n    if (name != null && value != null){\n        for
              (var i = 0; i < validNamesKeys.length; i++){\n            if (validNamesKeys[i]
              == name){\n                suffix = validNamesValues[i];\n                i
              = validNamesKeys.length;\n            }\n            else {\n                suffix
              = \"unknown\";\n            }\n        }\n        if (name.includes('data')){\n
              \           if (value == -1){\n                prefix = \"Unlimited\";\n
              \           }\n            else if (value < 1024){\n                prefix
              = value.toString().concat(\"KB\");\n            }\n            else
              if (value < 1048576){\n                prefix = (value/1024).toFixed(0).toString().concat(\"MB\");\n
              \           }\n            else {\n                prefix = (value/1048576).toFixed(0).toString().concat(\"GB\");\n
              \           }            \n        }\n        else if (name.includes('voice')){\n
              \           if (value == -1){\n                prefix = \"Unlimited\";\n
              \           }\n            else {\n                prefix = (value *
              60).toString();   \n            }\n        }\n        else if (name.includes('sms')){\n
              \           if (value == -1){\n                prefix = \"Unlimited\";\n
              \           }\n            else {\n                prefix = value;   \n
              \           }\n        }\n        else {\n            prefix = value;\n
              \       }\n        return prefix +\" \"+ suffix;\n    }\n    return
              null;\n}\n"
    - xslt:
        title: XSLT:Create-GetContractRevisions-SOARequest
        input: false
        version: 1.0.0
        source: "<!-- *****************************************************************************************************
          -->\n<!-- *****************************************************************************************************
          -->\n<!-- FileName                                   Version     Created
          By         Modified By     Date        -->\n<!-- Create-GetContractRevisions-SOARequest.xsl
          1.0         Dinesh Tomar                       08-May-2018 -->\n<!--                                                                                                       -->\n<!--
          *****************************************************************************************************
          -->\n<!-- Purpose: This XSLT code will create SOAP request for GetContract
          operation of managepostpaytariff     -->\n<!--          SOA service                                                                                  -->\n<!--
          Required params:                                                                                      -->\n<!--
          *****************************************************************************************************
          -->\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"
          xmlns:dp=\"http://www.datapower.com/extensions\" xmlns:func=\"http://exslt.org/functions\"
          xmlns:apim=\"http://www.ibm.com/apimanagement\" extension-element-prefixes=\"dp
          func apim\">\n    <xsl:import href=\"local:///isp/policy/apim.custom.xsl\"
          />\n    <xsl:output method=\"xml\" omit-xml-declaration=\"yes\" indent=\"yes\"/>\n
          \   <xsl:strip-space elements=\"*\"/>\n    <xsl:template match=\"/\">\n
          \       <xsl:call-template name=\"apim:setVariable\">\n            <xsl:with-param
          name=\"varName\" select=\"'message.headers.content-type'\" />\n            <xsl:with-param
          name=\"value\" select=\"'application/xml'\" />\n        </xsl:call-template>\n
          \       <soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\">\n
          \           <soap:Header xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\n\t\t\t\t<wsse:Security
          xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\">\n\t\t\t\t
          \   <wsse:UsernameToken>\n\t\t\t\t\t\t<wsse:Username>apic_123</wsse:Username>\n\t\t\t\t\t\t<wsse:Password>t3st1ng</wsse:Password>\n\t\t\t\t\t</wsse:UsernameToken>\n\t\t\t\t</wsse:Security>\n
          \           </soap:Header>\n            <soapenv:Body>\n                <ns3:getContractRevisions
          xmlns:ns2=\"http://soa.o2.co.uk/pscommonpostpaydata_2\"\n                    xmlns:ns3=\"http://soa.o2.co.uk/managepostpaytariffdata_2\"\n
          \                   xmlns=\"http://soa.o2.co.uk/coredata_1\"\n                    xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\">\n
          \                   <ns3:customerId>\n                        <msisdn><xsl:value-of
          select=\"apim:getContext('request.parameters.msisdn')\"/></msisdn>\n                    </ns3:customerId>\n
          \                   <ns3:retrieveAdditionalInfo>\n                        <ns3:allowanceInfo>true</ns3:allowanceInfo>\n
          \                   </ns3:retrieveAdditionalInfo>\n                </ns3:getContractRevisions>\n
          \           </soapenv:Body>\n        </soapenv:Envelope>        \n    </xsl:template>\n</xsl:stylesheet>\n"
    - invoke:
        title: Invoke:SOA-GetContractRevisions
        timeout: 60
        verb: POST
        cache-response: protocol
        cache-ttl: 900
        version: 1.0.0
        target-url: $(soaGetContractRevisionsEndpoint)
        output: getContractRevisionsOut
        tls-profile: apim-tls-client-profile:1.0.0
    - map:
        title: Map:PendingTariffs
        inputs:
          input:
            schema:
              $ref: '#/x-ibm-configuration/targets/ManagePostpayTariffService/definitions/getContractRevisionsOutput'
            variable: getContractRevisionsOut.body
            content: application/xml
          phonePlan:
            schema:
              type: object
              properties:
                installmentAmount:
                  type: number
                  format: double
                  name: installmentAmount
            variable: phonePlan.body
            content: application/json
        outputs:
          pendingTariff:
            schema:
              $ref: '#/definitions/PostPayPendingTariff'
            variable: pendingTariff
            content: application/json
        actions:
        - set: pendingTariff.cancel_token
          from: input.Envelope.Body.getContractRevisionsResponse.cancelToken
        - set: pendingTariff.tariff._links.details
          from:
          - input.Envelope.Body.getContractRevisionsResponse.MSISDN
          - input.Envelope.Body.getContractRevisionsResponse.revisedContract.tariff.TariffName
          - input.Envelope.Body.getContractRevisionsResponse.revisedContract.tariff.ProductName
          value: |-
            tariffDetailsLink($(input.Envelope.Body.getContractRevisionsResponse.MSISDN), $(input.Envelope.Body.getContractRevisionsResponse.revisedContract.tariff.TariffName), $(input.Envelope.Body.getContractRevisionsResponse.revisedContract.tariff.ProductName));

            function tariffDetailsLink(msisdn, tariffName, productName){
                if (msisdn != null && tariffName != null && productName != null){
                    var link = encodeURI(apim.getvariable('tariffDetailsLink').replace('#msisdn#', msisdn).replace('#tariffname#', tariffName).replace('#productlabel#', productName));
                    return link;
                }
                else{
                    return null;
                }
            }
        - create: pendingTariff.tariff.allowances
          foreach: input.Envelope.Body.getContractRevisionsResponse.revisedContract.tariff.allowances
          from: input.Envelope.Body.getContractRevisionsResponse.revisedContract.tariff.allowances
          actions:
          - set: $item
            from:
            - name
            - value
            value: "formatAllowances($(name), $(value));\n\nfunction formatAllowances(name,
              value){\n    var validNamesKeys = [\"data\", \"voice\", \"sms\", \"data_audio\",
              \"roam\"];\n    var validNamesValues = [\"data\", \"minutes\", \"texts\",
              \"UK data for music streaming\", \"O2 Travel\"];\n    var suffix;\n
              \   var prefix;\n    if (name != null && value != null){\n        for
              (var i = 0; i < validNamesKeys.length; i++){\n            if (validNamesKeys[i]
              == name){\n                suffix = validNamesValues[i];\n                i
              = validNamesKeys.length;\n            }\n            else {\n                suffix
              = \"unknown\";\n            }\n        }\n        if (name.includes('data')){\n
              \           if (value == -1){\n                prefix = \"Unlimited\";\n
              \           }\n            else if (value < 1024){\n                prefix
              = value.toString().concat(\"KB\");\n            }\n            else
              if (value < 1048576){\n                prefix = (value/1024).toFixed(0).toString().concat(\"MB\");\n
              \           }\n            else {\n                prefix = (value/1048576).toFixed(0).toString().concat(\"GB\");\n
              \           }            \n        }\n        else if (name.includes('voice')){\n
              \           if (value == -1){\n                prefix = \"Unlimited\";\n
              \           }\n            else {\n                prefix = (value *
              60).toString();   \n            }\n        }\n        else if (name.includes('sms')){\n
              \           if (value == -1){\n                prefix = \"Unlimited\";\n
              \           }\n            else {\n                prefix = value;   \n
              \           }\n        }\n        else {\n            prefix = value;\n
              \       }\n        return prefix +\" \"+ suffix;\n    }\n    return
              null;\n}"
        - set: pendingTariff.tariff.tariff_name
          from: input.Envelope.Body.getContractRevisionsResponse.revisedContract.tariff.ProductName
        - set: pendingTariff.tariff.length_of_contract
          from: input.Envelope.Body.getContractRevisionsResponse.revisedContract.minimumTerm
          value: |-
            formatDuration($(input.Envelope.Body.getContractRevisionsResponse.revisedContract.minimumTerm));

            function formatDuration(duration){
                if (duration == null){
                    return null;
                }
                else if (duration == "1"){
                    return "1 month";
                }
                else {
                    return duration + " months";
                }
            }
        - set: pendingTariff.tariff.monthly_charge
          from: input.Envelope.Body.getContractRevisionsResponse.revisedContract.tariff.MonthlyFee
          value: '"£".concat(($(input.Envelope.Body.getContractRevisionsResponse.revisedContract.tariff.MonthlyFee)/100).toFixed(2));'
        - set: pendingTariff.tariff.renewal_date
          from: input.Envelope.Body.getContractRevisionsResponse.revisedContract.endDate
          value: |-
            function formatDate(date){
                var year = date.substr(0,4);
                var month = date.substr(5,2);
                var day = date.substr(8,2);
                return day+"."+month+"."+year;
            }

            formatDate($(input.Envelope.Body.getContractRevisionsResponse.revisedContract.endDate));
        - set: pendingTariff.tariff.device_cost
          from: phonePlan.installmentAmount
          value: '"£".concat($(phonePlan.installmentAmount).toFixed(2).toString());'
        - set: pendingTariff.tariff.start_date
          from: input.Envelope.Body.getContractRevisionsResponse.revisedContract.startDate
          value: |-
            function formatDate(date){
                var year = date.substr(0,4);
                var month = date.substr(5,2);
                var day = date.substr(8,2);
                return day+"."+month+"."+year;
            }

            formatDate($(input.Envelope.Body.getContractRevisionsResponse.revisedContract.tariff.StartDate));
        - set: pendingTariff.tariff.device_plan_message
          from: phonePlan.installmentAmount
          value: apim.getvariable('pendingTariffDevicePlanMessage').replace('%s',
            $(phonePlan.installmentAmount).toFixed(2).toString());
    - map:
        title: Map:CurrentAndPendingTariffs
        inputs:
          currentTariff:
            schema:
              $ref: '#/definitions/PostPayTariff'
            variable: currentTariff
            content: application/json
          pendingTariff:
            schema:
              $ref: '#/definitions/PostPayTariff'
            variable: pendingTariff
            content: application/json
        outputs:
          output:
            schema:
              $ref: '#/definitions/PostPayCurrentAndPendingTariff'
            variable: message.body
            content: application/json
        actions:
        - set: output.current_tariff
          from: currentTariff
        - set: output.pending_tariff
          from: pendingTariff
        version: 1.0.0
    - gatewayscript:
        title: GS:GetCurrentAndPendingTariffResponse
        version: 1.0.0
        source: |-
          /* *********************************************************************************************************** */
          /* *********************************************************************************************************** */
          /* FileName                                Version    Created By      Modified By               Date           */
          /* GetCurrentAndPendingTariffResponse.js   1.0        Dinesh Tomar                              08-May-2018    */
          /*                                                                                                             */
          /* *********************************************************************************************************** */
          /* Purpose: This GW Script file will create final response to currentandpendingtariff api                      */
          /*                                                                                                             */
          /* Required params:                                                                                            */
          /* *********************************************************************************************************** */
          //load tariff responses from context variables
          var currentAndPendingTariffResponse = apim.getvariable('message.body');
          //sort allowances for current and pending tariffs
          currentAndPendingTariffResponse.current_tariff.allowances = currentAndPendingTariffResponse.current_tariff.allowances.sort();
          currentAndPendingTariffResponse.pending_tariff.tariff.allowances = currentAndPendingTariffResponse.pending_tariff.tariff.allowances.sort();
          apim.setvariable('message.body', currentAndPendingTariffResponse);
        description: This GW Script file will create final response to currentandpendingtariff
          api
    catch:
    - errors:
      - InvalidAuthCode
      - InvalidMsisdn
      - ConnectionError
      - OperationError
      - SOAPError
      - UnauthorizedError
      execute:
      - gatewayscript:
          title: GS:ErrorHandling
          version: 1.0.0
          source: |-
            /* ************************************************************************************************************** */
            /* ************************************************************************************************************** */
            /* FileName                       Version    Created By                  Modified By               Date           */
            /* Errorhandling.js               1.0        Dinesh Tomar                                          07-May-2018    */
            /*                                                                                                                */
            /* ************************************************************************************************************** */
            /* Purpose: This GW Script file will read error config for the catch block error name and will set the necessary  */
            /*          params like status code, reason phrase and will return the error json                                 */
            /* Required params: errorName                                                                                     */
            /* ************************************************************************************************************** */
            var urlOpen = require('urlopen');
            //form url for to fetch errorConfig JSON
            var requestURL = apim.getvariable('request.uri');
            var orgName = apim.getvariable('api.org.name');
            var hostName = requestURL.substr(0, requestURL.indexOf(orgName));
            var catalog = apim.getvariable('env.path');
            var errorConfigURL = hostName+orgName+'/'+catalog+'/'+'config/errorconfig';
            var clientId = apim.getvariable('client.app.id');
            var errorConfigURLOptions = {
                target: errorConfigURL,
                sslClientProfile: 'api-sslcli-all',
                headers: {'x-ibm-client-id': clientId, 'content-type': 'application/json' }
            };
            //fetch errorName and errorConfig JSON from context variables
            urlOpen.open(errorConfigURLOptions, function (error, response) {
                if (error) {
                    throw error;
                } else {
                    response.readAsJSON(function (error, errorConfigJSON) {
                        if (error) {
                            throw error;
                        } else {
                            var errorName = apim.getvariable('errorName');
                            if (errorName == null && apim.getvariable('message.status.code') == null) {
                                errorName = 'default';
                            } else if (errorName == null && apim.getvariable('message.status.reason') != null && apim.getvariable('message.status.reason').startsWith('APIC:') ) {
                                errorName = 'default';
                                apim.setvariable('message.status.code', apim.getvariable('message.status.code'));
                                apim.setvariable('message.status.reason', apim.getvariable('message.status.reason'));
                                apim.setvariable('message.body', apim.getvariable('message.body'));
                            } else {
                                //fetch specific block from error config JSON
                                if (! isJSONEmpty(errorConfigJSON)) {
                                    var errorDetails = errorConfigJSON.errorConfig.errorTypes[errorName];
                                    var statusCode = errorDetails.statusCode;
                                    var reasonPhrase = errorDetails.reasonPhrase;
                                    var errorMessage = errorDetails.errorMessage;
                                    apim.setvariable('message.headers.content-type', 'application/json');
                                    apim.setvariable('message.status.code', statusCode);
                                    apim.setvariable('message.status.reason', reasonPhrase);
                                    apim.setvariable('message.body', errorMessage);
                                }
                                //else block executes in case error config file is not loaded. it will set a default error message
                                else {
                                    apim.setvariable('message.headers.content-type', 'application/json');
                                    apim.setvariable('message.status.code', 500);
                                    apim.setvariable('message.status.reason', 'Internal Server Error');
                                    apim.setvariable('message.body', {
                                        "error": "Something went wrong"
                                    });
                                }
                            }
                        }
                    });
                }
            });

            //below function checks if json object is null or not
            function isJSONEmpty(jsonObject) {
                var member;
                var result = true;
                for (member in jsonObject) {
                    if (jsonObject[member] != null) {
                        result = false;
                    }
                }
                return result;
            }
  gateway: datapower-gateway
  type: rest
parameters:
  msisdn:
    name: msisdn
    type: integer
    in: path
    required: true
  x-authcode:
    name: x-authcode
    type: string
    in: header
  x-device:
    name: x-device
    type: string
    in: header
  x-user-id:
    name: x-user-id
    type: string
    in: header
  x-client-id:
    name: x-client-id
    type: string
    in: header
  x-correlator:
    name: x-correlator
    type: string
    in: header
tags: []
definitions:
  PostPayTariff:
    properties:
      _links:
        $ref: '#/definitions/Link'
      allowances:
        type: array
        items:
        - type: string
      tariff_name:
        type: string
      length_of_contract:
        type: integer
      monthly_charge:
        type: integer
      renewal_date:
        type: string
      device_cost:
        type: string
      start_date:
        type: string
      device_plan_message:
        type: string
    additionalProperties: false
  Link:
    properties:
      details:
        type: string
    additionalProperties: false
  PostPayCurrentAndPendingTariff:
    properties:
      current_tariff:
        $ref: '#/definitions/PostPayTariff'
      pending_tariff:
        $ref: '#/definitions/PostPayPendingTariff'
    additionalProperties: false
  PostPayPendingTariff:
    properties:
      tariff:
        $ref: '#/definitions/PostPayTariff'
      cancel_token:
        type: integer
        format: int64
    additionalProperties: false
paths:
  /{msisdn}/postpay/currentandpendingtariff:
    get:
      responses:
        "200":
          description: 200 OK
          schema:
            $ref: '#/definitions/PostPayCurrentAndPendingTariff'
    parameters:
    - $ref: '#/parameters/msisdn'
    - $ref: '#/parameters/x-authcode'
    - $ref: '#/parameters/x-device'
    - $ref: '#/parameters/x-user-id'
    - $ref: '#/parameters/x-client-id'
    - $ref: '#/parameters/x-correlator'
