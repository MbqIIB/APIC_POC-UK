---
swagger: "2.0"
info:
  x-ibm-name: "o2apic-Novum-postpayallowancedata"
  title: "O2APIC-Novum-PostpayAllowanceData"
  version: "1.0.0"
schemes:
- "https"
host: "$(catalog.host)"
basePath: "/o2apic"
consumes:
- "application/json"
produces:
- "application/json"
securityDefinitions:
  clientIdHeader:
    type: "apiKey"
    in: "header"
    name: "X-IBM-Client-Id"
security:
- clientIdHeader: []
x-ibm-configuration:
  testable: true
  enforced: true
  cors:
    enabled: true
  assembly:
    execute:
    - invoke:
        title: "invokeProperties"
        timeout: 60
        verb: "GET"
        cache-response: "protocol"
        cache-ttl: 900
        stop-on-error:
        - null
        - "ConnectionError"
        - "OperationError"
        version: "1.0.0"
        target-url: "http://www.mocky.io/v2/5b04ee443200007b00ebf5f5"
        output: "Properties"
    - invoke:
        title: "InvokeURIHandler"
        timeout: 60
        verb: "GET"
        cache-response: "protocol"
        cache-ttl: 900
        stop-on-error:
        - null
        - "ConnectionError"
        - "OperationError"
        - "SOAPError"
        version: "1.0.0"
        target-url: "http://demo9811818.mockable.io/myo2mw/message-properties"
        output: "messages-uri"
    - gatewayscript:
        title: "GetAccessToken"
        version: "1.0.0"
        source: "/* ***********************************************************************************************************************\
          \ */\n/* ***********************************************************************************************************************\
          \ */\n/* FileName                                Version    Created By \
          \                 Modified By               Date           */\n/* GetAccessToken.js\
          \                       1.0        Dinesh Tomar                        \
          \                  08-May-2018    */\n/*                               \
          \                                                                      \
          \                    */\n/* ***********************************************************************************************************************\
          \ */\n/* Purpose: This GW Script file will create request to get access\
          \ token for the auth code received                         */\n/*      \
          \                                                                      \
          \                                             */\n/* Required params:  \
          \                                                                      \
          \                                */\n/* ***********************************************************************************************************************\
          \ */\n//load URI's from context variable\nvar uri_messages = apim.getvariable('messages-uri.body');\n\
          //load properties configuration from context variable\nvar messages = apim.getvariable('Properties.body');\n\
          //get all headers\nvar clientId = apim.getvariable('client.app.id');\nvar\
          \ msisdn = apim.getvariable('request.parameters.msisdn');\nvar authCode\
          \ = apim.getvariable('request.headers.x-authcode');\n//check all headers\
          \ validation\nif (msisdn == null || msisdn == undefined){\n    apim.setvariable('errorName',\
          \ 'InvalidMsisdn');\n    apim.error('InvalidMsisdn', 500, 'Internal Error',\
          \ 'Missing or invalid msisdn');\n}\nelse if (authCode == null){\n    apim.setvariable('errorName',\
          \ 'InvalidAuthCode');\n    apim.error('InvalidAuthCode', 500, 'Internal\
          \ Error', 'Missing or invalid authcode');\n}\nelse if(messages == null ||\
          \ isJSONEmpty(messages)){\n    apim.setvariable('errorName', 'ConnectionError');\n\
          \    apim.error('ConnectionError', 500, 'Internal Error', 'Connection error');\n\
          }\n\nelse if (uri_messages == null || isJSONEmpty(uri_messages)){\n    apim.setvariable('errorName',\
          \ 'ConnectionError');\n    apim.error('ConnectionError', 500, 'Internal\
          \ Error', 'Connection error');\n}\nelse {\n    apim.setvariable('message.headers.x-ibm-client-id',\
          \ '1e8584b2-3f03-4714-9812-f40ff4d94d81');\n    apim.setvariable('message.headers.msisdn',\
          \ msisdn);\n    apim.setvariable('message.headers.x-authcode', authCode);\n\
          \    apim.setvariable('apicAccessTokenURL', uri_messages.authserver.generateAccessToken.apicURI);\n\
          \    apim.setvariable('apicDisambiguationIdURL', uri_messages.authserver.generateDisambiguationId.apicURI);\n\
          }\n\nfunction isJSONEmpty(jsonObject) {\n    var member;\n    var result\
          \ = true;\n    for (member in jsonObject) {\n        if (jsonObject[member]\
          \ != null) {\n            result = false;\n        }\n    }\n    return\
          \ result;\n}"
    - invoke:
        title: "GetAccessToken"
        timeout: 60
        verb: "GET"
        cache-response: "protocol"
        cache-ttl: 900
        stop-on-error:
        - "ConnectionError"
        - "OperationError"
        version: "1.0.0"
        target-url: "$(apicAccessTokenURL)"
        output: "accessToken"
    - invoke:
        title: "GetDisambiguationId"
        timeout: 60
        verb: "GET"
        cache-response: "protocol"
        cache-ttl: 900
        stop-on-error:
        - null
        - "ConnectionError"
        - "OperationError"
        version: "1.0.0"
        target-url: "$(apicDisambiguationIdURL)"
        output: "disambiguationId"
    - gatewayscript:
        title: "GetPhoneDetails"
        version: "1.0.0"
        source: "/* ***********************************************************************************************************************\
          \ */\n/* ***********************************************************************************************************************\
          \ */\n/* FileName                                Version    Created By \
          \                 Modified By               Date           */\n/* GetPhoneDetails.js\
          \                      1.0        Dinesh Tomar                         \
          \                 08-May-2018    */\n/*                                \
          \                                                                      \
          \                   */\n/* ***********************************************************************************************************************\
          \ */\n/* Purpose: This GW Script file will create request to get phone details\
          \                                                   */\n/*             \
          \                                                                      \
          \                                      */\n/* Required params:         \
          \                                                                      \
          \                         */\n/* ***********************************************************************************************************************\
          \ */\n//load properties configuration from context variable\nvar uri_messages\
          \ = apim.getvariable('messages-uri.body');\n//get access token and Disambiguation\
          \ Id from context variables\nif (isJSONEmpty(apim.getvariable('accessToken.body'))){\n\
          \    apim.setvariable('errorName', 'ConnectionError');\n    apim.error('ConnectionError',\
          \ 500, 'Internal Error', 'Connection error');\n}\nelse if (isJSONEmpty(apim.getvariable('disambiguationId.body'))){\n\
          \    apim.setvariable('errorName', 'ConnectionError');\n    apim.error('ConnectionError',\
          \ 500, 'Internal Error', 'Connection error');\n}\nelse {\n    var accessToken\
          \ = apim.getvariable('accessToken.body').access_token;\n    var disambiguationId\
          \ = apim.getvariable('disambiguationId.body').disambiguation_id;\n    apim.setvariable('message.headers.disambiguation-id',\
          \ disambiguationId);\n    apim.setvariable('message.headers.authorization',\
          \ \"Bearer \"+accessToken);\n    var phoneDetailsURL = uri_messages.phoneservice.msisdndetails.uri;\n\
          \    //phoneDetailsURL = phoneDetailsURL.replace('CURRENT', apim.getvariable('message.headers.msisdn'));\n\
          \    apim.setvariable('phoneDetailsURL', phoneDetailsURL);\n}\n\nfunction\
          \ isJSONEmpty(jsonObject) {\n    var member;\n    var result = true;\n \
          \   for (member in jsonObject) {\n        if (jsonObject[member] != null)\
          \ {\n            result = false;\n        }\n    }\n    return result;\n\
          }"
    - invoke:
        title: "GetPhoneDetails"
        timeout: 60
        verb: "GET"
        cache-response: "protocol"
        cache-ttl: 900
        stop-on-error:
        - "ConnectionError"
        - "OperationError"
        version: "1.0.0"
        target-url: "$(phoneDetailsURL)"
        output: "PhoneDetailsResponse"
    - map:
        title: "getDataAllowance_1: input"
        inputs:
          msisdn:
            schema:
              type: "string"
            variable: "request.parameters.msisdn"
          accountnumber:
            schema:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Input"
            variable: "PhoneDetailsResponse.body.accountId"
        outputs:
          body:
            schema:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Input"
            variable: "message.body"
            content: "application/xml"
          content-type:
            schema:
              type: "string"
            variable: "message.headers.content-type"
          SOAPAction:
            schema:
              type: "string"
            variable: "message.headers.SOAPAction"
        actions:
        - set: "content-type"
          default: "text/xml"
        - set: "SOAPAction"
        - set: "body.Envelope.Body.getDataAllowance_1.account.accountDetail.msisdn"
          from: "msisdn"
        - set: "body.Envelope.Body.getDataAllowance_1.account.accountDetail.accountNumber"
          from: "accountnumber"
        - set: "body.Envelope.Body.getDataAllowance_1.account.accountDetail.billingAccountType"
          value: "'MOBILE'"
        - set: "body.Envelope.Body.getDataAllowance_1.returnAllowanceByBundleType"
          value: "var properties = apim.getvariable('Properties.body');\r\nvar isRODEnabled\
            \ = isRODEnabled();\r\nvar returnAllowanceByBundleType = null;\r\n   \
            \     if(isRODEnabled == \"true\")\r\n        {\r\n            returnAllowanceByBundleType\
            \ = 'Y';\r\n        }\r\n        else\r\n        {\r\n            returnAllowanceByBundleType\
            \ = 'N';\r\n        }\r\n       \r\n        \r\n        function isRODEnabled()\r\
            \n        {\r\n            \r\n            var value = properties.feature.dataallowance.breakdown;\r\
            \n            //apim.setvariable('message.headers.value', value);\r\n\
            \            if(value != null)\r\n            {\r\n                return\
            \ value;\r\n            }\r\n            else\r\n            {\r\n   \
            \             return true;\r\n            }\r\n        }"
    - invoke:
        title: "getDataAllowanceFromSOA"
        target-url: "http://www.mocky.io/v2/5b04e4e92f00000241e7aae1"
        timeout: 60
        verb: "GET"
        cache-response: "protocol"
        cache-ttl: 900
        stop-on-error:
        - "ConnectionError"
        - "OperationError"
        - "SOAPError"
    - xslt:
        title: "ConvertSOAPToXML"
        input: true
        version: "1.0.0"
        source: "<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\
          \ xmlns:dp=\"http://www.datapower.com/extensions\" extension-element-prefixes=\"\
          dp\">\r\n    <xsl:output method=\"xml\" omit-xml-declaration=\"yes\" indent=\"\
          yes\"/>\r\n    <xsl:strip-space elements=\"*\"/>\r\n    <xsl:template match=\"\
          @* | node()\">\r\n        <xsl:copy>\r\n            <xsl:apply-templates\
          \ select=\"@* | node()\"/>\r\n        </xsl:copy>\r\n    </xsl:template>\r\
          \n    <xsl:template match=\"*\">\r\n        <xsl:element name=\"{local-name()}\"\
          >\r\n            <xsl:apply-templates select=\"child::node()\"/>\r\n   \
          \     </xsl:element>\r\n    </xsl:template>\r\n</xsl:stylesheet>"
    - xml-to-json:
        title: "xml-to-json"
        version: "1.0.0"
    - gatewayscript:
        title: "DataAllowanceResponse"
        version: "1.0.0"
        source: "/* ***********************************************************************************************************************\
          \ */\r\n/* ***********************************************************************************************************************\
          \ */\r\n/* FileName                                Version    Created By\
          \                  Modified By               Date           */\r\n/* GetAllowanceData.js\
          \                      1.0       Shalini Chauhan                       \
          \                17-May-2018    */\r\n/*                               \
          \                                                                      \
          \                    */\r\n/* ***********************************************************************************************************************\
          \ */\r\n/* Purpose: This GW Script file will create response for data allowance\
          \                                                    */\r\n/*          \
          \                                                                      \
          \                                         */\r\n/*                     \
          \                                                                      \
          \                              */\r\n/* ***********************************************************************************************************************\
          \ */\r\n\r\n//set content type\r\napim.setvariable('message.headers.content-type',\
          \ 'application/json');\r\n// loading variables\r\nvar phoneDetails = apim.getvariable('PhoneDetailsResponse.body');\r\
          \nvar properties = apim.getvariable('Properties.body');\r\nvar alwaysOn\
          \ = phoneDetails.alwaysOn == null ? false: phoneDetails.alwaysOn;\r\n\r\n\
          //initializing variables\r\nvar ONE_MB_AS_KB = 1024;\r\nvar ONE_GB_AS_KB\
          \ = 1048576;\r\nvar DataAllowanceResponse = {\r\n};\r\nvar dataThresholdType\
          \ = null;\r\nvar chargingType = null;\r\nvar allowanceUsed = null;\r\nvar\
          \ startingBalance = null;\r\nvar percentDataUsed = 0;\r\nvar checkedChargingType\
          \ = null;\r\nvar infoMessage = null;\r\nvar thresholdPercentage = 0;\r\n\
          var usageMessage = null;\r\nvar allowanceRemaining = null;\r\nvar j = 0;\r\
          \nvar renewalDate = null;\r\napim.readInputAsJSON(function (error, soaResponseJSON)\
          \ {\r\n    if (error) {\r\n        throw error;\r\n    } else {\r\n    \
          \    \r\n        //fetching values from properties file and adding them\
          \ to final response\r\n        DataAllowanceResponse.footer_message = properties.msg.dataallowance.footer;\r\
          \n        DataAllowanceResponse.allowance_footer_message = properties.msg.allowance.footer;\r\
          \n        var totalAllowanceSummary =[];\r\n        var dataAllowanceSummaryType\
          \ =[];\r\n        //fetching value of charging type\r\n        if (ifJsonHasKey(soaResponseJSON.Envelope.Body.getDataAllowance_1Response,\
          \ 'chargingType')) {\r\n            chargingType = getChargingType(soaResponseJSON.Envelope.Body.getDataAllowance_1Response.chargingType.$);\r\
          \n        } else {\r\n            chargingType = getChargingType(chargingType);\r\
          \n        }\r\n        DataAllowanceResponse.charging_type = chargingType;\r\
          \n        \r\n        //if dataAllowance and totalAllowanceSummary exists\
          \ in soaResponseJSON\r\n        if (! isJSONEmpty(soaResponseJSON.Envelope.Body.getDataAllowance_1Response.msisdnLevelAllowances.dataAllowances)\
          \ && ! isJSONEmpty(soaResponseJSON.Envelope.Body.getDataAllowance_1Response.msisdnLevelAllowances.dataAllowances.totalAllowanceSummary))\
          \ {\r\n            var dataAllowances = soaResponseJSON.Envelope.Body.getDataAllowance_1Response.msisdnLevelAllowances.dataAllowances;\r\
          \n            //if totalAllowanceSummary has only one dataAllowance\r\n\
          \            if (!(isJSONEmpty(dataAllowances.totalAllowanceSummary)) &&\
          \ dataAllowances.totalAllowanceSummary.length == undefined) {\r\n      \
          \          totalAllowanceSummary.push(dataAllowances.totalAllowanceSummary);\r\
          \n            } else if (dataAllowances.totalAllowanceSummary.length > 0)\
          \ {\r\n                totalAllowanceSummary = soaResponseJSON.Envelope.Body.getDataAllowance_1Response.msisdnLevelAllowances.dataAllowances.totalAllowanceSummary;\r\
          \n            }\r\n        }\r\n        \r\n        //club the totalAllowanceSummary\
          \ according to dataThresholdType\r\n        for (var i = 0; i < totalAllowanceSummary.length;\
          \ i++) {\r\n            if (ifJsonHasKey(totalAllowanceSummary[i], 'dataThresholdType'))\
          \ {\r\n                dataThresholdType = totalAllowanceSummary[i].dataThresholdType.$;\r\
          \n            } else {\r\n                dataThresholdType = dataThresholdType;\r\
          \n            }\r\n            if (dataThresholdType == null || dataThresholdType\
          \ == 'DOMESTIC_DAILY' || dataThresholdType == 'DOMESTIC_MONTHLY') {\r\n\
          \                dataAllowanceSummaryType[j] = totalAllowanceSummary[i];\r\
          \n                j++;\r\n            }\r\n        }\r\n        \r\n   \
          \     //if totalAllowanceSummary is present\r\n        if (! isJSONEmpty(dataAllowanceSummaryType))\
          \ {\r\n            //var allowanceSummary =[];\r\n            //allowanceSummary\
          \ = dataAllowanceSummaryType;\r\n            for (var i = 0; i < dataAllowanceSummaryType.length;\
          \ i++) {\r\n                if (ifJsonHasKey(dataAllowanceSummaryType[i],\
          \ 'allowanceUsed')) {\r\n                    allowanceUsed = parseInt(dataAllowanceSummaryType[i].allowanceUsed.$);\r\
          \n                }\r\n                if (ifJsonHasKey(dataAllowanceSummaryType[i],\
          \ 'startingBalance')) {\r\n                    startingBalance = parseInt(dataAllowanceSummaryType[i].startingBalance.$);\r\
          \n                }\r\n                percentDataUsed = parseFloat(convertToPercentageUsed(allowanceUsed,\
          \ startingBalance));\r\n                checkedChargingType = checkChargingType(startingBalance,\
          \ chargingType);\r\n                infoMessage = properties.msg.dataallowance[checkedChargingType].info;\r\
          \n                \r\n                // Check for default message\r\n \
          \               if (infoMessage == null) {\r\n                    \r\n \
          \                   infoMessage = properties.msg.dataallowance[ 'default'].info;\r\
          \n                }\r\n                if (ifJsonHasKey(dataAllowanceSummaryType[i],\
          \ 'renewalDate')) {\r\n                    renewalDate = dataAllowanceSummaryType[i].renewalDate.$;\r\
          \n                }\r\n                thresholdPercentage = parseInt(properties.dataallowance.threshold);\r\
          \n                usageMessage = getUsageMessage(percentDataUsed, thresholdPercentage,\
          \ checkedChargingType, alwaysOn);\r\n                if (ifJsonHasKey(dataAllowanceSummaryType[i],\
          \ 'allowanceRemaining')) {\r\n                    allowanceRemaining = parseInt(dataAllowanceSummaryType[i].allowanceRemaining.$);\r\
          \n                }\r\n                //set all the values to final response\r\
          \n                DataAllowanceResponse.allowance_remaining = convert(allowanceRemaining);\r\
          \n                DataAllowanceResponse.renewal_date = formatDate(renewalDate);\r\
          \n                DataAllowanceResponse.percent_data_used = percentDataUsed;\r\
          \n                DataAllowanceResponse.threshold_percentage = thresholdPercentage;\r\
          \n                DataAllowanceResponse.allowance_used = convert(allowanceUsed);\r\
          \n                DataAllowanceResponse.starting_balance = convert(startingBalance);\r\
          \n                DataAllowanceResponse.usage_info_message = infoMessage;\r\
          \n                DataAllowanceResponse.usage_summary_message = properties.msg.dataallowance[\
          \ 'default'].summary;\r\n                DataAllowanceResponse.usage_message\
          \ = usageMessage;\r\n            }\r\n        }\r\n        \r\n        \r\
          \n        //if ROD exists\r\n        if (isRODEnabled()) {\r\n         \
          \   updateAllowanceBreakdown(DataAllowanceResponse, soaResponseJSON, renewalDate);\r\
          \n        }\r\n    }\r\n    //outputs the final response\r\n    apim.setvariable('message.body',\
          \ DataAllowanceResponse);\r\n});\r\n\r\n\r\n//returns charging type depending\
          \ on its value\r\nfunction getChargingType(chargingType) {\r\n    return\
          \ chargingType != null ? chargingType: 'CONS_DATA_CAPPED';\r\n}\r\n\r\n\
          //returns the percentage of used allowance\r\nfunction convertToPercentageUsed(allowanceUsed,\
          \ startingBalance) {\r\n    if ((allowanceUsed == null || allowanceUsed\
          \ <= 0) || (startingBalance == null || startingBalance <= 0)) {\r\n    \
          \    \r\n        return 0;\r\n    } else if (allowanceUsed >= startingBalance)\
          \ {\r\n        \r\n        return 100;\r\n    } else {\r\n        \r\n \
          \       return parseFloat((allowanceUsed / startingBalance) * 100);\r\n\
          \    }\r\n}\r\n\r\n//checks the value of charging type and starting balance\
          \ and accordingly returns the result\r\nfunction checkChargingType(startingBalance,\
          \ chargingType) {\r\n    var balance = startingBalance / 1024;\r\n    if\
          \ (('CONS_WEB_DAILY' == chargingType) && startingBalance != null) {\r\n\
          \        \r\n        chargingType = 'CONS_WEB_DAILY_' + balance;\r\n   \
          \ }\r\n    \r\n    return chargingType;\r\n}\r\n\r\n//converts incoming\
          \ integer value in KB/MB/GB\r\nfunction convert(intvalue) {\r\n    \r\n\
          \    if (intvalue == null) {\r\n        return null;\r\n    } else if (intvalue\
          \ < 0) {\r\n        return 'Unlimited';\r\n    } else if (intvalue < ONE_MB_AS_KB)\
          \ {\r\n        return intvalue + 'KB';\r\n    } else if (intvalue < ONE_GB_AS_KB)\
          \ {\r\n        return Math.round(intvalue / ONE_MB_AS_KB) + 'MB';\r\n  \
          \  } else {\r\n        return Math.round(intvalue / ONE_GB_AS_KB) + 'GB';\r\
          \n    }\r\n}\r\n\r\n//returns message from properties file depending on\
          \ the fields passed through parameters\r\nfunction getUsageMessage(percentDataUsed,\
          \ thresholdPercentage, checkedChargingType, alwaysOn) {\r\n    var usageMessage;\r\
          \n    \r\n    if (parseInt(percentDataUsed) >= 100) {\r\n        if (alwaysOn\
          \ == \"true\") {\r\n            usageMessage = properties.msg.dataallowance.alwayson.over;\r\
          \n        } else {\r\n            usageMessage = properties.msg.dataallowance[checkedChargingType].over;\r\
          \n        }\r\n    } else if (parseInt(percentDataUsed) >= parseInt(thresholdPercentage))\
          \ {\r\n        if (alwaysOn == \"true\") {\r\n            usageMessage =\
          \ properties.msg.dataallowance.alwayson.warning;\r\n        } else {\r\n\
          \            usageMessage = properties.msg.dataallowance[checkedChargingType].warning;\r\
          \n        }\r\n    } else {\r\n        usageMessage = properties.msg.dataallowance[checkedChargingType].normal;\r\
          \n    }\r\n    return usageMessage;\r\n}\r\n\r\n//returns the bundle type\
          \ in upper case\r\nfunction getBundleType(bundleType) {\r\n    \r\n    var\
          \ BundleTypes =[ \"CORE\", \"RECURRING_TOPUP\", \"ROLLOVER_TOPUP\", \"ROLLEDOVER_TOPUP\"\
          , \"AUDIO\"];\r\n    for (var i = 0; i < BundleTypes.length; i++) {\r\n\
          \        if (bundleType.toUpperCase() == BundleTypes[i]) {\r\n         \
          \   return BundleTypes[i];\r\n        }\r\n    }\r\n    return 'INVALID';\r\
          \n}\r\n\r\n//returns the value from properties file concatenated with starting\
          \ allowance according to the bundle type\r\nfunction getStartingAllowanceMessage(bundleType,\
          \ startingAllowance) {\r\n    var format;\r\n    switch (bundleType) {\r\
          \n        case 'CORE':\r\n        format = properties.msg.dataallowance.breakdown.core;\r\
          \n        break;\r\n        case 'RECURRING_TOPUP':\r\n        format =\
          \ properties.msg.dataallowance.breakdown.recurringtopup;\r\n        break;\r\
          \n        case 'ROLLEDOVER_TOPUP':\r\n        format = properties.msg.dataallowance.breakdown.rolledovertopup;\r\
          \n        break;\r\n        case 'ROLLOVER_TOPUP':\r\n        format = properties.msg.dataallowance.breakdown.rollovertopup;\r\
          \n        break;\r\n        default:\r\n        break;\r\n    }\r\n    var\
          \ value = convert(startingAllowance);\r\n    var message = format.replace('%s',\
          \ value);\r\n    return message;\r\n}\r\n\r\n//returns the value from properties\
          \ file\r\nfunction isRODEnabled() {\r\n    \r\n    var value = properties.feature.dataallowance.breakdown;\r\
          \n    if (value != null) {\r\n        return value;\r\n    } else {\r\n\
          \        return true;\r\n    }\r\n}\r\n\r\n//function for data bundles breakdown\
          \ in accordance with bundle type\r\nfunction updateAllowanceBreakdown(DataAllowanceResponse,\
          \ soaResponseJSON, renewalDate) {\r\n    \r\n    var bundleType = null;\r\
          \n    var dataAllowancesByBundleType =[];\r\n    var allowanceDetails =[];\r\
          \n    var k = 0;\r\n    var x = 1;\r\n    var audioDataAllowance = {\r\n\
          \    };\r\n    \r\n    //if bundles exist in soaResponseJSON\r\n    if (!\
          \ isJSONEmpty(soaResponseJSON.Envelope.Body.getDataAllowance_1Response.msisdnLevelAllowances.dataAllowancesByBundleType))\
          \ {\r\n        dataAllowancesByBundleType = soaResponseJSON.Envelope.Body.getDataAllowance_1Response.msisdnLevelAllowances.dataAllowancesByBundleType;\r\
          \n        var dataBundles =[];\r\n        //if only one bundle is present\r\
          \n        if (!(isJSONEmpty(dataAllowancesByBundleType.dataBundle)) && dataAllowancesByBundleType.dataBundle.length\
          \ == undefined) {\r\n            dataBundles.push(dataAllowancesByBundleType.dataBundle);\r\
          \n        } else if (dataAllowancesByBundleType.dataBundle.length > 0) {\r\
          \n            dataBundles = dataAllowancesByBundleType.dataBundle;\r\n \
          \       }\r\n        \r\n        //loop for every data bundle\r\n      \
          \  for (var i = 0; i < dataBundles.length; i++) {\r\n            var expiryDate\
          \ = null;\r\n            if (ifJsonHasKey(dataBundles[i], 'bundleType'))\
          \ {\r\n                bundleType = getBundleType(dataBundles[i].bundleType.$);\r\
          \n            }\r\n            if (ifJsonHasKey(dataBundles[i], 'expiryDate'))\
          \ {\r\n                expiryDate = dataBundles[i].expiryDate.$;\r\n   \
          \         }\r\n            if (bundleType == 'CORE') {\r\n             \
          \   expiryDate = renewalDate;\r\n            }\r\n            //if bundle\
          \ type is AUDIO\r\n            if (bundleType == 'AUDIO') {\r\n        \
          \        if (ifJsonHasKey(dataBundles[i], 'startingAllowance')) {\r\n  \
          \                  audioDataAllowance.starting_balance = dataBundles[i].startingAllowance.$;\r\
          \n                }\r\n                if (ifJsonHasKey(dataBundles[i],\
          \ 'allowanceRemaining')) {\r\n                    audioDataAllowance.allowance_remaining\
          \ = dataBundles[i].allowanceRemaining.$;\r\n                }\r\n      \
          \          if (ifJsonHasKey(dataBundles[i], 'allowanceUsed')) {\r\n    \
          \                audioDataAllowance.allowance_used = dataBundles[i].allowanceUsed.$;\r\
          \n                }\r\n                audioDataAllowance.renewal_date =\
          \ formatDate(expiryDate);\r\n                audioDataAllowance.above_fair_usage_policy_limit\
          \ = properties.audioallowance.abovefuplimit;\r\n            } else {\r\n\
          \                var allowanceDetail = {\r\n                };\r\n     \
          \           if (ifJsonHasKey(dataBundles[i], 'startingAllowance')) {\r\n\
          \                    var startingAllowanceMessage = getStartingAllowanceMessage(bundleType,\
          \ parseInt(dataBundles[i].startingAllowance.$));\r\n                   \
          \ allowanceDetail.starting_allowance_message = startingAllowanceMessage;\r\
          \n                }\r\n                if (ifJsonHasKey(dataBundles[i],\
          \ 'bundleType')) {\r\n                    allowanceDetail.bundle_type =\
          \ bundleType;\r\n                }\r\n                allowanceDetail.expiry_date\
          \ = expiryDate;\r\n                allowanceDetails.push(allowanceDetail);\r\
          \n            }\r\n        }\r\n        \r\n        \r\n        if (! isJSONEmpty(allowanceDetails))\
          \ {\r\n            //sorting allowanceDetails with respect to expiry date\r\
          \n            var allowance_details =[];\r\n            \r\n           \
          \ for (var i = 0; i < allowanceDetails.length; i++) {\r\n              \
          \  if (allowanceDetails[i].expiry_date == null) {\r\n                  \
          \  allowance_details[allowanceDetails.length - x] = allowanceDetails[i];\r\
          \n                    x++;\r\n                } else {\r\n             \
          \       \r\n                    allowance_details[k] = allowanceDetails[i];\r\
          \n                    k++\r\n                }\r\n            }\r\n    \
          \        allowanceDetails = sortByKey(allowance_details, 'expiry_date');\r\
          \n            for (var i = 0; i < allowanceDetails.length; i++) {\r\n  \
          \              if (allowanceDetails[i].expiry_date != null) {\r\n      \
          \              allowanceDetails[i].expiry_date = formatDate(allowanceDetails[i].expiry_date);\r\
          \n                }\r\n            }\r\n            //adding allowanceDetails\
          \ to final output\r\n            DataAllowanceResponse.allowance_details\
          \ = allowanceDetails;\r\n            var allBoltonsExpireOnSameDate = areAllBoltonsExpireOnSameDate(allowanceDetails);\r\
          \n            //setting renewal date to null if all boltons dont expire\
          \ on same date\r\n            if (! allBoltonsExpireOnSameDate) {\r\n  \
          \              DataAllowanceResponse.renewal_date = null;\r\n          \
          \  }\r\n        }\r\n        //adding audioDataAllowance to final output\r\
          \n        if (! isJSONEmpty(audioDataAllowance)) {\r\n            DataAllowanceResponse.audio_data_allowance\
          \ = audioDataAllowance;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n//sort\
          \ function\r\nfunction sortByKey(array, key) {\r\n    return array.sort(function\
          \ (a, b) {\r\n        var x = a[key]; var y = b[key];\r\n        return\
          \ ((x < y) ? -1: ((x > y) ? 1: 0));\r\n    });\r\n}\r\n\r\n//function to\
          \ check if a boltons expire on same date\r\nfunction areAllBoltonsExpireOnSameDate(allowanceDetails)\
          \ {\r\n    var expiryDate = allowanceDetails[0].expiry_date;\r\n    for\
          \ (var i = 0; i < allowanceDetails.length; i++) {\r\n        if (expiryDate\
          \ == null || allowanceDetails[i].expiry_date == null || !(expiryDate ==\
          \ allowanceDetails[i].expiry_date)) {\r\n            return false;\r\n \
          \       }\r\n    }\r\n    return true;\r\n}\r\n\r\n//function to check if\
          \ json object is empty or not\r\nfunction isJSONEmpty(jsonObject) {\r\n\
          \    var member;\r\n    var result = true;\r\n    for (member in jsonObject)\
          \ {\r\n        if (jsonObject[member] != null) {\r\n            result =\
          \ false;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n//function\
          \ to check if a certain field is present in json object/ json array\r\n\
          function ifJsonHasKey(jsonObject, key) {\r\n    var member;\r\n    var result\
          \ = false;\r\n    for (member in jsonObject) {\r\n        if (member ==\
          \ key) {\r\n            result = true;\r\n        }\r\n    }\r\n    return\
          \ result;\r\n}\r\n\r\n//format the date to dd.mm.yyyy\r\nfunction formatDate(date)\
          \ {\r\n    if (date != null) {\r\n        var year = date.substr(0, 4);\r\
          \n        var month = date.substr(5, 2);\r\n        var day = date.substr(8,\
          \ 2);\r\n        return day + \".\" + month + \".\" + year;\r\n    } else\
          \ {\r\n        return null;\r\n    }\r\n}"
    - validate:
        title: "ResponseValidation"
        version: "1.0.0"
        definition: "#/definitions/DataAllowanceResponse"
    catch:
    - errors:
      - "InvalidAuthCode"
      - "InvalidMsisdn"
      - "ConnectionError"
      - "OperationError"
      - "SOAPError"
      - "UnauthorizedError"
      execute:
      - gatewayscript:
          title: "GS:ErrorHandling"
          version: "1.0.0"
          source: "/* ***********************************************************************************************************************\
            \ */\n/* ***********************************************************************************************************************\
            \ */\n/* FileName                                Version    Created By\
            \                  Modified By               Date           */\n/* Errorhandling.js\
            \                        1.0        Dinesh Tomar                     \
            \                     07-May-2018    */\n/*                          \
            \                                                                    \
            \                           */\n/* ***********************************************************************************************************************\
            \ */\n/* Purpose: This GW Script file will read error config for the catch\
            \ block error name and will set the necessary params    */\n/*       \
            \   like status code, reason phrase and will return the error json   \
            \                                              */\n/* Required params:\
            \ errorName                                                          \
            \                                    */\n/* ***********************************************************************************************************************\
            \ */\nvar urlOpen = require('urlopen');\n//fetch errorName and errorConfig\
            \ JSON from context variables\nvar errorConfigURL = \"http://demo9811818.mockable.io/error-config\"\
            ;\nvar errorConfigURLOptions = {\n    target: errorConfigURL,\n    sslClientProfile:\
            \ ''\n};\nurlOpen.open(errorConfigURLOptions, function (error, response)\
            \ {\n    if (error) {\n        throw error;\n    } else {\n        response.readAsJSON(function\
            \ (error, errorConfigJSON) {\n            if (error) {\n             \
            \   throw error;\n            } else {\n                var errorName\
            \ = apim.getvariable('errorName');\n                if (errorName == null)\
            \ {\n                    errorName = 'default';\n                }\n \
            \               //fetch specific block from error config JSON\n      \
            \          if (! isJSONEmpty(errorConfigJSON)) {\n                   \
            \ var errorDetails = errorConfigJSON.errorConfig.errorTypes[errorName];\n\
            \                    var statusCode = errorDetails.statusCode;\n     \
            \               var reasonPhrase = errorDetails.reasonPhrase;\n      \
            \              var errorMessage = errorDetails.errorMessage;\n       \
            \             apim.setvariable('message.headers.content-type', 'application/json');\n\
            \                    apim.setvariable('message.status.code', statusCode);\n\
            \                    apim.setvariable('message.status.reason', reasonPhrase);\n\
            \                    apim.setvariable('message.body', errorMessage);\n\
            \                }\n                //else block executes in case error\
            \ config file is not loaded. it will set a default error message\n   \
            \             else {\n                    apim.setvariable('message.headers.content-type',\
            \ 'application/json');\n                    apim.setvariable('message.status.code',\
            \ 500);\n                    apim.setvariable('message.status.reason',\
            \ 'Internal Server Error');\n                    apim.setvariable('message.body',\
            \ {\n                        \"error\": \"Something went wrong\"\n   \
            \                 });\n                }\n            }\n        });\n\
            \    }\n});\n\n//below function checks if json object is null or not\n\
            function isJSONEmpty(jsonObject) {\n    var member;\n    var result =\
            \ true;\n    for (member in jsonObject) {\n        if (jsonObject[member]\
            \ != null) {\n            result = false;\n        }\n    }\n    return\
            \ result;\n}"
  phase: "realized"
  targets:
    ViewAllowanceService:
      swagger: "2.0"
      info:
        title: "ViewAllowanceService"
        description: ""
        x-ibm-name: "viewallowanceservice"
        version: "1.0.0"
      schemes:
      - "https"
      basePath: "/ViewAllowanceService"
      produces:
      - "application/xml"
      consumes:
      - "text/xml"
      securityDefinitions:
        clientID:
          type: "apiKey"
          name: "X-IBM-Client-Id"
          in: "header"
          description: ""
      security:
      - clientID: []
      x-ibm-configuration:
        type: "wsdl"
        wsdl-definition:
          wsdl: "5ae329e30cf28f24d48cc986"
          service: "ViewAllowanceService"
          port: "ViewAllowancePort"
          soap-version: "1.1"
        assembly:
          execute:
          - proxy:
              title: "proxy"
              target-url: "https://sdpapi.o2.co.uk/services/ViewAllowance_2_0"
        gateway: "datapower-gateway"
        enforced: true
        testable: true
        phase: "realized"
        cors:
          enabled: true
      paths:
        /getAllowance:
          post:
            summary: "Operation getAllowance"
            description: ""
            operationId: "getAllowance"
            x-ibm-soap:
              soap-action: ""
              soap-operation: "{http://soa.o2.co.uk/viewallowancedata_2}getAllowance"
            parameters:
            - in: "body"
              name: "body"
              required: true
              schema:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceInput"
            responses:
              500:
                description: ""
                schema:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceFault"
              default:
                description: ""
                schema:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceOutput"
        /getDataAllowance_1:
          post:
            summary: "Operation getDataAllowance_1"
            description: ""
            operationId: "getDataAllowance_1"
            x-ibm-soap:
              soap-action: ""
              soap-operation: "{http://soa.o2.co.uk/viewallowancedata_2}getDataAllowance_1"
            parameters:
            - in: "body"
              name: "body"
              required: true
              schema:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Input"
            responses:
              500:
                description: ""
                schema:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Fault"
              default:
                description: ""
                schema:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Output"
        /getNonDataAllowance_1:
          post:
            summary: "Operation getNonDataAllowance_1"
            description: ""
            operationId: "getNonDataAllowance_1"
            x-ibm-soap:
              soap-action: ""
              soap-operation: "{http://soa.o2.co.uk/viewallowancedata_2}getNonDataAllowance_1"
            parameters:
            - in: "body"
              name: "body"
              required: true
              schema:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Input"
            responses:
              500:
                description: ""
                schema:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Fault"
              default:
                description: ""
                schema:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Output"
        /getAllowance_2:
          post:
            summary: "Operation getAllowance_2"
            description: ""
            operationId: "getAllowance_2"
            x-ibm-soap:
              soap-action: ""
              soap-operation: "{http://soa.o2.co.uk/viewallowancedata_2}getAllowance_2"
            parameters:
            - in: "body"
              name: "body"
              required: true
              schema:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Input"
            responses:
              500:
                description: ""
                schema:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Fault"
              default:
                description: ""
                schema:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Output"
        /getNonDataAllowance_2:
          post:
            summary: "Operation getNonDataAllowance_2"
            description: ""
            operationId: "getNonDataAllowance_2"
            x-ibm-soap:
              soap-action: ""
              soap-operation: "{http://soa.o2.co.uk/viewallowancedata_2}getNonDataAllowance_2"
            parameters:
            - in: "body"
              name: "body"
              required: true
              schema:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Input"
            responses:
              500:
                description: ""
                schema:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Fault"
              default:
                description: ""
                schema:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Output"
      definitions:
        Security:
          xml:
            namespace: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"
            prefix: "wsse"
          type: "object"
          properties:
            UsernameToken:
              xml:
                namespace: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"
                prefix: "wsse"
              type: "object"
              properties:
                Username:
                  xml:
                    namespace: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"
                    prefix: "wsse"
                  type: "string"
                Password:
                  xml:
                    namespace: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"
                    prefix: "wsse"
                  type: "string"
                Nonce:
                  xml:
                    namespace: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"
                    prefix: "wsse"
                  type: "string"
                  properties:
                    EncodingType:
                      xml:
                        namespace: ""
                        attribute: true
                      type: "string"
                Created:
                  xml:
                    namespace: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
                    prefix: "wsu"
                  type: "string"
            Timestamp:
              xml:
                namespace: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
                prefix: "wsu"
              type: "object"
              properties:
                Created:
                  xml:
                    namespace: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
                    prefix: "wsu"
                  type: "string"
                Expires:
                  xml:
                    namespace: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
                    prefix: "wsu"
                  type: "string"
                Id:
                  xml:
                    namespace: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
                    prefix: "wsu"
                    attribute: true
                  type: "string"
        getAllowanceInput:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Header:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceHeader"
                Body:
                  type: "object"
                  properties:
                    getAllowance:
                      $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_vad"
                  required:
                  - "getAllowance"
              required:
              - "Body"
          required:
          - "Envelope"
          example: "\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\
            >\n <soapenv:Header>\n  <wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\
            \ xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"\
            >\n   <wsse:UsernameToken>\n    <wsse:Username>string</wsse:Username>\n\
            \    <wsse:Password>string</wsse:Password>\n    <wsse:Nonce EncodingType=\"\
            string\">string</wsse:Nonce>\n    <wsu:Created>string</wsu:Created>\n\
            \   </wsse:UsernameToken>\n   <wsu:Timestamp wsu:Id=\"string\">\n    <wsu:Created>string</wsu:Created>\n\
            \    <wsu:Expires>string</wsu:Expires>\n   </wsu:Timestamp>\n  </wsse:Security>\n\
            \ </soapenv:Header>\n <soapenv:Body>\n  <vad:getAllowance xmlns:vad=\"\
            http://soa.o2.co.uk/viewallowancedata_2\" xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\"\
            ><!-- mandatory -->\n   <vad:account><!-- mandatory -->\n    <ns1:portalID>string</ns1:portalID>\n\
            \    <ns1:msisdn>string</ns1:msisdn>\n    <ns1:accountDetail>\n     <ns1:billingAccountType><!--\
            \ mandatory -->string</ns1:billingAccountType>\n     <ns1:accountNumber><!--\
            \ mandatory -->string</ns1:accountNumber>\n     <ns1:msisdn><!-- mandatory\
            \ -->string</ns1:msisdn>\n    </ns1:accountDetail>\n   </vad:account>\n\
            \   <vad:allowanceCategory><!-- between zero and unlimited repetitions\
            \ of this element -->string</vad:allowanceCategory>\n   <vad:dataSource>string</vad:dataSource>\n\
            \   <vad:productList>\n    <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>\n\
            \    <vad:services>\n     <vad:productId><!-- mandatory --><!-- between\
            \ 1 and unlimited repetitions of this element -->string</vad:productId>\n\
            \    </vad:services>\n   </vad:productList>\n   <vad:returnAllowanceByBundleType>string</vad:returnAllowanceByBundleType>\n\
            \  </vad:getAllowance>\n </soapenv:Body>\n</soapenv:Envelope>"
        getAllowanceHeader:
          type: "object"
          properties:
            Security:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/Security"
        getAllowanceOutput:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Body:
                  type: "object"
                  properties:
                    getAllowanceResponse:
                      $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceResponse_vad"
              required:
              - "Body"
          required:
          - "Envelope"
          example: "\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\
            >\n <soapenv:Body>\n  <vad:getAllowanceResponse xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            >\n   <vad:accountAllowances>\n    <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>\n\
            \    <vad:allowance><!-- between zero and unlimited repetitions of this\
            \ element -->\n     <vad:productCode>string</vad:productCode>\n     <vad:productName><!--\
            \ mandatory -->string</vad:productName>\n     <vad:productType><!-- mandatory\
            \ -->string</vad:productType>\n     <vad:productDescription>string</vad:productDescription>\n\
            \     <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n\
            \     <vad:suspended>true</vad:suspended>\n     <vad:allowanceDetail><!--\
            \ mandatory -->\n      <vad:allowanceSummary><!-- mandatory -->\n    \
            \   <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n \
            \      <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n  \
            \     <vad:allowanceRemaining>3</vad:allowanceRemaining>\n      </vad:allowanceSummary>\n\
            \      <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \      <vad:restricted>true</vad:restricted>\n     </vad:allowanceDetail>\n\
            \     <vad:allowanceText>string</vad:allowanceText>\n    </vad:allowance>\n\
            \   </vad:accountAllowances>\n   <vad:msisdnAllowances>\n    <vad:msisdn><!--\
            \ mandatory -->string</vad:msisdn>\n    <vad:voiceAllowances>\n     <vad:totalAllowanceSummary><!--\
            \ mandatory -->\n      <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \      <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n  \
            \    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:totalAllowanceSummary>\n\
            \     <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions\
            \ of this element -->\n      <vad:productCode>string</vad:productCode>\n\
            \      <vad:productName><!-- mandatory -->string</vad:productName>\n \
            \     <vad:productType><!-- mandatory -->string</vad:productType>\n  \
            \    <vad:productDescription>string</vad:productDescription>\n      <vad:expiryDate><!--\
            \ mandatory -->2016-04-18</vad:expiryDate>\n      <vad:suspended>true</vad:suspended>\n\
            \      <vad:allowanceDetail><!-- mandatory -->\n       <vad:allowanceSummary><!--\
            \ mandatory -->\n        <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \        <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \        <vad:allowanceRemaining>3</vad:allowanceRemaining>\n       </vad:allowanceSummary>\n\
            \       <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \       <vad:restricted>true</vad:restricted>\n      </vad:allowanceDetail>\n\
            \      <vad:allowanceText>string</vad:allowanceText>\n     </vad:allowance>\n\
            \    </vad:voiceAllowances>\n    <vad:messageAllowances>\n     <vad:totalAllowanceSummary><!--\
            \ mandatory -->\n      <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \      <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n  \
            \    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:totalAllowanceSummary>\n\
            \     <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions\
            \ of this element -->\n      <vad:productCode>string</vad:productCode>\n\
            \      <vad:productName><!-- mandatory -->string</vad:productName>\n \
            \     <vad:productType><!-- mandatory -->string</vad:productType>\n  \
            \    <vad:productDescription>string</vad:productDescription>\n      <vad:expiryDate><!--\
            \ mandatory -->2016-04-18</vad:expiryDate>\n      <vad:suspended>true</vad:suspended>\n\
            \      <vad:allowanceDetail><!-- mandatory -->\n       <vad:allowanceSummary><!--\
            \ mandatory -->\n        <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \        <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \        <vad:allowanceRemaining>3</vad:allowanceRemaining>\n       </vad:allowanceSummary>\n\
            \       <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \       <vad:restricted>true</vad:restricted>\n      </vad:allowanceDetail>\n\
            \      <vad:allowanceText>string</vad:allowanceText>\n     </vad:allowance>\n\
            \    </vad:messageAllowances>\n    <vad:dataAllowances>\n     <vad:totalAllowanceSummary><!--\
            \ between zero and unlimited repetitions of this element -->\n      <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n      <vad:allowanceUsed><!--\
            \ mandatory -->3</vad:allowanceUsed>\n      <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \      <vad:dataThresholdType>string</vad:dataThresholdType>\n      <vad:startDate>2016-04-18T14:07:37</vad:startDate>\n\
            \      <vad:renewalDate>2016-04-18</vad:renewalDate>\n      <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>\n\
            \     </vad:totalAllowanceSummary>\n     <vad:allowance><!-- between zero\
            \ and unlimited repetitions of this element -->\n      <vad:productCode>string</vad:productCode>\n\
            \      <vad:productName><!-- mandatory -->string</vad:productName>\n \
            \     <vad:productType><!-- mandatory -->string</vad:productType>\n  \
            \    <vad:productDescription>string</vad:productDescription>\n      <vad:expiryDate><!--\
            \ mandatory -->2016-04-18</vad:expiryDate>\n      <vad:suspended>true</vad:suspended>\n\
            \      <vad:allowanceDetail><!-- mandatory -->\n       <vad:allowanceSummary><!--\
            \ mandatory -->\n        <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \        <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \        <vad:allowanceRemaining>3</vad:allowanceRemaining>\n       </vad:allowanceSummary>\n\
            \       <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \       <vad:restricted>true</vad:restricted>\n      </vad:allowanceDetail>\n\
            \      <vad:allowanceText>string</vad:allowanceText>\n     </vad:allowance>\n\
            \     <vad:dataAllowancesByBundleType>\n      <vad:dataBundle><!-- mandatory\
            \ --><!-- between 1 and unlimited repetitions of this element -->\n  \
            \     <vad:bundleType><!-- mandatory -->string</vad:bundleType>\n    \
            \   <vad:startingAllowance><!-- mandatory -->3</vad:startingAllowance>\n\
            \       <vad:allowanceUsed>3</vad:allowanceUsed>\n       <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \       <vad:expiryDate>2016-04-18</vad:expiryDate>\n      </vad:dataBundle>\n\
            \     </vad:dataAllowancesByBundleType>\n    </vad:dataAllowances>\n \
            \   <vad:unlimitedAllowances>\n     <vad:allowance><!-- mandatory --><!--\
            \ between 1 and unlimited repetitions of this element -->\n      <vad:productCode>string</vad:productCode>\n\
            \      <vad:productName><!-- mandatory -->string</vad:productName>\n \
            \     <vad:productType><!-- mandatory -->string</vad:productType>\n  \
            \    <vad:productDescription>string</vad:productDescription>\n      <vad:expiryDate><!--\
            \ mandatory -->2016-04-18</vad:expiryDate>\n      <vad:suspended>true</vad:suspended>\n\
            \      <vad:allowanceDetail><!-- mandatory -->\n       <vad:allowanceSummary><!--\
            \ mandatory -->\n        <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \        <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \        <vad:allowanceRemaining>3</vad:allowanceRemaining>\n       </vad:allowanceSummary>\n\
            \       <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \       <vad:restricted>true</vad:restricted>\n      </vad:allowanceDetail>\n\
            \      <vad:allowanceText>string</vad:allowanceText>\n     </vad:allowance>\n\
            \    </vad:unlimitedAllowances>\n   </vad:msisdnAllowances>\n   <vad:chargingType><!--\
            \ between zero and unlimited repetitions of this element -->string</vad:chargingType>\n\
            \  </vad:getAllowanceResponse>\n </soapenv:Body>\n</soapenv:Envelope>"
        getAllowanceFault:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Body:
                  type: "object"
                  properties:
                    Fault:
                      type: "object"
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "object"
                          properties:
                            getAllowanceFault:
                              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowanceFault_val"
              required:
              - "Body"
          required:
          - "Envelope"
        getDataAllowance_1Input:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Header:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Header"
                Body:
                  type: "object"
                  properties:
                    getDataAllowance_1:
                      $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1_vad"
                  required:
                  - "getDataAllowance_1"
              required:
              - "Body"
          required:
          - "Envelope"
          example: "\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\
            >\n <soapenv:Header>\n  <wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\
            \ xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"\
            >\n   <wsse:UsernameToken>\n    <wsse:Username>string</wsse:Username>\n\
            \    <wsse:Password>string</wsse:Password>\n    <wsse:Nonce EncodingType=\"\
            string\">string</wsse:Nonce>\n    <wsu:Created>string</wsu:Created>\n\
            \   </wsse:UsernameToken>\n   <wsu:Timestamp wsu:Id=\"string\">\n    <wsu:Created>string</wsu:Created>\n\
            \    <wsu:Expires>string</wsu:Expires>\n   </wsu:Timestamp>\n  </wsse:Security>\n\
            \ </soapenv:Header>\n <soapenv:Body>\n  <vad:getDataAllowance_1 xmlns:vad=\"\
            http://soa.o2.co.uk/viewallowancedata_2\" xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\"\
            ><!-- mandatory -->\n   <vad:account><!-- mandatory -->\n    <ns1:portalID>string</ns1:portalID>\n\
            \    <ns1:msisdn>string</ns1:msisdn>\n    <ns1:accountDetail>\n     <ns1:billingAccountType><!--\
            \ mandatory -->string</ns1:billingAccountType>\n     <ns1:accountNumber><!--\
            \ mandatory -->string</ns1:accountNumber>\n     <ns1:msisdn><!-- mandatory\
            \ -->string</ns1:msisdn>\n    </ns1:accountDetail>\n   </vad:account>\n\
            \   <vad:dataSource>string</vad:dataSource>\n   <vad:productList>\n  \
            \  <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>\n\
            \    <vad:services>\n     <vad:productId><!-- mandatory --><!-- between\
            \ 1 and unlimited repetitions of this element -->string</vad:productId>\n\
            \    </vad:services>\n   </vad:productList>\n   <vad:returnAllowanceByBundleType>string</vad:returnAllowanceByBundleType>\n\
            \  </vad:getDataAllowance_1>\n </soapenv:Body>\n</soapenv:Envelope>"
        getDataAllowance_1Header:
          type: "object"
          properties:
            Security:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/Security"
        getDataAllowance_1Output:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Body:
                  type: "object"
                  properties:
                    getDataAllowance_1Response:
                      $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Response_vad"
              required:
              - "Body"
          required:
          - "Envelope"
          example: "\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\
            >\n <soapenv:Body>\n  <vad:getDataAllowance_1Response xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            >\n   <vad:accountAllowances>\n    <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>\n\
            \    <vad:allowance><!-- between zero and unlimited repetitions of this\
            \ element -->\n     <vad:productCode>string</vad:productCode>\n     <vad:productName><!--\
            \ mandatory -->string</vad:productName>\n     <vad:productType><!-- mandatory\
            \ -->string</vad:productType>\n     <vad:productDescription>string</vad:productDescription>\n\
            \     <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n\
            \     <vad:suspended>true</vad:suspended>\n     <vad:allowanceDetail><!--\
            \ mandatory -->\n      <vad:allowanceSummary><!-- mandatory -->\n    \
            \   <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n \
            \      <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n  \
            \     <vad:allowanceRemaining>3</vad:allowanceRemaining>\n      </vad:allowanceSummary>\n\
            \      <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \      <vad:restricted>true</vad:restricted>\n     </vad:allowanceDetail>\n\
            \     <vad:allowanceText>string</vad:allowanceText>\n    </vad:allowance>\n\
            \   </vad:accountAllowances>\n   <vad:msisdnLevelAllowances>\n    <vad:msisdn><!--\
            \ mandatory -->string</vad:msisdn>\n    <vad:dataAllowances>\n     <vad:totalAllowanceSummary><!--\
            \ between zero and unlimited repetitions of this element -->\n      <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n      <vad:allowanceUsed><!--\
            \ mandatory -->3</vad:allowanceUsed>\n      <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \      <vad:dataThresholdType>string</vad:dataThresholdType>\n      <vad:startDate>2016-04-18T14:07:37</vad:startDate>\n\
            \      <vad:renewalDate>2016-04-18</vad:renewalDate>\n      <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>\n\
            \     </vad:totalAllowanceSummary>\n     <vad:allowance><!-- between zero\
            \ and unlimited repetitions of this element -->\n      <vad:productCode>string</vad:productCode>\n\
            \      <vad:productName><!-- mandatory -->string</vad:productName>\n \
            \     <vad:productType><!-- mandatory -->string</vad:productType>\n  \
            \    <vad:productDescription>string</vad:productDescription>\n      <vad:expiryDate><!--\
            \ mandatory -->2016-04-18</vad:expiryDate>\n      <vad:suspended>true</vad:suspended>\n\
            \      <vad:allowanceDetail><!-- mandatory -->\n       <vad:allowanceSummary><!--\
            \ mandatory -->\n        <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \        <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \        <vad:allowanceRemaining>3</vad:allowanceRemaining>\n       </vad:allowanceSummary>\n\
            \       <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \       <vad:restricted>true</vad:restricted>\n      </vad:allowanceDetail>\n\
            \      <vad:allowanceText>string</vad:allowanceText>\n     </vad:allowance>\n\
            \    </vad:dataAllowances>\n    <vad:dataAllowancesByBundleType>\n   \
            \  <vad:dataBundle><!-- mandatory --><!-- between 1 and unlimited repetitions\
            \ of this element -->\n      <vad:bundleType><!-- mandatory -->string</vad:bundleType>\n\
            \      <vad:startingAllowance><!-- mandatory -->3</vad:startingAllowance>\n\
            \      <vad:allowanceUsed>3</vad:allowanceUsed>\n      <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \      <vad:expiryDate>2016-04-18</vad:expiryDate>\n     </vad:dataBundle>\n\
            \    </vad:dataAllowancesByBundleType>\n   </vad:msisdnLevelAllowances>\n\
            \   <vad:chargingType>string</vad:chargingType>\n  </vad:getDataAllowance_1Response>\n\
            \ </soapenv:Body>\n</soapenv:Envelope>"
        getDataAllowance_1Fault:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Body:
                  type: "object"
                  properties:
                    Fault:
                      type: "object"
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "object"
                          properties:
                            getDataAllowance_1Fault:
                              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getDataAllowance_1Fault_val"
              required:
              - "Body"
          required:
          - "Envelope"
        getNonDataAllowance_1Input:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Header:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Header"
                Body:
                  type: "object"
                  properties:
                    getNonDataAllowance_1:
                      $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1_vad"
                  required:
                  - "getNonDataAllowance_1"
              required:
              - "Body"
          required:
          - "Envelope"
          example: "\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\
            >\n <soapenv:Header>\n  <wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\
            \ xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"\
            >\n   <wsse:UsernameToken>\n    <wsse:Username>string</wsse:Username>\n\
            \    <wsse:Password>string</wsse:Password>\n    <wsse:Nonce EncodingType=\"\
            string\">string</wsse:Nonce>\n    <wsu:Created>string</wsu:Created>\n\
            \   </wsse:UsernameToken>\n   <wsu:Timestamp wsu:Id=\"string\">\n    <wsu:Created>string</wsu:Created>\n\
            \    <wsu:Expires>string</wsu:Expires>\n   </wsu:Timestamp>\n  </wsse:Security>\n\
            \ </soapenv:Header>\n <soapenv:Body>\n  <vad:getNonDataAllowance_1 xmlns:vad=\"\
            http://soa.o2.co.uk/viewallowancedata_2\" xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\"\
            ><!-- mandatory -->\n   <vad:account><!-- mandatory -->\n    <ns1:portalID>string</ns1:portalID>\n\
            \    <ns1:msisdn>string</ns1:msisdn>\n    <ns1:accountDetail>\n     <ns1:billingAccountType><!--\
            \ mandatory -->string</ns1:billingAccountType>\n     <ns1:accountNumber><!--\
            \ mandatory -->string</ns1:accountNumber>\n     <ns1:msisdn><!-- mandatory\
            \ -->string</ns1:msisdn>\n    </ns1:accountDetail>\n   </vad:account>\n\
            \   <vad:allowanceCategory><!-- between zero and unlimited repetitions\
            \ of this element -->string</vad:allowanceCategory>\n  </vad:getNonDataAllowance_1>\n\
            \ </soapenv:Body>\n</soapenv:Envelope>"
        getNonDataAllowance_1Header:
          type: "object"
          properties:
            Security:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/Security"
        getNonDataAllowance_1Output:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Body:
                  type: "object"
                  properties:
                    getNonDataAllowance_1Response:
                      $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Response_vad"
              required:
              - "Body"
          required:
          - "Envelope"
          example: "\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\
            >\n <soapenv:Body>\n  <vad:getNonDataAllowance_1Response xmlns:vad=\"\
            http://soa.o2.co.uk/viewallowancedata_2\">\n   <vad:accountAllowances>\n\
            \    <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>\n\
            \    <vad:allowance><!-- between zero and unlimited repetitions of this\
            \ element -->\n     <vad:productCode>string</vad:productCode>\n     <vad:productName><!--\
            \ mandatory -->string</vad:productName>\n     <vad:productType><!-- mandatory\
            \ -->string</vad:productType>\n     <vad:productDescription>string</vad:productDescription>\n\
            \     <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n\
            \     <vad:suspended>true</vad:suspended>\n     <vad:allowanceDetail><!--\
            \ mandatory -->\n      <vad:allowanceSummary><!-- mandatory -->\n    \
            \   <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n \
            \      <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n  \
            \     <vad:allowanceRemaining>3</vad:allowanceRemaining>\n      </vad:allowanceSummary>\n\
            \      <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \      <vad:restricted>true</vad:restricted>\n     </vad:allowanceDetail>\n\
            \     <vad:allowanceText>string</vad:allowanceText>\n    </vad:allowance>\n\
            \   </vad:accountAllowances>\n   <vad:msisdnLevelAllowances>\n    <vad:msisdn><!--\
            \ mandatory -->string</vad:msisdn>\n    <vad:voiceAllowances>\n     <vad:totalAllowanceSummary><!--\
            \ mandatory -->\n      <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \      <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n  \
            \    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:totalAllowanceSummary>\n\
            \     <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions\
            \ of this element -->\n      <vad:productCode>string</vad:productCode>\n\
            \      <vad:productName><!-- mandatory -->string</vad:productName>\n \
            \     <vad:productType><!-- mandatory -->string</vad:productType>\n  \
            \    <vad:productDescription>string</vad:productDescription>\n      <vad:expiryDate><!--\
            \ mandatory -->2016-04-18</vad:expiryDate>\n      <vad:suspended>true</vad:suspended>\n\
            \      <vad:allowanceDetail><!-- mandatory -->\n       <vad:allowanceSummary><!--\
            \ mandatory -->\n        <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \        <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \        <vad:allowanceRemaining>3</vad:allowanceRemaining>\n       </vad:allowanceSummary>\n\
            \       <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \       <vad:restricted>true</vad:restricted>\n      </vad:allowanceDetail>\n\
            \      <vad:allowanceText>string</vad:allowanceText>\n     </vad:allowance>\n\
            \    </vad:voiceAllowances>\n    <vad:messageAllowances>\n     <vad:totalAllowanceSummary><!--\
            \ mandatory -->\n      <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \      <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n  \
            \    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:totalAllowanceSummary>\n\
            \     <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions\
            \ of this element -->\n      <vad:productCode>string</vad:productCode>\n\
            \      <vad:productName><!-- mandatory -->string</vad:productName>\n \
            \     <vad:productType><!-- mandatory -->string</vad:productType>\n  \
            \    <vad:productDescription>string</vad:productDescription>\n      <vad:expiryDate><!--\
            \ mandatory -->2016-04-18</vad:expiryDate>\n      <vad:suspended>true</vad:suspended>\n\
            \      <vad:allowanceDetail><!-- mandatory -->\n       <vad:allowanceSummary><!--\
            \ mandatory -->\n        <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \        <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \        <vad:allowanceRemaining>3</vad:allowanceRemaining>\n       </vad:allowanceSummary>\n\
            \       <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \       <vad:restricted>true</vad:restricted>\n      </vad:allowanceDetail>\n\
            \      <vad:allowanceText>string</vad:allowanceText>\n     </vad:allowance>\n\
            \    </vad:messageAllowances>\n    <vad:unlimitedAllowances>\n     <vad:allowance><!--\
            \ mandatory --><!-- between 1 and unlimited repetitions of this element\
            \ -->\n      <vad:productCode>string</vad:productCode>\n      <vad:productName><!--\
            \ mandatory -->string</vad:productName>\n      <vad:productType><!-- mandatory\
            \ -->string</vad:productType>\n      <vad:productDescription>string</vad:productDescription>\n\
            \      <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n\
            \      <vad:suspended>true</vad:suspended>\n      <vad:allowanceDetail><!--\
            \ mandatory -->\n       <vad:allowanceSummary><!-- mandatory -->\n   \
            \     <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \        <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \        <vad:allowanceRemaining>3</vad:allowanceRemaining>\n       </vad:allowanceSummary>\n\
            \       <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \       <vad:restricted>true</vad:restricted>\n      </vad:allowanceDetail>\n\
            \      <vad:allowanceText>string</vad:allowanceText>\n     </vad:allowance>\n\
            \    </vad:unlimitedAllowances>\n   </vad:msisdnLevelAllowances>\n   <vad:chargingType><!--\
            \ between zero and unlimited repetitions of this element -->string</vad:chargingType>\n\
            \  </vad:getNonDataAllowance_1Response>\n </soapenv:Body>\n</soapenv:Envelope>"
        getNonDataAllowance_1Fault:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Body:
                  type: "object"
                  properties:
                    Fault:
                      type: "object"
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "object"
                          properties:
                            getNonDataAllowance_1Fault:
                              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_1Fault_val"
              required:
              - "Body"
          required:
          - "Envelope"
        getAllowance_2Input:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Header:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Header"
                Body:
                  type: "object"
                  properties:
                    getAllowance_2:
                      $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2_vad"
                  required:
                  - "getAllowance_2"
              required:
              - "Body"
          required:
          - "Envelope"
          example: "\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\
            >\n <soapenv:Header>\n  <wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\
            \ xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"\
            >\n   <wsse:UsernameToken>\n    <wsse:Username>string</wsse:Username>\n\
            \    <wsse:Password>string</wsse:Password>\n    <wsse:Nonce EncodingType=\"\
            string\">string</wsse:Nonce>\n    <wsu:Created>string</wsu:Created>\n\
            \   </wsse:UsernameToken>\n   <wsu:Timestamp wsu:Id=\"string\">\n    <wsu:Created>string</wsu:Created>\n\
            \    <wsu:Expires>string</wsu:Expires>\n   </wsu:Timestamp>\n  </wsse:Security>\n\
            \ </soapenv:Header>\n <soapenv:Body>\n  <vad:getAllowance_2 xmlns:vad=\"\
            http://soa.o2.co.uk/viewallowancedata_2\" xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\"\
            ><!-- mandatory -->\n   <vad:account><!-- mandatory -->\n    <ns1:portalID>string</ns1:portalID>\n\
            \    <ns1:msisdn>string</ns1:msisdn>\n    <ns1:accountDetail>\n     <ns1:billingAccountType><!--\
            \ mandatory -->string</ns1:billingAccountType>\n     <ns1:accountNumber><!--\
            \ mandatory -->string</ns1:accountNumber>\n     <ns1:msisdn><!-- mandatory\
            \ -->string</ns1:msisdn>\n    </ns1:accountDetail>\n   </vad:account>\n\
            \   <vad:allowanceCategory><!-- between zero and unlimited repetitions\
            \ of this element -->string</vad:allowanceCategory>\n   <vad:dataSource>string</vad:dataSource>\n\
            \   <vad:productList>\n    <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>\n\
            \    <vad:services>\n     <vad:productId><!-- mandatory --><!-- between\
            \ 1 and unlimited repetitions of this element -->string</vad:productId>\n\
            \    </vad:services>\n   </vad:productList>\n  </vad:getAllowance_2>\n\
            \ </soapenv:Body>\n</soapenv:Envelope>"
        getAllowance_2Header:
          type: "object"
          properties:
            Security:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/Security"
        getAllowance_2Output:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Body:
                  type: "object"
                  properties:
                    getAllowance_2Response:
                      $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Response_vad"
              required:
              - "Body"
          required:
          - "Envelope"
          example: "\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\
            >\n <soapenv:Body>\n  <vad:getAllowance_2Response xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            >\n   <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>\n\
            \   <vad:accountAllowances>\n    <vad:allowance><!-- mandatory --><!--\
            \ between 1 and unlimited repetitions of this element -->\n     <vad:productId>string</vad:productId>\n\
            \     <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>\n\
            \     <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \     <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>\n\
            \     <vad:longDescription><!-- mandatory -->string</vad:longDescription>\n\
            \     <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>\n  \
            \   <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>\n\
            \     <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>\n    \
            \ <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n    \
            \ <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>\n     <vad:allowanceUsageSummary>\n\
            \      <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \      <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n  \
            \    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:allowanceUsageSummary>\n\
            \    </vad:allowance>\n   </vad:accountAllowances>\n   <vad:msisdnAllowances>\n\
            \    <vad:msisdn><!-- mandatory -->string</vad:msisdn>\n    <vad:allowances>\n\
            \     <vad:allowance><!-- between zero and unlimited repetitions of this\
            \ element -->\n      <vad:productId>string</vad:productId>\n      <vad:allowanceName><!--\
            \ mandatory -->string</vad:allowanceName>\n      <vad:allowanceUnit><!--\
            \ mandatory -->string</vad:allowanceUnit>\n      <vad:shortDescription><!--\
            \ mandatory -->string</vad:shortDescription>\n      <vad:longDescription><!--\
            \ mandatory -->string</vad:longDescription>\n      <vad:isRestricted><!--\
            \ mandatory -->true</vad:isRestricted>\n      <vad:restrictionCategory><!--\
            \ mandatory -->string</vad:restrictionCategory>\n      <vad:isUnlimited><!--\
            \ mandatory -->true</vad:isUnlimited>\n      <vad:expiryDate><!-- mandatory\
            \ -->2016-04-18</vad:expiryDate>\n      <vad:orderIndex><!-- mandatory\
            \ -->3</vad:orderIndex>\n      <vad:allowanceUsageSummary>\n       <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n       <vad:allowanceUsed><!--\
            \ mandatory -->3</vad:allowanceUsed>\n       <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \      </vad:allowanceUsageSummary>\n     </vad:allowance>\n     <vad:fairUsageAllowances><!--\
            \ between zero and unlimited repetitions of this element -->\n      <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n      <vad:allowanceUsed><!--\
            \ mandatory -->3</vad:allowanceUsed>\n      <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \      <vad:thresholdType>string</vad:thresholdType>\n      <vad:startDate>2016-04-18T14:07:37</vad:startDate>\n\
            \      <vad:renewalDate>2016-04-18</vad:renewalDate>\n      <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>\n\
            \     </vad:fairUsageAllowances>\n    </vad:allowances>\n   </vad:msisdnAllowances>\n\
            \   <vad:chargingType><!-- between zero and unlimited repetitions of this\
            \ element -->string</vad:chargingType>\n  </vad:getAllowance_2Response>\n\
            \ </soapenv:Body>\n</soapenv:Envelope>"
        getAllowance_2Fault:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Body:
                  type: "object"
                  properties:
                    Fault:
                      type: "object"
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "object"
                          properties:
                            getAllowance_2Fault:
                              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getAllowance_2Fault_val"
              required:
              - "Body"
          required:
          - "Envelope"
        getNonDataAllowance_2Input:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Header:
                  $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Header"
                Body:
                  type: "object"
                  properties:
                    getNonDataAllowance_2:
                      $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2_vad"
                  required:
                  - "getNonDataAllowance_2"
              required:
              - "Body"
          required:
          - "Envelope"
          example: "\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\
            >\n <soapenv:Header>\n  <wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\
            \ xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"\
            >\n   <wsse:UsernameToken>\n    <wsse:Username>string</wsse:Username>\n\
            \    <wsse:Password>string</wsse:Password>\n    <wsse:Nonce EncodingType=\"\
            string\">string</wsse:Nonce>\n    <wsu:Created>string</wsu:Created>\n\
            \   </wsse:UsernameToken>\n   <wsu:Timestamp wsu:Id=\"string\">\n    <wsu:Created>string</wsu:Created>\n\
            \    <wsu:Expires>string</wsu:Expires>\n   </wsu:Timestamp>\n  </wsse:Security>\n\
            \ </soapenv:Header>\n <soapenv:Body>\n  <vad:getNonDataAllowance_2 xmlns:vad=\"\
            http://soa.o2.co.uk/viewallowancedata_2\" xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\"\
            ><!-- mandatory -->\n   <vad:account><!-- mandatory -->\n    <ns1:portalID>string</ns1:portalID>\n\
            \    <ns1:msisdn>string</ns1:msisdn>\n    <ns1:accountDetail>\n     <ns1:billingAccountType><!--\
            \ mandatory -->string</ns1:billingAccountType>\n     <ns1:accountNumber><!--\
            \ mandatory -->string</ns1:accountNumber>\n     <ns1:msisdn><!-- mandatory\
            \ -->string</ns1:msisdn>\n    </ns1:accountDetail>\n   </vad:account>\n\
            \   <vad:allowanceCategory><!-- between zero and unlimited repetitions\
            \ of this element -->string</vad:allowanceCategory>\n  </vad:getNonDataAllowance_2>\n\
            \ </soapenv:Body>\n</soapenv:Envelope>"
        getNonDataAllowance_2Header:
          type: "object"
          properties:
            Security:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/Security"
        getNonDataAllowance_2Output:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Body:
                  type: "object"
                  properties:
                    getNonDataAllowance_2Response:
                      $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Response_vad"
              required:
              - "Body"
          required:
          - "Envelope"
          example: "\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\
            >\n <soapenv:Body>\n  <vad:getNonDataAllowance_2Response xmlns:vad=\"\
            http://soa.o2.co.uk/viewallowancedata_2\">\n   <vad:accountNumber><!--\
            \ mandatory -->string</vad:accountNumber>\n   <vad:accountAllowances>\n\
            \    <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions\
            \ of this element -->\n     <vad:productId>string</vad:productId>\n  \
            \   <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>\n\
            \     <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \     <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>\n\
            \     <vad:longDescription><!-- mandatory -->string</vad:longDescription>\n\
            \     <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>\n  \
            \   <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>\n\
            \     <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>\n    \
            \ <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n    \
            \ <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>\n     <vad:allowanceUsageSummary>\n\
            \      <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \      <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n  \
            \    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:allowanceUsageSummary>\n\
            \    </vad:allowance>\n   </vad:accountAllowances>\n   <vad:msisdnLevelNonDataAllowances>\n\
            \    <vad:msisdn><!-- mandatory -->string</vad:msisdn>\n    <vad:allowances>\n\
            \     <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions\
            \ of this element -->\n      <vad:productId>string</vad:productId>\n \
            \     <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>\n\
            \      <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \      <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>\n\
            \      <vad:longDescription><!-- mandatory -->string</vad:longDescription>\n\
            \      <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>\n \
            \     <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>\n\
            \      <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>\n   \
            \   <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n  \
            \    <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>\n      <vad:allowanceUsageSummary>\n\
            \       <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \       <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n \
            \      <vad:allowanceRemaining>3</vad:allowanceRemaining>\n      </vad:allowanceUsageSummary>\n\
            \     </vad:allowance>\n    </vad:allowances>\n   </vad:msisdnLevelNonDataAllowances>\n\
            \   <vad:chargingType><!-- between zero and unlimited repetitions of this\
            \ element -->string</vad:chargingType>\n  </vad:getNonDataAllowance_2Response>\n\
            \ </soapenv:Body>\n</soapenv:Envelope>"
        getNonDataAllowance_2Fault:
          type: "object"
          properties:
            Envelope:
              xml:
                prefix: "soapenv"
                namespace: "http://schemas.xmlsoap.org/soap/envelope/"
              type: "object"
              properties:
                Body:
                  type: "object"
                  properties:
                    Fault:
                      type: "object"
                      properties:
                        faultcode:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        faultstring:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        faultactor:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "string"
                        detail:
                          xml:
                            prefix: ""
                            namespace: ""
                          type: "object"
                          properties:
                            getNonDataAllowance_2Fault:
                              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/getNonDataAllowance_2Fault_val"
              required:
              - "Body"
          required:
          - "Envelope"
        getAllowance_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            account:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountType_ns1_vad"
            allowanceCategory:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceCategoryType_vad"
            dataSource:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataSourceType_vad"
            productList:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productListType_vad"
            returnAllowanceByBundleType:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/typeYesOrNo_vad"
          required:
          - "account"
          description: "A complex type holding the keys to retrieve both airtime\n\
            \t\t\t\tand data allowances and usage details."
          example: "\n<vad:getAllowance xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            \ xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\n <vad:account><!-- mandatory\
            \ -->\n  <ns1:portalID>string</ns1:portalID>\n  <ns1:msisdn>string</ns1:msisdn>\n\
            \  <ns1:accountDetail>\n   <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>\n\
            \   <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>\n\
            \   <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>\n  </ns1:accountDetail>\n\
            \ </vad:account>\n <vad:allowanceCategory><!-- between zero and unlimited\
            \ repetitions of this element -->string</vad:allowanceCategory>\n <vad:dataSource>string</vad:dataSource>\n\
            \ <vad:productList>\n  <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>\n\
            \  <vad:services>\n   <vad:productId><!-- mandatory --><!-- between 1\
            \ and unlimited repetitions of this element -->string</vad:productId>\n\
            \  </vad:services>\n </vad:productList>\n <vad:returnAllowanceByBundleType>string</vad:returnAllowanceByBundleType>\n\
            </vad:getAllowance>"
        getAllowanceResponse_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            accountAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountAllowancesType_vad"
            msisdnAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnAllowances_vad"
            chargingType:
              type: "array"
              items:
                type: "string"
          description: "The service response, contains multiple allowances."
          example: "\n<vad:getAllowanceResponse xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            >\n <vad:accountAllowances>\n  <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>\n\
            \  <vad:allowance><!-- between zero and unlimited repetitions of this\
            \ element -->\n   <vad:productCode>string</vad:productCode>\n   <vad:productName><!--\
            \ mandatory -->string</vad:productName>\n   <vad:productType><!-- mandatory\
            \ -->string</vad:productType>\n   <vad:productDescription>string</vad:productDescription>\n\
            \   <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n  \
            \ <vad:suspended>true</vad:suspended>\n   <vad:allowanceDetail><!-- mandatory\
            \ -->\n    <vad:allowanceSummary><!-- mandatory -->\n     <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n     <vad:allowanceUsed><!-- mandatory\
            \ -->3</vad:allowanceUsed>\n     <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \    </vad:allowanceSummary>\n    <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \    <vad:restricted>true</vad:restricted>\n   </vad:allowanceDetail>\n\
            \   <vad:allowanceText>string</vad:allowanceText>\n  </vad:allowance>\n\
            \ </vad:accountAllowances>\n <vad:msisdnAllowances>\n  <vad:msisdn><!--\
            \ mandatory -->string</vad:msisdn>\n  <vad:voiceAllowances>\n   <vad:totalAllowanceSummary><!--\
            \ mandatory -->\n    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \   </vad:totalAllowanceSummary>\n   <vad:allowance><!-- mandatory --><!--\
            \ between 1 and unlimited repetitions of this element -->\n    <vad:productCode>string</vad:productCode>\n\
            \    <vad:productName><!-- mandatory -->string</vad:productName>\n   \
            \ <vad:productType><!-- mandatory -->string</vad:productType>\n    <vad:productDescription>string</vad:productDescription>\n\
            \    <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n \
            \   <vad:suspended>true</vad:suspended>\n    <vad:allowanceDetail><!--\
            \ mandatory -->\n     <vad:allowanceSummary><!-- mandatory -->\n     \
            \ <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n   \
            \   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n     \
            \ <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:allowanceSummary>\n\
            \     <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \     <vad:restricted>true</vad:restricted>\n    </vad:allowanceDetail>\n\
            \    <vad:allowanceText>string</vad:allowanceText>\n   </vad:allowance>\n\
            \  </vad:voiceAllowances>\n  <vad:messageAllowances>\n   <vad:totalAllowanceSummary><!--\
            \ mandatory -->\n    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \   </vad:totalAllowanceSummary>\n   <vad:allowance><!-- mandatory --><!--\
            \ between 1 and unlimited repetitions of this element -->\n    <vad:productCode>string</vad:productCode>\n\
            \    <vad:productName><!-- mandatory -->string</vad:productName>\n   \
            \ <vad:productType><!-- mandatory -->string</vad:productType>\n    <vad:productDescription>string</vad:productDescription>\n\
            \    <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n \
            \   <vad:suspended>true</vad:suspended>\n    <vad:allowanceDetail><!--\
            \ mandatory -->\n     <vad:allowanceSummary><!-- mandatory -->\n     \
            \ <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n   \
            \   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n     \
            \ <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:allowanceSummary>\n\
            \     <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \     <vad:restricted>true</vad:restricted>\n    </vad:allowanceDetail>\n\
            \    <vad:allowanceText>string</vad:allowanceText>\n   </vad:allowance>\n\
            \  </vad:messageAllowances>\n  <vad:dataAllowances>\n   <vad:totalAllowanceSummary><!--\
            \ between zero and unlimited repetitions of this element -->\n    <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n    <vad:allowanceUsed><!-- mandatory\
            \ -->3</vad:allowanceUsed>\n    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \    <vad:dataThresholdType>string</vad:dataThresholdType>\n    <vad:startDate>2016-04-18T14:07:37</vad:startDate>\n\
            \    <vad:renewalDate>2016-04-18</vad:renewalDate>\n    <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>\n\
            \   </vad:totalAllowanceSummary>\n   <vad:allowance><!-- between zero\
            \ and unlimited repetitions of this element -->\n    <vad:productCode>string</vad:productCode>\n\
            \    <vad:productName><!-- mandatory -->string</vad:productName>\n   \
            \ <vad:productType><!-- mandatory -->string</vad:productType>\n    <vad:productDescription>string</vad:productDescription>\n\
            \    <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n \
            \   <vad:suspended>true</vad:suspended>\n    <vad:allowanceDetail><!--\
            \ mandatory -->\n     <vad:allowanceSummary><!-- mandatory -->\n     \
            \ <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n   \
            \   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n     \
            \ <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:allowanceSummary>\n\
            \     <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \     <vad:restricted>true</vad:restricted>\n    </vad:allowanceDetail>\n\
            \    <vad:allowanceText>string</vad:allowanceText>\n   </vad:allowance>\n\
            \   <vad:dataAllowancesByBundleType>\n    <vad:dataBundle><!-- mandatory\
            \ --><!-- between 1 and unlimited repetitions of this element -->\n  \
            \   <vad:bundleType><!-- mandatory -->string</vad:bundleType>\n     <vad:startingAllowance><!--\
            \ mandatory -->3</vad:startingAllowance>\n     <vad:allowanceUsed>3</vad:allowanceUsed>\n\
            \     <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     <vad:expiryDate>2016-04-18</vad:expiryDate>\n\
            \    </vad:dataBundle>\n   </vad:dataAllowancesByBundleType>\n  </vad:dataAllowances>\n\
            \  <vad:unlimitedAllowances>\n   <vad:allowance><!-- mandatory --><!--\
            \ between 1 and unlimited repetitions of this element -->\n    <vad:productCode>string</vad:productCode>\n\
            \    <vad:productName><!-- mandatory -->string</vad:productName>\n   \
            \ <vad:productType><!-- mandatory -->string</vad:productType>\n    <vad:productDescription>string</vad:productDescription>\n\
            \    <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n \
            \   <vad:suspended>true</vad:suspended>\n    <vad:allowanceDetail><!--\
            \ mandatory -->\n     <vad:allowanceSummary><!-- mandatory -->\n     \
            \ <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n   \
            \   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n     \
            \ <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:allowanceSummary>\n\
            \     <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \     <vad:restricted>true</vad:restricted>\n    </vad:allowanceDetail>\n\
            \    <vad:allowanceText>string</vad:allowanceText>\n   </vad:allowance>\n\
            \  </vad:unlimitedAllowances>\n </vad:msisdnAllowances>\n <vad:chargingType><!--\
            \ between zero and unlimited repetitions of this element -->string</vad:chargingType>\n\
            </vad:getAllowanceResponse>"
        getAllowanceFault_val:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            SOAFaultOriginator:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultOriginator_ns1"
            SOAFaultCode:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultCode_ns1"
            faultDescription:
              type: "string"
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              description: "A human readable description of the error."
            faultTrace:
              type: "string"
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              description: "A computer generated dump of the fault (may help\n\t\t\
                \t\t\t\tin debugging problems)."
            SOATransactionID:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOATransactionID_ns1"
          required:
          - "SOAFaultOriginator"
          - "SOAFaultCode"
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,\
            \ if something goes wrong."
          example: "\n<vad:getAllowanceFault xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            \ xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\n <ns1:SOAFaultOriginator><!--\
            \ mandatory -->string</ns1:SOAFaultOriginator>\n <ns1:SOAFaultCode><!--\
            \ mandatory -->string</ns1:SOAFaultCode>\n <ns1:faultDescription>string</ns1:faultDescription>\n\
            \ <ns1:faultTrace>string</ns1:faultTrace>\n <ns1:SOATransactionID>string</ns1:SOATransactionID>\n\
            </vad:getAllowanceFault>"
        getDataAllowance_1_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            account:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountType_ns1_vad"
            dataSource:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataSourceType_vad"
            productList:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productListType_vad"
            returnAllowanceByBundleType:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/typeYesOrNo_vad"
          required:
          - "account"
          description: "A complex type holding the keys to retrieve data allowance\
            \ usage details."
          example: "\n<vad:getDataAllowance_1 xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            \ xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\n <vad:account><!-- mandatory\
            \ -->\n  <ns1:portalID>string</ns1:portalID>\n  <ns1:msisdn>string</ns1:msisdn>\n\
            \  <ns1:accountDetail>\n   <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>\n\
            \   <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>\n\
            \   <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>\n  </ns1:accountDetail>\n\
            \ </vad:account>\n <vad:dataSource>string</vad:dataSource>\n <vad:productList>\n\
            \  <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>\n\
            \  <vad:services>\n   <vad:productId><!-- mandatory --><!-- between 1\
            \ and unlimited repetitions of this element -->string</vad:productId>\n\
            \  </vad:services>\n </vad:productList>\n <vad:returnAllowanceByBundleType>string</vad:returnAllowanceByBundleType>\n\
            </vad:getDataAllowance_1>"
        getDataAllowance_1Response_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            accountAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountAllowancesType_vad"
            msisdnLevelAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnLevelDataAllowancesType_vad"
            chargingType:
              type: "string"
          description: "The service response, contains multiple allowances."
          example: "\n<vad:getDataAllowance_1Response xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            >\n <vad:accountAllowances>\n  <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>\n\
            \  <vad:allowance><!-- between zero and unlimited repetitions of this\
            \ element -->\n   <vad:productCode>string</vad:productCode>\n   <vad:productName><!--\
            \ mandatory -->string</vad:productName>\n   <vad:productType><!-- mandatory\
            \ -->string</vad:productType>\n   <vad:productDescription>string</vad:productDescription>\n\
            \   <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n  \
            \ <vad:suspended>true</vad:suspended>\n   <vad:allowanceDetail><!-- mandatory\
            \ -->\n    <vad:allowanceSummary><!-- mandatory -->\n     <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n     <vad:allowanceUsed><!-- mandatory\
            \ -->3</vad:allowanceUsed>\n     <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \    </vad:allowanceSummary>\n    <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \    <vad:restricted>true</vad:restricted>\n   </vad:allowanceDetail>\n\
            \   <vad:allowanceText>string</vad:allowanceText>\n  </vad:allowance>\n\
            \ </vad:accountAllowances>\n <vad:msisdnLevelAllowances>\n  <vad:msisdn><!--\
            \ mandatory -->string</vad:msisdn>\n  <vad:dataAllowances>\n   <vad:totalAllowanceSummary><!--\
            \ between zero and unlimited repetitions of this element -->\n    <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n    <vad:allowanceUsed><!-- mandatory\
            \ -->3</vad:allowanceUsed>\n    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \    <vad:dataThresholdType>string</vad:dataThresholdType>\n    <vad:startDate>2016-04-18T14:07:37</vad:startDate>\n\
            \    <vad:renewalDate>2016-04-18</vad:renewalDate>\n    <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>\n\
            \   </vad:totalAllowanceSummary>\n   <vad:allowance><!-- between zero\
            \ and unlimited repetitions of this element -->\n    <vad:productCode>string</vad:productCode>\n\
            \    <vad:productName><!-- mandatory -->string</vad:productName>\n   \
            \ <vad:productType><!-- mandatory -->string</vad:productType>\n    <vad:productDescription>string</vad:productDescription>\n\
            \    <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n \
            \   <vad:suspended>true</vad:suspended>\n    <vad:allowanceDetail><!--\
            \ mandatory -->\n     <vad:allowanceSummary><!-- mandatory -->\n     \
            \ <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n   \
            \   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n     \
            \ <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:allowanceSummary>\n\
            \     <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \     <vad:restricted>true</vad:restricted>\n    </vad:allowanceDetail>\n\
            \    <vad:allowanceText>string</vad:allowanceText>\n   </vad:allowance>\n\
            \  </vad:dataAllowances>\n  <vad:dataAllowancesByBundleType>\n   <vad:dataBundle><!--\
            \ mandatory --><!-- between 1 and unlimited repetitions of this element\
            \ -->\n    <vad:bundleType><!-- mandatory -->string</vad:bundleType>\n\
            \    <vad:startingAllowance><!-- mandatory -->3</vad:startingAllowance>\n\
            \    <vad:allowanceUsed>3</vad:allowanceUsed>\n    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \    <vad:expiryDate>2016-04-18</vad:expiryDate>\n   </vad:dataBundle>\n\
            \  </vad:dataAllowancesByBundleType>\n </vad:msisdnLevelAllowances>\n\
            \ <vad:chargingType>string</vad:chargingType>\n</vad:getDataAllowance_1Response>"
        getDataAllowance_1Fault_val:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            SOAFaultOriginator:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultOriginator_ns1"
            SOAFaultCode:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultCode_ns1"
            faultDescription:
              type: "string"
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              description: "A human readable description of the error."
            faultTrace:
              type: "string"
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              description: "A computer generated dump of the fault (may help\n\t\t\
                \t\t\t\tin debugging problems)."
            SOATransactionID:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOATransactionID_ns1"
          required:
          - "SOAFaultOriginator"
          - "SOAFaultCode"
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,\
            \ if something goes wrong."
          example: "\n<vad:getDataAllowance_1Fault xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            \ xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\n <ns1:SOAFaultOriginator><!--\
            \ mandatory -->string</ns1:SOAFaultOriginator>\n <ns1:SOAFaultCode><!--\
            \ mandatory -->string</ns1:SOAFaultCode>\n <ns1:faultDescription>string</ns1:faultDescription>\n\
            \ <ns1:faultTrace>string</ns1:faultTrace>\n <ns1:SOATransactionID>string</ns1:SOATransactionID>\n\
            </vad:getDataAllowance_1Fault>"
        getNonDataAllowance_1_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            account:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountType_ns1_vad"
            allowanceCategory:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceCategoryType_vad"
          required:
          - "account"
          description: "A complex type holding the keys to retrieve both airtime\n\
            \t\t\t\tand data allowances and usage details."
          example: "\n<vad:getNonDataAllowance_1 xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            \ xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\n <vad:account><!-- mandatory\
            \ -->\n  <ns1:portalID>string</ns1:portalID>\n  <ns1:msisdn>string</ns1:msisdn>\n\
            \  <ns1:accountDetail>\n   <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>\n\
            \   <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>\n\
            \   <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>\n  </ns1:accountDetail>\n\
            \ </vad:account>\n <vad:allowanceCategory><!-- between zero and unlimited\
            \ repetitions of this element -->string</vad:allowanceCategory>\n</vad:getNonDataAllowance_1>"
        getNonDataAllowance_1Response_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            accountAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountAllowancesType_vad"
            msisdnLevelAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnLevelNonDataAllowancesType_vad"
            chargingType:
              type: "array"
              items:
                type: "string"
          description: "The service response, contains multiple allowances."
          example: "\n<vad:getNonDataAllowance_1Response xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            >\n <vad:accountAllowances>\n  <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>\n\
            \  <vad:allowance><!-- between zero and unlimited repetitions of this\
            \ element -->\n   <vad:productCode>string</vad:productCode>\n   <vad:productName><!--\
            \ mandatory -->string</vad:productName>\n   <vad:productType><!-- mandatory\
            \ -->string</vad:productType>\n   <vad:productDescription>string</vad:productDescription>\n\
            \   <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n  \
            \ <vad:suspended>true</vad:suspended>\n   <vad:allowanceDetail><!-- mandatory\
            \ -->\n    <vad:allowanceSummary><!-- mandatory -->\n     <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n     <vad:allowanceUsed><!-- mandatory\
            \ -->3</vad:allowanceUsed>\n     <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \    </vad:allowanceSummary>\n    <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \    <vad:restricted>true</vad:restricted>\n   </vad:allowanceDetail>\n\
            \   <vad:allowanceText>string</vad:allowanceText>\n  </vad:allowance>\n\
            \ </vad:accountAllowances>\n <vad:msisdnLevelAllowances>\n  <vad:msisdn><!--\
            \ mandatory -->string</vad:msisdn>\n  <vad:voiceAllowances>\n   <vad:totalAllowanceSummary><!--\
            \ mandatory -->\n    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \   </vad:totalAllowanceSummary>\n   <vad:allowance><!-- mandatory --><!--\
            \ between 1 and unlimited repetitions of this element -->\n    <vad:productCode>string</vad:productCode>\n\
            \    <vad:productName><!-- mandatory -->string</vad:productName>\n   \
            \ <vad:productType><!-- mandatory -->string</vad:productType>\n    <vad:productDescription>string</vad:productDescription>\n\
            \    <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n \
            \   <vad:suspended>true</vad:suspended>\n    <vad:allowanceDetail><!--\
            \ mandatory -->\n     <vad:allowanceSummary><!-- mandatory -->\n     \
            \ <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n   \
            \   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n     \
            \ <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:allowanceSummary>\n\
            \     <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \     <vad:restricted>true</vad:restricted>\n    </vad:allowanceDetail>\n\
            \    <vad:allowanceText>string</vad:allowanceText>\n   </vad:allowance>\n\
            \  </vad:voiceAllowances>\n  <vad:messageAllowances>\n   <vad:totalAllowanceSummary><!--\
            \ mandatory -->\n    <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n\
            \    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \   </vad:totalAllowanceSummary>\n   <vad:allowance><!-- mandatory --><!--\
            \ between 1 and unlimited repetitions of this element -->\n    <vad:productCode>string</vad:productCode>\n\
            \    <vad:productName><!-- mandatory -->string</vad:productName>\n   \
            \ <vad:productType><!-- mandatory -->string</vad:productType>\n    <vad:productDescription>string</vad:productDescription>\n\
            \    <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n \
            \   <vad:suspended>true</vad:suspended>\n    <vad:allowanceDetail><!--\
            \ mandatory -->\n     <vad:allowanceSummary><!-- mandatory -->\n     \
            \ <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n   \
            \   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n     \
            \ <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:allowanceSummary>\n\
            \     <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \     <vad:restricted>true</vad:restricted>\n    </vad:allowanceDetail>\n\
            \    <vad:allowanceText>string</vad:allowanceText>\n   </vad:allowance>\n\
            \  </vad:messageAllowances>\n  <vad:unlimitedAllowances>\n   <vad:allowance><!--\
            \ mandatory --><!-- between 1 and unlimited repetitions of this element\
            \ -->\n    <vad:productCode>string</vad:productCode>\n    <vad:productName><!--\
            \ mandatory -->string</vad:productName>\n    <vad:productType><!-- mandatory\
            \ -->string</vad:productType>\n    <vad:productDescription>string</vad:productDescription>\n\
            \    <vad:expiryDate><!-- mandatory -->2016-04-18</vad:expiryDate>\n \
            \   <vad:suspended>true</vad:suspended>\n    <vad:allowanceDetail><!--\
            \ mandatory -->\n     <vad:allowanceSummary><!-- mandatory -->\n     \
            \ <vad:startingBalance><!-- mandatory -->3</vad:startingBalance>\n   \
            \   <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n     \
            \ <vad:allowanceRemaining>3</vad:allowanceRemaining>\n     </vad:allowanceSummary>\n\
            \     <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \     <vad:restricted>true</vad:restricted>\n    </vad:allowanceDetail>\n\
            \    <vad:allowanceText>string</vad:allowanceText>\n   </vad:allowance>\n\
            \  </vad:unlimitedAllowances>\n </vad:msisdnLevelAllowances>\n <vad:chargingType><!--\
            \ between zero and unlimited repetitions of this element -->string</vad:chargingType>\n\
            </vad:getNonDataAllowance_1Response>"
        getNonDataAllowance_1Fault_val:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            SOAFaultOriginator:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultOriginator_ns1"
            SOAFaultCode:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultCode_ns1"
            faultDescription:
              type: "string"
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              description: "A human readable description of the error."
            faultTrace:
              type: "string"
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              description: "A computer generated dump of the fault (may help\n\t\t\
                \t\t\t\tin debugging problems)."
            SOATransactionID:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOATransactionID_ns1"
          required:
          - "SOAFaultOriginator"
          - "SOAFaultCode"
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,\
            \ if something goes wrong."
          example: "\n<vad:getNonDataAllowance_1Fault xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            \ xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\n <ns1:SOAFaultOriginator><!--\
            \ mandatory -->string</ns1:SOAFaultOriginator>\n <ns1:SOAFaultCode><!--\
            \ mandatory -->string</ns1:SOAFaultCode>\n <ns1:faultDescription>string</ns1:faultDescription>\n\
            \ <ns1:faultTrace>string</ns1:faultTrace>\n <ns1:SOATransactionID>string</ns1:SOATransactionID>\n\
            </vad:getNonDataAllowance_1Fault>"
        getAllowance_2_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            account:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountType_ns1_vad"
            allowanceCategory:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceCategoryType_vad"
            dataSource:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataSourceType_vad"
            productList:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productListType_vad"
          required:
          - "account"
          description: "A complex type holding the keys to retrieve both airtime\n\
            \t\t\t\tand data allowances and usage details."
          example: "\n<vad:getAllowance_2 xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            \ xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\n <vad:account><!-- mandatory\
            \ -->\n  <ns1:portalID>string</ns1:portalID>\n  <ns1:msisdn>string</ns1:msisdn>\n\
            \  <ns1:accountDetail>\n   <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>\n\
            \   <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>\n\
            \   <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>\n  </ns1:accountDetail>\n\
            \ </vad:account>\n <vad:allowanceCategory><!-- between zero and unlimited\
            \ repetitions of this element -->string</vad:allowanceCategory>\n <vad:dataSource>string</vad:dataSource>\n\
            \ <vad:productList>\n  <vad:tariffProductId><!-- mandatory -->string</vad:tariffProductId>\n\
            \  <vad:services>\n   <vad:productId><!-- mandatory --><!-- between 1\
            \ and unlimited repetitions of this element -->string</vad:productId>\n\
            \  </vad:services>\n </vad:productList>\n</vad:getAllowance_2>"
        getAllowance_2Response_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            accountNumber:
              xml:
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                prefix: "vad"
              type: "string"
              maxLength: 20
              minLength: 6
              description: "A billing account, as it appears in the back end billing\n\
                \t\t\t\tsystem (Companion).;\nThe Companion account number for this\
                \ number (if\n\t\t\t\t\t\trelevant)."
            accountAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountAllowances_2Type_vad"
            msisdnAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnAllowances_2Type_vad"
            chargingType:
              type: "array"
              items:
                type: "string"
          required:
          - "accountNumber"
          description: "The service response, contains multiple allowances."
          example: "\n<vad:getAllowance_2Response xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            >\n <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>\n\
            \ <vad:accountAllowances>\n  <vad:allowance><!-- mandatory --><!-- between\
            \ 1 and unlimited repetitions of this element -->\n   <vad:productId>string</vad:productId>\n\
            \   <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>\n\
            \   <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \   <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>\n\
            \   <vad:longDescription><!-- mandatory -->string</vad:longDescription>\n\
            \   <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>\n   <vad:restrictionCategory><!--\
            \ mandatory -->string</vad:restrictionCategory>\n   <vad:isUnlimited><!--\
            \ mandatory -->true</vad:isUnlimited>\n   <vad:expiryDate><!-- mandatory\
            \ -->2016-04-18</vad:expiryDate>\n   <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>\n\
            \   <vad:allowanceUsageSummary>\n    <vad:startingBalance><!-- mandatory\
            \ -->3</vad:startingBalance>\n    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n   </vad:allowanceUsageSummary>\n\
            \  </vad:allowance>\n </vad:accountAllowances>\n <vad:msisdnAllowances>\n\
            \  <vad:msisdn><!-- mandatory -->string</vad:msisdn>\n  <vad:allowances>\n\
            \   <vad:allowance><!-- between zero and unlimited repetitions of this\
            \ element -->\n    <vad:productId>string</vad:productId>\n    <vad:allowanceName><!--\
            \ mandatory -->string</vad:allowanceName>\n    <vad:allowanceUnit><!--\
            \ mandatory -->string</vad:allowanceUnit>\n    <vad:shortDescription><!--\
            \ mandatory -->string</vad:shortDescription>\n    <vad:longDescription><!--\
            \ mandatory -->string</vad:longDescription>\n    <vad:isRestricted><!--\
            \ mandatory -->true</vad:isRestricted>\n    <vad:restrictionCategory><!--\
            \ mandatory -->string</vad:restrictionCategory>\n    <vad:isUnlimited><!--\
            \ mandatory -->true</vad:isUnlimited>\n    <vad:expiryDate><!-- mandatory\
            \ -->2016-04-18</vad:expiryDate>\n    <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>\n\
            \    <vad:allowanceUsageSummary>\n     <vad:startingBalance><!-- mandatory\
            \ -->3</vad:startingBalance>\n     <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \     <vad:allowanceRemaining>3</vad:allowanceRemaining>\n    </vad:allowanceUsageSummary>\n\
            \   </vad:allowance>\n   <vad:fairUsageAllowances><!-- between zero and\
            \ unlimited repetitions of this element -->\n    <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n    <vad:allowanceUsed><!-- mandatory\
            \ -->3</vad:allowanceUsed>\n    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \    <vad:thresholdType>string</vad:thresholdType>\n    <vad:startDate>2016-04-18T14:07:37</vad:startDate>\n\
            \    <vad:renewalDate>2016-04-18</vad:renewalDate>\n    <vad:timestamp>2016-04-18T14:07:37</vad:timestamp>\n\
            \   </vad:fairUsageAllowances>\n  </vad:allowances>\n </vad:msisdnAllowances>\n\
            \ <vad:chargingType><!-- between zero and unlimited repetitions of this\
            \ element -->string</vad:chargingType>\n</vad:getAllowance_2Response>"
        getAllowance_2Fault_val:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            SOAFaultOriginator:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultOriginator_ns1"
            SOAFaultCode:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultCode_ns1"
            faultDescription:
              type: "string"
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              description: "A human readable description of the error."
            faultTrace:
              type: "string"
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              description: "A computer generated dump of the fault (may help\n\t\t\
                \t\t\t\tin debugging problems)."
            SOATransactionID:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOATransactionID_ns1"
          required:
          - "SOAFaultOriginator"
          - "SOAFaultCode"
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,\
            \ if something goes wrong."
          example: "\n<vad:getAllowance_2Fault xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            \ xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\n <ns1:SOAFaultOriginator><!--\
            \ mandatory -->string</ns1:SOAFaultOriginator>\n <ns1:SOAFaultCode><!--\
            \ mandatory -->string</ns1:SOAFaultCode>\n <ns1:faultDescription>string</ns1:faultDescription>\n\
            \ <ns1:faultTrace>string</ns1:faultTrace>\n <ns1:SOATransactionID>string</ns1:SOATransactionID>\n\
            </vad:getAllowance_2Fault>"
        getNonDataAllowance_2_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            account:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountType_ns1_vad"
            allowanceCategory:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceCategoryType_vad"
          required:
          - "account"
          description: "A complex type holding the keys to retrieve both airtime\n\
            \t\t\t\tand data allowances and usage details."
          example: "\n<vad:getNonDataAllowance_2 xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            \ xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\n <vad:account><!-- mandatory\
            \ -->\n  <ns1:portalID>string</ns1:portalID>\n  <ns1:msisdn>string</ns1:msisdn>\n\
            \  <ns1:accountDetail>\n   <ns1:billingAccountType><!-- mandatory -->string</ns1:billingAccountType>\n\
            \   <ns1:accountNumber><!-- mandatory -->string</ns1:accountNumber>\n\
            \   <ns1:msisdn><!-- mandatory -->string</ns1:msisdn>\n  </ns1:accountDetail>\n\
            \ </vad:account>\n <vad:allowanceCategory><!-- between zero and unlimited\
            \ repetitions of this element -->string</vad:allowanceCategory>\n</vad:getNonDataAllowance_2>"
        getNonDataAllowance_2Response_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            accountNumber:
              xml:
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                prefix: "vad"
              type: "string"
              maxLength: 20
              minLength: 6
              description: "A billing account, as it appears in the back end billing\n\
                \t\t\t\tsystem (Companion).;\nThe Companion account number for this\
                \ number (if\n\t\t\t\t\t\trelevant)."
            accountAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountAllowances_2Type_vad"
            msisdnLevelNonDataAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnNonDataAllowances_2Type_vad"
            chargingType:
              type: "array"
              items:
                type: "string"
          required:
          - "accountNumber"
          description: "The service response, contains multiple allowances."
          example: "\n<vad:getNonDataAllowance_2Response xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            >\n <vad:accountNumber><!-- mandatory -->string</vad:accountNumber>\n\
            \ <vad:accountAllowances>\n  <vad:allowance><!-- mandatory --><!-- between\
            \ 1 and unlimited repetitions of this element -->\n   <vad:productId>string</vad:productId>\n\
            \   <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>\n\
            \   <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n\
            \   <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>\n\
            \   <vad:longDescription><!-- mandatory -->string</vad:longDescription>\n\
            \   <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>\n   <vad:restrictionCategory><!--\
            \ mandatory -->string</vad:restrictionCategory>\n   <vad:isUnlimited><!--\
            \ mandatory -->true</vad:isUnlimited>\n   <vad:expiryDate><!-- mandatory\
            \ -->2016-04-18</vad:expiryDate>\n   <vad:orderIndex><!-- mandatory -->3</vad:orderIndex>\n\
            \   <vad:allowanceUsageSummary>\n    <vad:startingBalance><!-- mandatory\
            \ -->3</vad:startingBalance>\n    <vad:allowanceUsed><!-- mandatory -->3</vad:allowanceUsed>\n\
            \    <vad:allowanceRemaining>3</vad:allowanceRemaining>\n   </vad:allowanceUsageSummary>\n\
            \  </vad:allowance>\n </vad:accountAllowances>\n <vad:msisdnLevelNonDataAllowances>\n\
            \  <vad:msisdn><!-- mandatory -->string</vad:msisdn>\n  <vad:allowances>\n\
            \   <vad:allowance><!-- mandatory --><!-- between 1 and unlimited repetitions\
            \ of this element -->\n    <vad:productId>string</vad:productId>\n   \
            \ <vad:allowanceName><!-- mandatory -->string</vad:allowanceName>\n  \
            \  <vad:allowanceUnit><!-- mandatory -->string</vad:allowanceUnit>\n \
            \   <vad:shortDescription><!-- mandatory -->string</vad:shortDescription>\n\
            \    <vad:longDescription><!-- mandatory -->string</vad:longDescription>\n\
            \    <vad:isRestricted><!-- mandatory -->true</vad:isRestricted>\n   \
            \ <vad:restrictionCategory><!-- mandatory -->string</vad:restrictionCategory>\n\
            \    <vad:isUnlimited><!-- mandatory -->true</vad:isUnlimited>\n    <vad:expiryDate><!--\
            \ mandatory -->2016-04-18</vad:expiryDate>\n    <vad:orderIndex><!-- mandatory\
            \ -->3</vad:orderIndex>\n    <vad:allowanceUsageSummary>\n     <vad:startingBalance><!--\
            \ mandatory -->3</vad:startingBalance>\n     <vad:allowanceUsed><!-- mandatory\
            \ -->3</vad:allowanceUsed>\n     <vad:allowanceRemaining>3</vad:allowanceRemaining>\n\
            \    </vad:allowanceUsageSummary>\n   </vad:allowance>\n  </vad:allowances>\n\
            \ </vad:msisdnLevelNonDataAllowances>\n <vad:chargingType><!-- between\
            \ zero and unlimited repetitions of this element -->string</vad:chargingType>\n\
            </vad:getNonDataAllowance_2Response>"
        getNonDataAllowance_2Fault_val:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            SOAFaultOriginator:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultOriginator_ns1"
            SOAFaultCode:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOAFaultCode_ns1"
            faultDescription:
              type: "string"
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              description: "A human readable description of the error."
            faultTrace:
              type: "string"
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              description: "A computer generated dump of the fault (may help\n\t\t\
                \t\t\t\tin debugging problems)."
            SOATransactionID:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/SOATransactionID_ns1"
          required:
          - "SOAFaultOriginator"
          - "SOAFaultCode"
          description: "The type of the response sent to the calling\n\t\t\t\tapplication,\
            \ if something goes wrong."
          example: "\n<vad:getNonDataAllowance_2Fault xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\"\
            \ xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\n <ns1:SOAFaultOriginator><!--\
            \ mandatory -->string</ns1:SOAFaultOriginator>\n <ns1:SOAFaultCode><!--\
            \ mandatory -->string</ns1:SOAFaultCode>\n <ns1:faultDescription>string</ns1:faultDescription>\n\
            \ <ns1:faultTrace>string</ns1:faultTrace>\n <ns1:SOATransactionID>string</ns1:SOATransactionID>\n\
            </vad:getNonDataAllowance_2Fault>"
        accountType_ns1_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            portalID:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/portalIDType_ns1"
            msisdn:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnType_ns1"
              description: "A msisdn, in international format i.e.,\"447712345678\""
            accountDetail:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/accountDetail_ns1"
              description: "Account Details"
          description: "Data type to define a customers account. This could be\n\t\
            \t\t\teither a portal account, msisdn, or a companion account\n\t\t\t\t\
            and msisdn. Or a Bank Account program ID and account ID\n\t\t\t\t(initially\
            \ for Timberlake)"
          x-xsi-type: "accountType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          x-xsi-type-uniquename: "accountType_ns1_vad"
        allowanceCategoryType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "string"
          enum:
          - "MINUTES"
          - "MESSAGES"
          - "DATA"
          description: "A simple type to define the type of allowance to retrieve."
          x-xsi-type: "allowanceCategoryType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "allowanceCategoryType_vad"
        dataSourceType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "string"
          enum:
          - "BILLING"
          - "FUP"
          description: "A simple type to define the the source of the allowances.\n\
            \t\t\t If this element is not provided then the data allowance\n\t\t\t\
            \ source would be decided based on the data charging category by default."
          x-xsi-type: "dataSourceType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "dataSourceType_vad"
        productListType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            tariffProductId:
              xml:
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                prefix: "vad"
              type: "string"
              description: "Identifies a product - temporarily the same as o2BFID\n\
                \t\t\t\t(and hence customer ID)"
            services:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/servicesType_vad"
          required:
          - "tariffProductId"
          description: "The customer current tariff and the list of services present\
            \ on the account. If this is provided then the customer data charging\
            \ type \n\t\t\twould be determined using the tariff/services combination."
          x-xsi-type: "productListType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "productListType_vad"
        typeYesOrNo_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "string"
          maxLength: 1
          minLength: 1
          enum:
          - "Y"
          - "N"
          description: "Flag indicating whether or not there are outstanding\n\t\t\
            \t\treturns on an order (Y/N). Field will be N if no returns\n\t\t\t\t\
            have been requested."
          x-xsi-type: "typeYesOrNo"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "typeYesOrNo_vad"
        accountAllowancesType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            accountNumber:
              xml:
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                prefix: "vad"
              type: "string"
              maxLength: 20
              minLength: 6
              description: "A billing account, as it appears in the back end billing\n\
                \t\t\t\tsystem (Companion).;\nThe Companion account number for this\
                \ number (if\n\t\t\t\t\t\trelevant)."
            allowance:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad"
          required:
          - "accountNumber"
          description: "Allowances shared across mobiles on an account."
          x-xsi-type: "accountAllowancesType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "accountAllowancesType_vad"
        msisdnAllowances_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            msisdn:
              xml:
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                prefix: "vad"
              type: "string"
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\
                \t\t\t\tas strings, including country codes i.e. \"447734123456\"\
                ;\n\t\t\t\tand translated into localised formats on the\n\t\t\t\t\
                presentation and backend layers.;\nThe mobile phone that the information\
                \ is about."
            voiceAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/voiceAllowancesType_vad"
            messageAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/messageAllowancesType_vad"
            dataAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowances_2Type_vad"
            unlimitedAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/unlimitedAllowancesType_vad"
          required:
          - "msisdn"
          description: "Allowances relevant to MSISDN."
          x-xsi-type: "msisdnAllowances"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "msisdnAllowances_vad"
        SOAFaultOriginator_ns1:
          xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          type: "string"
        SOAFaultCode_ns1:
          xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          type: "string"
        SOATransactionID_ns1:
          xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          type: "string"
        msisdnLevelDataAllowancesType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            msisdn:
              xml:
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                prefix: "vad"
              type: "string"
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\
                \t\t\t\tas strings, including country codes i.e. \"447734123456\"\
                ;\n\t\t\t\tand translated into localised formats on the\n\t\t\t\t\
                presentation and backend layers.;\nThe mobile phone that the information\
                \ is about."
            dataAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowancesType_vad"
            dataAllowancesByBundleType:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowancesByBundleTypeType_vad"
          required:
          - "msisdn"
          description: "Allowances relevant to MSISDN."
          x-xsi-type: "msisdnLevelDataAllowancesType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "msisdnLevelDataAllowancesType_vad"
        msisdnLevelNonDataAllowancesType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            msisdn:
              xml:
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                prefix: "vad"
              type: "string"
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\
                \t\t\t\tas strings, including country codes i.e. \"447734123456\"\
                ;\n\t\t\t\tand translated into localised formats on the\n\t\t\t\t\
                presentation and backend layers.;\nThe mobile phone that the information\
                \ is about."
            voiceAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/voiceAllowancesType_vad"
            messageAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/messageAllowancesType_vad"
            unlimitedAllowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/unlimitedAllowancesType_vad"
          required:
          - "msisdn"
          description: "Allowances relevant to MSISDN."
          x-xsi-type: "msisdnLevelNonDataAllowancesType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "msisdnLevelNonDataAllowancesType_vad"
        accountAllowances_2Type_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            allowance:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowance_2Type_vad"
              minItems: 1
              description: "Complex structure holding allowance details."
          required:
          - "allowance"
          description: "Allowances shared across mobiles on an account."
          x-xsi-type: "accountAllowances_2Type"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "accountAllowances_2Type_vad"
        msisdnAllowances_2Type_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            msisdn:
              xml:
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                prefix: "vad"
              type: "string"
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\
                \t\t\t\tas strings, including country codes i.e. \"447734123456\"\
                ;\n\t\t\t\tand translated into localised formats on the\n\t\t\t\t\
                presentation and backend layers.;\nThe mobile phone that the information\
                \ is about."
            allowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowancesType_vad"
          required:
          - "msisdn"
          description: "Allowances relevant to MSISDN."
          x-xsi-type: "msisdnAllowances_2Type"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "msisdnAllowances_2Type_vad"
        msisdnNonDataAllowances_2Type_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            msisdn:
              xml:
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                prefix: "vad"
              type: "string"
              description: "Mobile Phone numbers (MSISDNs) should always be defined\n\
                \t\t\t\tas strings, including country codes i.e. \"447734123456\"\
                ;\n\t\t\t\tand translated into localised formats on the\n\t\t\t\t\
                presentation and backend layers.;\nThe mobile phone that the information\
                \ is about."
            allowances:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowances_2Type_vad"
          required:
          - "msisdn"
          description: "Non data allowances relevant to MSISDN."
          x-xsi-type: "msisdnNonDataAllowances_2Type"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "msisdnNonDataAllowances_2Type_vad"
        portalIDType_ns1:
          xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          type: "string"
          description: "The portal account username (i.e., Portal ID). \n\t\t\t\t\
            A portal account is normally of the form “john.smith@o2.co.uk\". \n\t\t\
            \t\tThe Portal ID in this example is \"john.smith\" and the domain is\
            \ \"o2.co.uk\"."
          x-xsi-type: "portalIDType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          x-xsi-type-uniquename: "portalIDType_ns1"
        msisdnType_ns1:
          xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          type: "string"
          description: "Mobile Phone numbers (MSISDNs) should always be defined\n\t\
            \t\t\tas strings, including country codes i.e. \"447734123456\";\n\t\t\
            \t\tand translated into localised formats on the\n\t\t\t\tpresentation\
            \ and backend layers."
          x-xsi-type: "msisdnType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          x-xsi-type-uniquename: "msisdnType_ns1"
        accountDetail_ns1:
          xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          type: "object"
          properties:
            billingAccountType:
              xml:
                namespace: "http://soa.o2.co.uk/coredata_1"
                prefix: "ns1"
              type: "string"
              enum:
              - "MOBILE"
              description: "The type of account as it is defined in the\n\t\t\t\t\t\
                \tbilling system (only \"MOBILE\" currently\n\t\t\t\t\t\tdefined)."
            accountNumber:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/billingAccountNumberType_ns1"
              description: "The companion account."
            msisdn:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/msisdnType_ns1"
              description: "The msisdn within the above account."
          required:
          - "billingAccountType"
          - "accountNumber"
          - "msisdn"
          description: "Account Details"
          x-xsi-type: "accountDetail"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          x-xsi-type-uniquename: "accountDetail_ns1"
        servicesType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            productId:
              type: "array"
              items:
                xml:
                  namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                  prefix: "vad"
                type: "string"
                description: "Identifies a product - temporarily the same as o2BFID\n\
                  \t\t\t\t(and hence customer ID)"
              minItems: 1
          required:
          - "productId"
          description: "A list of services availalbe on the customer current tariff."
          x-xsi-type: "servicesType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "servicesType_vad"
        allowanceType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            productCode:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productCode_vad"
            productName:
              type: "string"
              description: "Marketing name of the product providing the allowance."
            productType:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productType_vad"
            productDescription:
              type: "string"
              description: "Textual description of the product. Typically includes\n\
                \t\t\t\t\t\tthe number and type of allowances included with the\n\t\
                \t\t\t\t\tproduct."
            expiryDate:
              type: "string"
              format: "date"
              description: "Date on which the allowance expires."
            suspended:
              type: "boolean"
              description: "Flag indicating whether the product (and by implication\n\
                \t\t\t\t\t\tthe allowances provided by the product) are temporarily\n\
                \t\t\t\t\t\tsuspended. This may be due (for example) to insufficient\n\
                \t\t\t\t\t\tbalance to recharge the allowance. If the element is not\n\
                \t\t\t\t\t\tincluded the product (and allowances) are currently\n\t\
                \t\t\t\t\tactive."
            allowanceDetail:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceDetailType_vad"
              description: "Numerical descriptions of allowances delivered as part\n\
                \t\t\t\t\t\tof a product. If there are no elements, and a\n\t\t\t\t\
                \t\tproductDescription element exists, then the description\n\t\t\t\
                \t\t\tshould be used instead."
            allowanceText:
              type: "string"
              description: "This field can be used as an alternative to displaying\n\
                \t\t\t\t\t\tallowanceDetail elements if it is supplied."
          required:
          - "productName"
          - "productType"
          - "expiryDate"
          - "allowanceDetail"
          description: "A set of allowances that are included as part of a \"product\"\
            ."
          x-xsi-type: "allowanceType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "allowanceType_vad"
        voiceAllowancesType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            totalAllowanceSummary:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceSummaryType_vad"
            allowance:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad"
              minItems: 1
          required:
          - "totalAllowanceSummary"
          - "allowance"
          description: "Allowances related to voice. Provides an overall initial\n\
            \t\t\t\tand remaining allowances and also a break down of each\n\t\t\t\
            \tallowance"
          x-xsi-type: "voiceAllowancesType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "voiceAllowancesType_vad"
        messageAllowancesType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            totalAllowanceSummary:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceSummaryType_vad"
            allowance:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad"
              minItems: 1
          required:
          - "totalAllowanceSummary"
          - "allowance"
          description: "Allowances related to message that includes SMS and MMS.\n\
            \t\t\t\tProvides an overall initial and remaining allowances and\n\t\t\
            \t\talso a break down of each allowance"
          x-xsi-type: "messageAllowancesType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "messageAllowancesType_vad"
        dataAllowances_2Type_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            totalAllowanceSummary:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowanceSummaryType_vad"
            allowance:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad"
            dataAllowancesByBundleType:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowancesByBundleTypeType_vad"
          description: "Allowances related to data in KB. Provides an overall\n\t\t\
            \t\tinitial and remaining allowances and also a break down of\n\t\t\t\t\
            each allowance"
          x-xsi-type: "dataAllowances_2Type"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "dataAllowances_2Type_vad"
        unlimitedAllowancesType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            allowance:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad"
              minItems: 1
          required:
          - "allowance"
          description: "All the unlimited Allowances related to Voice, Text and Data."
          x-xsi-type: "unlimitedAllowancesType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "unlimitedAllowancesType_vad"
        dataAllowancesType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            totalAllowanceSummary:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataAllowanceSummaryType_vad"
            allowance:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceType_vad"
          description: "Allowances related to data in KB. Provides an overall\n\t\t\
            \t\tinitial and remaining allowances and also a break down of\n\t\t\t\t\
            each allowance"
          x-xsi-type: "dataAllowancesType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "dataAllowancesType_vad"
        dataAllowancesByBundleTypeType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            dataBundle:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/dataBundleType_vad"
              minItems: 1
          required:
          - "dataBundle"
          x-xsi-type: "dataAllowancesByBundleTypeType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "dataAllowancesByBundleTypeType_vad"
        allowance_2Type_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            productId:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/productCode_vad"
            allowanceName:
              type: "string"
              description: "Marketing name of the product providing the allowance."
            allowanceUnit:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceUnitType_vad"
            shortDescription:
              type: "string"
              description: "Short textual description of the product."
            longDescription:
              type: "string"
              description: "Long textual description of the product."
            isRestricted:
              type: "boolean"
            restrictionCategory:
              type: "string"
            isUnlimited:
              type: "boolean"
            expiryDate:
              type: "string"
              format: "date"
              description: "Date on which the allowance expires."
            orderIndex:
              type: "number"
              description: "Describes the order in which the allowance need to displayed."
            allowanceUsageSummary:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceUsageSummaryType_vad"
          required:
          - "allowanceName"
          - "allowanceUnit"
          - "shortDescription"
          - "longDescription"
          - "isRestricted"
          - "restrictionCategory"
          - "isUnlimited"
          - "expiryDate"
          - "orderIndex"
          description: "A set of allowances that are included as part of a \"product\"\
            ."
          x-xsi-type: "allowance_2Type"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "allowance_2Type_vad"
        allowancesType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            allowance:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowance_2Type_vad"
              description: "Complex structure holding allowance details."
            fairUsageAllowances:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/fairUsageAllowancesType_vad"
          description: "Allowances relevant to MSISDN."
          x-xsi-type: "allowancesType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "allowancesType_vad"
        allowances_2Type_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            allowance:
              type: "array"
              items:
                $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowance_2Type_vad"
              minItems: 1
              description: "Complex structure holding allowance details."
          required:
          - "allowance"
          description: "Fair usage and non-fair usage allowances relevant to MSISDN."
          x-xsi-type: "allowances_2Type"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "allowances_2Type_vad"
        billingAccountNumberType_ns1:
          xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          type: "string"
          maxLength: 20
          minLength: 6
          description: "A billing account, as it appears in the back end billing\n\
            \t\t\t\tsystem (Companion)."
          x-xsi-type: "billingAccountNumberType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/coredata_1"
            prefix: "ns1"
          x-xsi-type-uniquename: "billingAccountNumberType_ns1"
        productCode_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "string"
          maxLength: 20
          description: "System ID for the product, to aid aggregation (not available\
            \ for\n\t\t\t\tall products)."
          x-xsi-type: "productCode"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "productCode_vad"
        productType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "string"
          enum:
          - "TARIFF"
          - "BOLT-ON"
          - "TREAT"
          - "OTHER"
          description: "The type of allowance (tarrif / bolt-on/ treat)"
          x-xsi-type: "productType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "productType_vad"
        allowanceDetailType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            allowanceSummary:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceSummaryType_vad"
            allowanceUnit:
              $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceUnitType_vad"
            restricted:
              type: "boolean"
              description: "Indicates whether there are any restrictions on the use\n\
                \t\t\t\t\t\tof the units (e.g. off-peak, week-ends only, on-net\n\t\
                \t\t\t\t\tonly)."
          required:
          - "allowanceSummary"
          - "allowanceUnit"
          description: "Used to denote a product that gives a user an allowance."
          x-xsi-type: "allowanceDetailType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "allowanceDetailType_vad"
        allowanceSummaryType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            startingBalance:
              type: "number"
              description: "Total initial number of unit provided by the product."
              xml:
                prefix: "vad"
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            allowanceUsed:
              type: "number"
              description: "Total number of units used in the current month."
              xml:
                prefix: "vad"
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            allowanceRemaining:
              type: "number"
              description: "Total number of units available to use."
              xml:
                prefix: "vad"
                namespace: "http://soa.o2.co.uk/viewallowancedata_2"
          required:
          - "startingBalance"
          - "allowanceUsed"
          description: "Provides the total of allowances summary."
          x-xsi-type: "allowanceSummaryType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "allowanceSummaryType_vad"
          x-ibm-discriminator: true
        dataAllowanceSummaryType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          allOf:
          - $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceSummaryType_vad"
          - xml:
              namespace: "http://soa.o2.co.uk/viewallowancedata_2"
              prefix: "vad"
            type: "object"
            properties:
              dataThresholdType:
                type: "string"
                xml:
                  namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                  prefix: "vad"
                description: "The data allowance threshold category. \n\t\t\t\t\t\t\
                  \tExample values are:DomesticM,DomesticD,EuQuota,RoWQuota."
              startDate:
                type: "string"
                format: "date-time"
                xml:
                  namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                  prefix: "vad"
                description: "The allowance start date."
              renewalDate:
                type: "string"
                format: "date"
                xml:
                  namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                  prefix: "vad"
                description: "The allowance renewal date."
              timestamp:
                type: "string"
                format: "date-time"
                xml:
                  namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                  prefix: "vad"
                description: "The date and time in which the allowance retrieved was\
                  \ valid."
          description: "Provides the total of data allowances summary."
          x-xsi-type: "dataAllowanceSummaryType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "dataAllowanceSummaryType_vad"
        dataBundleType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            bundleType:
              type: "string"
            startingAllowance:
              type: "number"
            allowanceUsed:
              type: "number"
            allowanceRemaining:
              type: "number"
            expiryDate:
              type: "string"
              format: "date"
          required:
          - "bundleType"
          - "startingAllowance"
          x-xsi-type: "dataBundleType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "dataBundleType_vad"
        allowanceUnitType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "string"
          enum:
          - "SECOND"
          - "MESSAGE"
          - "KB"
          - "MMS"
          - "SMS"
          description: "The unit of measurement for the allowence."
          x-xsi-type: "allowanceUnitType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "allowanceUnitType_vad"
        allowanceUsageSummaryType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          type: "object"
          properties:
            startingBalance:
              type: "number"
              description: "Total initial number of unit provided by the product."
            allowanceUsed:
              type: "number"
              description: "Total number of units used in the current month."
            allowanceRemaining:
              type: "number"
              description: "Total number of units available to use."
          required:
          - "startingBalance"
          - "allowanceUsed"
          description: "Provides the summary of allowances usage."
          x-xsi-type: "allowanceUsageSummaryType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "allowanceUsageSummaryType_vad"
        fairUsageAllowancesType_vad:
          xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          allOf:
          - $ref: "#/x-ibm-configuration/targets/ViewAllowanceService/definitions/allowanceSummaryType_vad"
          - xml:
              namespace: "http://soa.o2.co.uk/viewallowancedata_2"
              prefix: "vad"
            type: "object"
            properties:
              thresholdType:
                type: "string"
                xml:
                  namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                  prefix: "vad"
                description: "The data allowance threshold category. \n\t\t\t\t\t\t\
                  \tExample values are:DomesticM,DomesticD,EuQuota,RoWQuota."
              startDate:
                type: "string"
                format: "date-time"
                xml:
                  namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                  prefix: "vad"
                description: "The allowance start date."
              renewalDate:
                type: "string"
                format: "date"
                xml:
                  namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                  prefix: "vad"
                description: "The allowance renewal date."
              timestamp:
                type: "string"
                format: "date-time"
                xml:
                  namespace: "http://soa.o2.co.uk/viewallowancedata_2"
                  prefix: "vad"
                description: "The date and time in which the allowance retrieved was\
                  \ valid."
          description: "Provide fair usage allowances summary."
          x-xsi-type: "fairUsageAllowancesType"
          x-xsi-type-xml:
            namespace: "http://soa.o2.co.uk/viewallowancedata_2"
            prefix: "vad"
          x-xsi-type-uniquename: "fairUsageAllowancesType_vad"
paths:
  /{msisdn}/getAllowanceData:
    get:
      responses:
        200:
          description: "200 OK"
          schema:
            $ref: "#/definitions/DataAllowanceResponse"
      parameters:
      - name: "msisdn"
        type: "string"
        required: true
        in: "path"
      - name: "x-authcode"
        type: "string"
        required: true
        in: "header"
definitions:
  AllowanceDetail:
    type: "object"
    properties:
      bundleType:
        type: "string"
      startingAllowanceMessage:
        type: "string"
      expiryDate:
        type: "string"
        format: "date-time"
  AudioDataAllowance:
    type: "object"
    properties:
      startingBalance:
        type: "integer"
        format: "int32"
      allowanceUsed:
        type: "integer"
        format: "int32"
      allowanceRemaining:
        type: "integer"
        format: "int32"
      renewalDate:
        type: "string"
        format: "date-time"
      aboveFairUsagePolicyLimitMessage:
        type: "string"
      aboveFairUsagePolicyLimit:
        type: "boolean"
  DataAllowanceResponse:
    type: "object"
    properties:
      startingBalance:
        type: "integer"
        format: "int32"
      allowanceUsed:
        type: "integer"
        format: "int32"
      allowanceRemaining:
        type: "integer"
        format: "int32"
      renewalDate:
        type: "string"
        format: "date-time"
      chargingType:
        type: "string"
      percentDataUsed:
        type: "number"
        format: "double"
      thresholdPercentage:
        type: "integer"
        format: "int32"
      usageInfoMessage:
        type: "string"
      usageSummaryMessage:
        type: "string"
      usageMessage:
        type: "string"
      footerMessage:
        type: "string"
      audioDataAllowance:
        $ref: "#/definitions/AudioDataAllowance"
      allowanceDetails:
        type: "array"
        items:
          $ref: "#/definitions/AllowanceDetail"
      allowanceFooterMessage:
        type: "string"
tags: []
