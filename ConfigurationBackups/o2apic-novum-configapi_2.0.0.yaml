swagger: "2.0"
info:
  title: o2apic-novum-configapi
  x-ibm-name: o2apic-novum-configapi
  version: 2.0.0
host: $(catalog.host)
schemes:
- https
basePath: /config
produces:
- application/xml
- application/json
consumes:
- application/xml
- application/json
security:
- clientIdHeader: []
securityDefinitions:
  clientIdHeader:
    type: apiKey
    in: header
    name: X-IBM-Client-Id
x-ibm-configuration:
  phase: realized
  testable: true
  enforced: true
  properties: {}
  catalogs: {}
  cors:
    enabled: true
  application-authentication:
    certificate: false
  assembly:
    execute:
    - activity-log:
        title: Log-Payload
        content: payload
        error-content: payload
        version: 1.0.0
    - operation-switch:
        title: operation-switch
        case:
        - operations:
          - verb: get
            path: /validationconfig
          execute:
          - gatewayscript:
              version: 1.0.0
              title: GS-GetValidationConfig
              source: "/* ****************************************************************************************************************
                */\r\n/* ****************************************************************************************************************
                */\r\n/* FileName                         Version    Created By                  Modified
                By               Date           */\r\n/* GetValidationConfig.js           1.0
                \       Dinesh Tomar                                          03-July-2018
                \  */\r\n/*                                                                                                                  */\r\n/*
                ****************************************************************************************************************
                */\r\n/* Purpose: This GW Script file will return all APIs config
                required for input parameters validation                */\r\n/*                                                                                                                  */\r\n/*
                Required params:                                                                                                 */\r\n/*
                ****************************************************************************************************************
                */\r\nvar validationConfig = {\r\n    \"apisConfig\": {\r\n        \"o2apic-authservice\":
                {\r\n            \"/getaccesstoken\": {\r\n                \"requiredPathParams\":
                \"\",\r\n                \"requiredQueryParams\": \"\",\r\n                \"requiredHeaderParams\":
                \"x-authcode\"\r\n            },\r\n            \"/getconsolidatedauth\":
                {\r\n                \"requiredPathParams\": \"\",\r\n                \"requiredQueryParams\":
                \"\",\r\n                \"requiredHeaderParams\": \"msisdn|x-authcode|x-device\"\r\n
                \           },\r\n            \"/getdisambiguationid\": {\r\n                \"requiredPathParams\":
                \"\",\r\n                \"requiredQueryParams\": \"\",\r\n                \"requiredHeaderParams\":
                \"msisdn|x-authcode\"\r\n            }\r\n        },\r\n        \"authapi\":
                {\r\n            \"/v1/device/auth\": {\r\n                \"requiredPathParams\":
                \"\",\r\n                \"requiredQueryParams\": \"user_id|device_id\",\r\n
                \               \"requiredHeaderParams\": \"authorization\"\r\n            },\r\n
                \           \"/v1/token\": {\r\n                \"requiredPathParams\":
                \"\",\r\n                \"requiredQueryParams\": \"\",\r\n                \"requiredHeaderParams\":
                \"x-authcode|authorization\"\r\n            },\r\n            \"/v1/person/CURRENT/asset\":
                {\r\n                \"requiredPathParams\": \"\",\r\n                \"requiredQueryParams\":
                \"\",\r\n                \"requiredHeaderParams\": \"authorization\"\r\n
                \           },\r\n            \"/v1/auth/select\": {\r\n                \"requiredPathParams\":
                \"\",\r\n                \"requiredQueryParams\": \"\",\r\n                \"requiredHeaderParams\":
                \"msisdn|authorization\"\r\n            },\r\n            \"/phone/consumer/CURRENT/paym/bill/billedcharges\":
                {\r\n                \"requiredPathParams\": \"\",\r\n                \"requiredQueryParams\":
                \"\",\r\n                \"requiredHeaderParams\": \"msisdn|x-authcode\"\r\n
                \           },\r\n            \"/phone/consumer/CURRENT/paym/billedcharges/recommendation\":
                {\r\n                \"requiredPathParams\": \"\",\r\n                \"requiredQueryParams\":
                \"\",\r\n                \"requiredHeaderParams\": \"msisdn|x-authcode\"\r\n
                \           },\r\n            \"/phone/consumer/CURRENT/paym/bill/recentcharges\":
                {\r\n                \"requiredPathParams\": \"\",\r\n                \"requiredQueryParams\":
                \"\",\r\n                \"requiredHeaderParams\": \"msisdn|x-authcode\"\r\n
                \           },\r\n            \"/phone/consumer/CURRENT/paym/bill/previousbills\":
                {\r\n                \"requiredPathParams\": \"\",\r\n                \"requiredQueryParams\":
                \"\",\r\n                \"requiredHeaderParams\": \"msisdn|x-authcode\"\r\n
                \           },\r\n            \"/phone/consumer/CURRENT/paym\": {\r\n
                \               \"requiredPathParams\": \"\",\r\n                \"requiredQueryParams\":
                \"\",\r\n                \"requiredHeaderParams\": \"msisdn|x-authcode\"\r\n
                \           },\r\n            \"/phone/consumer/CURRENT/paym/cca/phoneplan\":
                {\r\n                \"requiredPathParams\": \"\",\r\n                \"requiredQueryParams\":
                \"\",\r\n                \"requiredHeaderParams\": \"msisdn|x-authcode\"\r\n
                \           },\r\n            \"/phone/consumer/CURRENT/paym/upgradeoptionsandpromotions\":
                {\r\n                \"requiredPathParams\": \"\",\r\n                \"requiredQueryParams\":
                \"\",\r\n                \"requiredHeaderParams\": \"msisdn|x-authcode\"\r\n
                \           },\r\n            \"/phone/v2/consumer/CURRENT/paym/bill/profile\":
                {\r\n                \"requiredPathParams\": \"\",\r\n                \"requiredQueryParams\":
                \"\",\r\n                \"requiredHeaderParams\": \"msisdn|x-authcode\"\r\n
                \           },\r\n            \"/v1/auth/tac/issue\": {\r\n                \"requiredPathParams\":
                \"\",\r\n                \"requiredQueryParams\": \"\",\r\n                \"requiredHeaderParams\":
                \"msisdn|x-authcode|x-device\"\r\n            }\r\n        },\r\n
                \       \"o2apic-novum-v2verify\": {\"/v2/verify\": {\r\n            \"requiredPathParams\":
                \"\",\r\n            \"requiredQueryParams\": \"\",\r\n            \"requiredHeaderParams\":
                \"x-authcode|x-appversion|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpayboltons\": {\"/{msisdn}/postpay/boltons\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpaytariff\": {\"/{msisdn}/postpay/tariff\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpaycurrentandpendingtariff\":
                {\"/{msisdn}/postpay/currentandpendingtariff\": {\r\n            \"requiredPathParams\":
                \"msisdn\",\r\n            \"requiredQueryParams\": \"\",\r\n            \"requiredHeaderParams\":
                \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n        }},\r\n
                \       \"o2apic-novum-upgradesandpromotions\": {\"/{msisdn}/postpay/upgradesandpromotions\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpaytariffdetails\": {\"/{msisdn}/postpay/tariffdetails\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"tariffname|productlabel\",\r\n            \"requiredHeaderParams\":
                \"x-device|x-user-id|x-client-id|x-correlator\"\r\n        }},\r\n
                \       \"o2apic-novum-postpayallowanceminutes\": {\"/{msisdn}/postpay/allowance/minutes\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpaypreviousbills\": {\"/{msisdn}/postpay/bill/previousbills\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpayallowancemessage\": {\"/{msisdn}/postpay/allowance/messages\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpaybillccaphoneplan\": {\"/{msisdn}/postpay/bill/cca/phoneplan\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpayallowancedata\": {\"/{msisdn}/postpay/allowance/data\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpaybillprofile\": {\"/{msisdn}/postpay/bill/profile\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-userprofile\": {\"/userprofile/v1/users/{UID}\":
                {\r\n            \"requiredPathParams\": \"UID\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpaybilledcharges\": {\"/{msisdn}/postpay/bill/billedcharges\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-postpayrecentcharges\": {\"/{msisdn}/postpay/bill/recentcharges\":
                {\r\n            \"requiredPathParams\": \"msisdn\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }},\r\n        \"o2apic-novum-userconnections\": {\"/user/connections\":
                {\r\n            \"requiredPathParams\": \"\",\r\n            \"requiredQueryParams\":
                \"\",\r\n            \"requiredHeaderParams\": \"x-authcode|x-device|x-user-id|x-client-id|x-correlator\"\r\n
                \       }}\r\n    },\r\n    \"paramsConfig\": {\r\n        \"msisdn\":
                {\r\n            \"dataType\": \"number\",\r\n            \"minLength\":
                \"12\",\r\n            \"maxLength\": \"12\",\r\n            \"validationErrorName\":
                \"InvalidMsisdn\",\r\n            \"validationErrorCode\": \"400\",\r\n
                \           \"validationErrorMessage\": \"Missing or invalid msisdn\"\r\n
                \       },\r\n        \"UID\": {\r\n            \"dataType\": \"number\",\r\n
                \           \"validationErrorName\": \"InvalidUID\",\r\n            \"validationErrorCode\":
                \"400\",\r\n            \"validationErrorMessage\": \"Missing or invalid
                UID\"\r\n        },\r\n        \"tariffname\": {\r\n            \"dataType\":
                \"string\",\r\n            \"validationErrorName\": \"InvalidTariff\",\r\n
                \           \"validationErrorCode\": \"400\",\r\n            \"validationErrorMessage\":
                \"Missing or invalid tariff\"\r\n        },\r\n        \"productlabel\":
                {\r\n            \"dataType\": \"string\",\r\n            \"validationErrorName\":
                \"InvalidProductLabel\",\r\n            \"validationErrorCode\": \"400\",\r\n
                \           \"validationErrorMessage\": \"Missing or invalid product
                label\"\r\n        },\r\n        \"x-authcode\": {\r\n            \"dataType\":
                \"string\",\r\n            \"minLength\": \"1\",\r\n            \"maxLength\":
                \"1000\",\r\n            \"validationErrorName\": \"InvalidAuthCode\",\r\n
                \           \"validationErrorCode\": \"400\",\r\n            \"validationErrorMessage\":
                \"Missing or invalid authcode\"\r\n        },\r\n        \"x-appversion\":
                {\r\n            \"dataType\": \"version\",\r\n            \"validationErrorName\":
                \"InvalidAppVersion\",\r\n            \"validationErrorCode\": \"400\",\r\n
                \           \"validationErrorMessage\": \"Missing or invalid appversion\"\r\n
                \       },\r\n        \"x-device\": {\r\n            \"dataType\":
                \"string\",\r\n            \"allowedValues\": \"iphone|android|windows|tablet\",\r\n
                \           \"validationErrorName\": \"InvalidDeviceType\",\r\n            \"validationErrorCode\":
                \"400\",\r\n            \"validationErrorMessage\": \"Missing or invalid
                device type\"\r\n        },\r\n        \"device_id\": {\r\n            \"dataType\":
                \"string\",\r\n            \"allowedValues\": \"iphone|android|windows|tablet\",\r\n
                \           \"validationErrorName\": \"InvalidDeviceType\",\r\n            \"validationErrorCode\":
                \"400\",\r\n            \"validationErrorMessage\": \"Missing or invalid
                device type\"\r\n        },\r\n        \"x-user-id\": {\r\n            \"dataType\":
                \"string\",\r\n            \"validationErrorName\": \"InvalidUserId\",\r\n
                \           \"validationErrorCode\": \"400\",\r\n            \"validationErrorMessage\":
                \"Missing or invalid user id\"\r\n        },\r\n        \"user_id\":
                {\r\n            \"dataType\": \"string\",\r\n            \"validationErrorName\":
                \"InvalidUserId\",\r\n            \"validationErrorCode\": \"400\",\r\n
                \           \"validationErrorMessage\": \"Missing or invalid user
                id\"\r\n        },\r\n        \"x-client-id\": {\r\n            \"dataType\":
                \"string\",\r\n            \"validationErrorName\": \"InvalidClientId\",\r\n
                \           \"validationErrorCode\": \"400\",\r\n            \"validationErrorMessage\":
                \"Missing or invalid client id\"\r\n        },\r\n        \"x-correlator\":
                {\r\n            \"dataType\": \"string\",\r\n            \"validationErrorName\":
                \"InvalidCorrelator\",\r\n            \"validationErrorCode\": \"400\",\r\n
                \           \"validationErrorMessage\": \"Missing or invalid correlator\"\r\n
                \       },\r\n        \"authorization\": {\r\n            \"dataType\":
                \"string\",\r\n            \"validationErrorName\": \"InvalidAuthorization\",\r\n
                \           \"validationErrorCode\": \"400\",\r\n            \"validationErrorMessage\":
                \"Missing or invalid authorization\"\r\n        }\r\n    }\r\n};\r\n\r\napim.setvariable('message.body',
                validationConfig);"
              description: 'This GW Script file will return all APIs config required
                for input parameters validation            '
        - operations:
          - verb: get
            path: /properties
          execute:
          - gatewayscript:
              title: GS-GetProperties
              version: 1.0.0
              description: Returns all properties to be used in different APIs
              source: |-
                /* **************************************************************************************************************** */
                /* **************************************************************************************************************** */
                /* FileName                         Version    Created By                  Modified By               Date           */
                /* GetProperties.js                 1.0        Dinesh Tomar                                          14-June-2018   */
                /*                                                                                                                  */
                /* **************************************************************************************************************** */
                /* Purpose: This GW Script file will return all properties to be used in different APIs                             */
                /*                                                                                                                  */
                /* Required params:                                                                                                 */
                /* **************************************************************************************************************** */
                var properties = {
                    "upgradelegacy": {
                        "none": {
                            "in_treatment": {
                                "long": "You\u0027ve got an unpaid bill. You\u0027ll be able to sort it out in My O2. Then pop back here to upgrade.",
                                "short": "You\u0027ve got an unpaid bill. You\u0027ll be able to sort it out in My O2. Then pop back here to upgrade."
                            },
                            "subheader": "Upgrade on us today",
                            "button": "Take this offer and upgrade",
                            "alert": "Upgrade on us today"
                        },
                        "tradein": {
                            "not_yet_eligible": {"short": "{{timeUntilUpgradeOrPromotion.duration}} {{timeUntilUpgradeOrPromotion.timeUnit}} until you can redeem your Yearly Upgrade, on us"},
                            "eligible": {"short": "Redeem your Yearly Upgrade on us, today"}
                        },
                        "buyout": {
                            "not_yet_eligible": {"short": "{{timeUntilUpgradeOrPromotion.duration}} {{timeUntilUpgradeOrPromotion.timeUnit}} until you can upgrade on us"},
                            "eligible": {"short": "Upgrade on us today"}
                        }
                    },
                    "upgrade": {
                        "not_yet_eligible": {
                            "short": "Want a shiny new phone? Upgrade now for #$cost"
                        },
                        "eligible": {
                            "short": "Upgrade on us today."
                        },
                        "none": {
                            "free_in_future": {
                                "long": "You\u0027ll be able to upgrade on {{upgrade.freeUpgradeDate}}.",
                                "short": "You\u0027ll be able to upgrade on {{upgrade.freeUpgradeDate}}."
                            },
                            "default": {
                                "long": "Oops, something\u0027s not working. Pop back later and we should be able to find your upgrade date.",
                                "short": "Oops, something\u0027s not working. Pop back later and we should be able to find your upgrade date."
                            },
                            "entitlement_service_unavailable": {
                                "long": "Oops, something\u0027s not working. Pop back later and try again.",
                                "short": "Oops, something\u0027s not working. Pop back later and try again."
                            },
                            "in_treatment": {
                                "long": "You\u0027ve got an unpaid bill. You\u0027ll be able to sort it out in [My O2]({{links.payment}}). Then pop back here to upgrade.",
                                "short": "You\u0027ve got an unpaid bill. You\u0027ll be able to sort it out in My O2. Then pop back here to upgrade."
                            },
                            "mbb": {
                                "long": "Want to chat about your upgrade options? Call us on 202 from your O2 mobile, or 0344 809 0202.",
                                "short": "Want to chat about your upgrade options? Call us on 202 from your O2 mobile, or 0344 809 0202."
                            },
                            "non_supporting_tariff": {
                                "long": "Want to chat about your upgrade options? Call us on 202 from your O2 mobile, or 0344 809 0202.",
                                "short": "Want to chat about your upgrade options? Call us on 202 from your O2 mobile, or 0344 809 0202."
                            },
                            "order_in_progress": {
                                "long": "We\u0027re sorting out your order for you. Once we\u0027re done, we\u0027ll update your tariff details and tell you your next upgrade date.",
                                "short": "We\u0027re sorting out your order for you. Once we\u0027re done, we\u0027ll update your tariff details and tell you your next upgrade date."
                            },
                            "service_barred": {
                                "long": "You can\u0027t upgrade right now. Give us a call on 0344 809 0202 to talk about it.",
                                "short": "You can\u0027t upgrade right now. Give us a call on 0344 809 0202 to talk about it."
                            },
                            "sim_swapped": {
                                "long": "For security reasons, you can\u0027t upgrade for 24 hours after swapping your sim. Pop back then and try again.",
                                "short": "For security reasons, you can\u0027t upgrade for 24 hours after swapping your sim. Pop back then and try again."
                            },
                            "header": {
                                "one": "Upgrade",
                                "two": ""
                            },
                            "cca": {"subheader": "Get a shiny new phone"},
                            "subheader": "Get a shiny new phone"
                        },
                        "paid": {
                            "header": {
                                "one": "Upgrade today",
                                "two": ""
                            },
                            "cca": {
                                "header": {
                                    "one": "Ready for a new phone?",
                                    "two": ""
                                 },
                                "subheader": "",
                                "button": "See upgrade options"
                            },
                            "cca_staff": {
                                "header": {
                                    "one": "Ready for a new phone?",
                                    "two": ""
                                 },
                                "subheader": "",
                                "alert": "Ready for a new phone?"
                            },
                            "s2r": {
                                "header": {
                                    "one": "Good news",
                                    "two": ""
                                 },
                                "subheader": "You can upgrade today",
                                "button": "View exclusive offer"
                            },
                            "subheader": "and pay 25% less",
                            "button": "See upgrade options",
                            "alert": "Upgrade today and pay 25% less"
                        },
                        "free": {
                            "header": {
                                "one": "Good news",
                                "two": ""
                            },
                            "cca": {
                                "header": {
                                    "one": "Good news",
                                    "two": ""
                                },
                                "subheader": "You can upgrade today",
                                "button": "See upgrade options"
                            },
                            "cca_staff": {
                                "header": {
                                    "one": "Good news",
                                    "two": ""
                                },
                                "subheader": "You can upgrade today",
                                "alert": "Good news. You can upgrade today"
                            },
                            "subheader": "You can upgrade today",
                            "button": "See upgrade options",
                            "alert": "Good news. You can upgrade today"
                        },
                        "o2": {
                            "free": {
                                "cca": {
                                    "long": "Choose a brand new phone or tablet.",
                                    "short": "Good news. You can upgrade today"
                                },
                                "cca_staff": {
                                    "long": "Choose a brand new phone or tablet. Then call 202 to upgrade.",
                                    "short": "Good news. You can upgrade today"
                                },
                                "device_leasing": {
                                    "long": "Choose a brand new phone or tablet. Then call 202 to upgrade.",
                                    "short": "Good news. You can upgrade today"
                                },
                                "simo": {
                                    "long": "Choose a new sim only deal, or check out our range of phones and tablets.",
                                    "short": "Good news. You can upgrade today"
                                },
                                "simo_staff": {
                                    "long": "Choose a new sim only deal, or check out our range of phones and tablets. Then call 202 to upgrade.",
                                    "short": "Good news. You can upgrade today"
                                },
                                "simoToSimo": {
                                    "long": "Need more data? You\u0027re ready to upgrade to a new sim only tariff.|If you fancy a new device, you\u0027ll need to wait until you\u0027ve been on your contract for three months. Then you can pick a shiny new device, and recycle your old one to get money off your bill.|Full details on our upgrade page.",
                                    "header": {
                                        "one": "Upgrade to a new tariff",
                                        "two": ""
                                    }
                                }
                            },
                            "paid": {
                                "cca": {
                                    "long": "Pay off your Device Plan for {{upgrade.cost}}, and upgrade today. Or carry on with your current payments and upgrade from {{upgrade.freeUpgradeDate}}. Terms apply.",
                                    "short": "Ready for a new phone?",
                                    "s2r": {
                                        "long": "Your contract\u0027s not up till {{upgrade.freeUpgradeDate}}, but upgrade today and we\u0027ll pay off what\u0027s left of your current contract for you.|Be quick, ends 29th August. Terms apply.",
                                        "short": "Good news. You can upgrade today"
                                    }
                                },
                                "cca_staff": {
                                    "long": "Pay off your Device Plan for #$upgradeCost#, and upgrade today. Or carry on with your current payments and upgrade from {{upgrade.freeUpgradeDate}}. Just call us on 202. Terms apply.",
                                    "short": "Ready for a new phone?",
                                    "s2r": {
                                        "long": "Your contract\u0027s not up till {{upgrade.freeUpgradeDate}}, but upgrade today and we\u0027ll pay off what\u0027s left of your current contract for you.|Call 202 to upgrade. Be quick, ends 29th August. Terms apply.",
                                        "short": "Good news. You can upgrade today"
                                    }
                                },
                                "device_leasing": {
                                    "long": "If you upgrade today, you can cut the cost of paying off your current contract by 25%. Or carry on with your current payments and upgrade from {{upgrade.freeUpgradeDate}} . Just call us on 202. Terms apply.",
                                    "short": "Upgrade today and pay 25% less"
                                },
                                "simo": {
                                    "long": "If you upgrade today, you can cut the cost of paying off your current airtime contract by 25%. Or carry on with your current payments and upgrade from {{upgrade.freeUpgradeDate}} .Terms apply.",
                                    "short": "Upgrade today and pay 25% less",
                                    "s2r": {
                                        "long": "Your contract\u0027s not up till {{upgrade.freeUpgradeDate}}, but upgrade today and we\u0027ll pay off what\u0027s left of your current contract for you.|Be quick, ends 29th August. Terms apply.",
                                        "short": "Good news. You can upgrade today"
                                    }
                                },
                                "simo_staff": {
                                    "long": "If you upgrade today, you can cut the cost of paying off your current airtime contract by 25%. Or carry on with your current payments and upgrade from {{upgrade.freeUpgradeDate}}. Just call us on 202. Terms apply.",
                                    "short": "Upgrade today and pay 25% less",
                                    "s2r": {
                                        "long": "Your contract\u0027s not up till {{upgrade.freeUpgradeDate}}, but upgrade today and we\u0027ll pay off what\u0027s left of your current contract for you.|Call 202 to upgrade. Be quick, ends 29th August. Terms apply.",
                                        "short": "Good news. You can upgrade today"
                                    }
                                }
                            }
                        },
                        "non_o2": {
                            "free": {
                                "short": "See your upgrade options",
                                "long": "Choose a brand new phone or tablet.",
                                "header": {
                                    "one": "See your upgrade options",
                                    "two": ""
                                },
                                "subheader": "",
                                "s2r": {
                                    "long": "Your contract\u0027s not up till {{upgrade.freeUpgradeDate}}, but upgrade today and we\u0027ll pay off what\u0027s left of your current contract for you.|Be quick, ends 29th August. Terms apply.",
                                    "short": "See your upgrade options."
                                }
                            },
                            "paid": {
                                "short": "See your upgrade options",
                                "long": "If you upgrade today, you can cut the cost of paying off your current contract by 25%. Or carry on with your current payments and upgrade from {{upgrade.freeUpgradeDate}}. Terms apply.",
                                "s2r": {
                                    "long": "Your contract\u0027s not up till {{upgrade.freeUpgradeDate}}, but upgrade today and we\u0027ll pay off what\u0027s left of your current contract for you.|Be quick, ends 29th August. Terms apply.",
                                    "short": "See your upgrade options."
                                },
                                "header": {
                                    "one": "See your upgrade options",
                                    "two": ""
                                },
                                "subheader": "",
                                "none": {"short": "See your upgrade options."}
                            }
                        },
                        "buyout": {
                            "not_yet_eligible": {"short": "{{timeUntilUpgradeOrPromotion.duration}} {{timeUntilUpgradeOrPromotion.timeUnit}} until you can upgrade on us"},
                            "eligible": {"short": "Upgrade on us today"}
                        },
                        "tradein": {
                            "not_yet_eligible": {"short": "{{timeUntilUpgradeOrPromotion.duration}} {{timeUntilUpgradeOrPromotion.timeUnit}} until you can redeem your Yearly Upgrade, on us"},
                            "eligible": {"short": "Redeem your Yearly Upgrade on us, today"}
                        }
                    },
                    "promotion": {
                        "tradein": {
                            "not_yet_eligible": {
                                "long": "From {{upgrade.freeUpgradeDate}} just hand in your current phone, and we\u0027ll pay off the rest of your Device Plan, so you can upgrade to a new phone on O2 Refresh.|Or, pay off your Device Plan for #$upgradeCost# now, and upgrade today. Terms apply.",
                                "header": {
                                    "one": "#$duration#",
                                    "two": "#$timeUnit#"
                                },
                                "subheader": "until you can redeem your Yearly Upgrade, on us.",
                                "alert": "{{timeUntilUpgradeOrPromotion.duration}} {{timeUntilUpgradeOrPromotion.timeUnit}} until you can redeem your Yearly Upgrade, on us",
                                "instore": "When it\u0027s time to take this offer, simply pop into your nearest O2 store and trade in your old device.",
                                "button": "See upgrade options"
                            },
                            "eligible": {
                                "long": "You can upgrade to a new phone on O2 Refresh.|Just choose a new phone and plan, hand in your current phone and we\u0027ll pay off the rest of your Device Plan. Terms apply.",
                                "header": {
                                    "one": "Redeem your Yearly Upgrade on us, today",
                                    "two": ""
                                },
                                "subheader": "Upgrade on us today",
                                "button": "Take this offer and upgrade",
                                "alert": "Redeem your Yearly Upgrade on us, today",
                                "instore": "Want to take this offer? Simply pop into your nearest O2 store and trade in your old device."
                            }
                        },
                        "buyout": {
                            "not_yet_eligible": {
                                "long": "From {{upgrade.freeUpgradeDate}} you can upgrade to a new device on O2 Refresh and we\u0027ll pay off the rest of your Device Plan.|Get a new phone and keep hold of your old one.|Or, pay off your Device Plan for #$upgradeCost# now, and upgrade today. Terms apply.",
                                "header": {
                                    "one": "#$duration#",
                                    "two": "#$timeUnit#"
                                },
                                "subheader": "until you can upgrade on us",
                                "alert": "{{timeUntilUpgradeOrPromotion.duration}} {{timeUntilUpgradeOrPromotion.timeUnit}} until you can upgrade on us",
                                "instore": "When it\u0027s time to take this offer, simply pop into your nearest O2 store and trade in your old device.",
                                "button": "See upgrade options"
                            },
                            "eligible": {
                                "long": "You can upgrade to a new phone on O2 Refresh.|Just choose a new phone and plan, and we\u0027ll pay off the rest of your Device Plan.|Get a new phone and keep your old one. Terms apply.",
                                "header": {
                                    "one": "Upgrade on us today",
                                    "two": ""
                                },
                                "subheader": "Upgrade on us today",
                                "button": "Take this offer and upgrade",
                                "alert": "Upgrade on us today",
                                "instore": "Want to take this offer? Simply pop into your nearest O2 store and trade in your old device."
                            }
                        }
                    },
                    "phoneplan": {
                        "not_paid": {"message": "You have paid #$paidToDate# of #$totalCredit# of your Device Plan."},
                        "paid": {"message": "You have paid off your Device Plan."}
                    },
                    "label": {"storelocator": "Find your nearest store"},
                    "storelocator": {"url": "http://www.o2.co.uk/storelocator"},
                    "learnmore": {"url": "https://www.o2.co.uk/shop/international/using-phone-abroad/"},
                    "myo2": {"broadcast": {
                        "title": "Upgrade available",
                        "message": "Latest version of the My O2 app is now available. Text MYO2APP to 2020, to download for free.",
                        "linkLabel": "Go to App Store",
                        "linkUrl": "http://o2.co.uk/",
                        "id": 20170627
                    }},
                    "assetservice": {
                        "assets": {"uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/person1/v1/person/CURRENT/asset?asset_types=PAYM,PAYG,PAYMMBB,O2WIFI,O2DRIVE,WALLET"},
                        "asset": {
                            "type": {"uri": "https://api0.ref.o2.co.uk/person/v1/person/CURRENT/asset/%s"},
                            "push": {"generate": {"uri": "https://api0.ref.o2.co.uk/person/v1/person/CURRENT/generator/asset/PUSHNOTIFICATION"}}
                        }
                    },
                    "authserver": {
                        "client_id": "shop.1",
                        "client_secret": "shopSecret",
                        "grant_type": "authorization_code",
                        "oauth": {"grant_type": "authorization_code"},
                        "readTimeoutMillis": "30000",
                        "scope": [
                            "openid",
                            "profile",
                            "phone",
                            "email"
                        ],
                        "generateAuthCode": {"uri": "https://api0.ref.o2.co.uk/auth/implicitauth"},
                        "generateAccessToken": {
                            "apicURI": "/authservice/getaccesstoken",
                            "uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/authserver/v1/token"
                        },
                        "getUserInfo": {
                            "uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/authserver/userinfo",
                            "queryParam": "access_token"
                        },
                        "generateDisambiguationId": {
                            "apicURI": "/authservice/getdisambiguationid",
                            "uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/authserver/v1/auth/select"
                        },
                        "generateTransferAuthCode": {
                            "apicURI": "/authservice/getconsolidatedauth",
                            "uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/authserver/v1/auth/tac/issue"
                        }
                    },
                    "sso": {
                        "endpoint": {"paybill": {
                            "sendto": "https://billing.ref.o2.co.uk/bill?noheader=true&routeTo=pay/bill&disambiguation_id=%s&cm_mmc=myo2app-_-#deviceType#-_-#clientId#-_-bills-_-makeapayment",
                            "failure": "https://mymobile.ref.o2.co.uk/error/page/500?noheader=true&cm_mmc=myo2app-_-#deviceType#-_-#clientId#-_-bills-_-makeapayment"
                        }},
                        "credhandler_redemption_url": "https://identity.ref.o2.co.uk/redeem/tac?transfer_auth_code=#AUTH_CODE#&sendTo=#SEND_TO#&failureUrl=#FAILURE_URL#"
                    },
                    "phoneservice": {
                        "billedcharges": {
                            "uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/phoneqa/consumer/CURRENT/paym/bill/billedcharges",
                            "recommendation": {"uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/phoneqa/consumer/CURRENT/paym/billedcharges/recommendation"}
                        },
                        "recentcharges": {"uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/phoneqa/consumer/CURRENT/paym/bill/recentcharges"},
                        "previousbills": {"uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/phoneqa/consumer/CURRENT/paym/bill/previousbills"},
                        "msisdndetails": {"uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/phoneqa/consumer/CURRENT/paym"},
                        "phoneplan": {"uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/phoneqa/consumer/CURRENT/paym/cca/phoneplan"},
                        "upgradesandpromotions": {"uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/phoneqa/consumer/CURRENT/paym/upgradeoptionsandpromotions"},
                        "billprofile": {"uri": "http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424/phoneqa/v2/consumer/CURRENT/paym/bill/profile"}
                    },
                    "soa": {
                        "getCurrentAndPendingBoltons": {
                            "uri": "http://lbtest0myo2apptiertomcatsims.myo2r53.co.uk/middleware-service-simulator/services/ManagePostpayBoltons_2_0",
                            "uriXXX": ""
                        },
                        "getContract": {
                            "uri": "http://lbtest0myo2apptiertomcatsims.myo2r53.co.uk/middleware-service-simulator/services/ManagePostpayTariff_2_0",
                            "uriXXX": ""
                        },
                        "getContractRevisions": {
                            "uri": "http://lbtest0myo2apptiertomcatsims.myo2r53.co.uk/middleware-service-simulator/services/ManagePostpayTariff_2_0",
                            "uriXXX": ""
                        },
                        "getTariffProduct": {
                            "uri": "http://lbtest0myo2apptiertomcatsims.myo2r53.co.uk/middleware-service-simulator/ManagePostpayDetails/proxyservices/PostpayDetailsPS",
                            "uriXXX": ""
                        },
                        "getViewAllowance_2_0": {
                            "uri": "http://lbtest0myo2apptiertomcatsims.myo2r53.co.uk/middleware-service-simulator/services/ViewAllowance_2_0",
                            "uriXXX": ""
                        }
                    },
                    "tariff": {
                        "devicePlan": {"msg": "This is the cost of your Airtime Plan only. There is a separate monthly payment of £%s for your Device Plan."},
                        "details": {"link": {"uri": {"pattern": "/#msisdn#/postpay/tariffdetails?tariffname=#tariffname#&productlabel=#productlabel#"}}}
                    },
                    "pendingTariff": {"devicePlan": {"msg": "You\u0027ll continue to pay £%s a month for your Device Plan."}},
                    "offer": {"landingpage": {
                        "login": {"frequency": 3},
                        "timeduration": {"frequency": 30}
                    }},
                    "productStatus": {
                        "0": "Active",
                        "1": "Pending for Addition",
                        "2": "Pending for removal",
                        "3": "Pending for Modification"
                    },
                    "broadcast": {"message": {
                        "android": {"versions": "3.1.0,4.0,4.1,5.0,5.1.0,5.2.0,6.0.0,6.0.1,7.0.0,7.1.0,8.7.1-debug"},
                        "iphone": {"versions": "3.1.0,4.0,4.1,5.0,5.1.0,5.2.0,6.0.0,7.0.0,7.1.0"},
                        "windows": {"versions": "3.1.0,4.0,4.1,5.0,5.1.0,5.2.0,6.0.0,7.0.0,7.1.0"}
                    }},
                    "msg": {
                        "bolton": {
                            "fee": {
                                "zero": "free",
                                "monthly": "per month",
                                "oneoff": "one-off"
                            },
                            "postpay": {"header": "These Bolt Ons are your value-added extras, enabling you to save money on the standard rates for calls, messages, and a whole lot more."},
                            "prepay": {
                                "header": {
                                    "default": "You have %d Bolt Ons.",
                                    "zero": "You don\u0027t have any Bolt Ons.",
                                    "one": "You have one Bolt On."
                                },
                                "pendingrecharge": "Top up to use this Bolt On",
                                "pendingdeletion": "To be removed%s",
                                "pendingaddition": "Due to start%s"
                            }
                        },
                        "tariffdetails": {"footer": "Charges are per minute unless noted and they include VAT."},
                        "recentcharges": {"footer": "UK data will be updated within 30 minutes. All UK calls and messages can take up to 12 hours, international calls and data may take longer. VAT not included."},
                        "allowance": {"footer": "UK data use will be updated within 30 minutes. Data used in our Europe Zone may take up to 24 hours. Minutes and texts in the UK and our Europe Zone usually update within 24 hours but international calls may take longer."},
                        "dataallowance": {
                            "footer": "All UK data will be updated within 30 minutes.",
                            "default": {"info": "No usage allowance details found"},
                            "CONS_DATA_CAPPED": {
                                "info": "UK data use will be updated within 30 minutes. Data used in our Europe Zone may take up to 24 hours. Minutes and texts in the UK and our Europe Zone usually update within 24 hours but international calls may take longer.",
                                "warning": "You\u0027ve nearly used up all your data for this month and it won\u0027t re-set until your next bill date. If you need more data before then, you can add a data Bolt On now by selecting the option below or you can save your data by using wifi.",
                                "over": "You\u0027ve used all your data for this month and it won\u0027t re-set until your next bill date. You can add a data Bolt On now by selecting the option below or you can use wifi."
                            },
                            "CONS_WEB_DAILY_50": {
                                "info": "UK data use will be updated within 30 minutes. Data used in our Europe Zone may take up to 24 hours. Minutes and texts in the UK and our Europe Zone usually update within 24 hours but international calls may take longer.",
                                "summary": "We\u0027ll charge you for any data you use, but never more than £1.00 a day.",
                                "warning": "You\u0027ve almost used all your data allowance. Once it\u0027s all used up, doing things that use data (like browsing the web) will be slower. And we\u0027ll charge you for any extra data you use. But never more than £1.00 a day.",
                                "over": "We\u0027ll charge you for any data you use. But never more than £1.00 a day. You\u0027ve used all your data allowance for today. That means doing things that use data (like browsing the web) will be slower until midnight."
                            },
                            "CONS_WEB_DAILY_100": {
                                "info": "UK data use will be updated within 30 minutes. Data used in our Europe Zone may take up to 24 hours. Minutes and texts in the UK and our Europe Zone usually update within 24 hours but international calls may take longer.",
                                "summary": "We\u0027ll charge you for any data you use, but never more than £1.02 a day.",
                                "warning": "You\u0027ve almost used all your data allowance. Once it\u0027s all used up, doing things that use data (like browsing the web) will be slower. And we\u0027ll charge you for any extra data you use. But never more than £1.02 a day.",
                                "over": "We\u0027ll charge you for any data you use. But never more than £1.02 a day. You\u0027ve used all your data allowance for today. That means doing things that use data (like browsing the web) will be slower until midnight."
                            },
                            "CONS_DATA_UNLIMITED": {"info": "UK data use will be updated within 30 minutes. Data used in our Europe Zone may take up to 24 hours. Minutes and texts in the UK and our Europe Zone usually update within 24 hours but international calls may take longer."},
                            "CONS_DATA_UNLIMITED_WITH_FAIR_USE": {"info": "UK data use will be updated within 30 minutes. Data used in our Europe Zone may take up to 24 hours. Minutes and texts in the UK and our Europe Zone usually update within 24 hours but international calls may take longer."},
                            "CONS_DATA_OVERAGE_WITH_BUNDLE": {"info": "UK data use will be updated within 30 minutes. Data used in our Europe Zone may take up to 24 hours. Minutes and texts in the UK and our Europe Zone usually update within 24 hours but international calls may take longer."},
                            "CONS_DATA_UNLIMITED_AND_TETHERING": {"info": "UK data use will be updated within 30 minutes. Data used in our Europe Zone may take up to 24 hours. Minutes and texts in the UK and our Europe Zone usually update within 24 hours but international calls may take longer."},
                            "alwayson": {
                                "warning": "You\u0027ve nearly used up your data allowance this month. Once it\u0027s used up, you\u0027ll still be able to use data but the speed will be slower than usual. It\u0027ll go back to full speed automatically with your next month\u0027s allowance. If you need full speed in the meantime, you can buy a data Bolt On.",
                                "footer": "You\u0027ve used up your data allowance this month. You can still use data but the speed will be slower than usual. It\u0027ll go back to full speed automatically with your next month\u0027s allowance. If you need full speed in the meantime, you can buy a data Bolt On.",
                                "over": "You\u0027ve used up your data allowance this month. You can still use data but the speed will be slower than usual. It\u0027ll go back to full speed automatically with your next month\u0027s allowance. If you need full speed in the meantime, you can buy a data Bolt On."
                            },
                            "breakdown": {
                                "core": "%s Data allowance",
                                "recurringtopup": "%s Extra Data",
                                "rollovertopup": "%s Data Bolt On",
                                "rolledovertopup": "%s Data Bolt On(s)"
                            }
                        },
                        "textallowance": {"unrestricted": "* You can also use this to send texts when abroad and picture messages. If you send 1, we\u0027ll take 4 texts from your allowance."},
                        "account": {"footer": "All UK messages will be updated within 12 hours."},
                        "minutesallowance": {"usage": {"info": {"message": ""}}},
                        "voice": {
                            "analysis": {"no": {"chargeable": {"calls": "You have no chargeable calls!"}}},
                            "account": {"footer": "All UK calls will be updated within 12 hours."}
                        },
                        "pending": {"recharge": "You need to top up to get your next monthly allowance."},
                        "prepay": {"tariff": {"info": "Charges for minutes, texts and data outside your tariff and Bolt On allowances."}}
                    },
                    "iphone": {
                        "recentCharges": {"showUsageDetails": "true"},
                        "billedCharges": {"showUsageDetails": "true"}
                    },
                    "android": {
                        "recentCharges": {"showUsageDetails": "true"},
                        "billedCharges": {"showUsageDetails": "true"}
                    },
                    "feature": {"dataallowance": {"breakdown": "true"}},
                    "defaultLPFCharge": "3.5",
                    "recommendation": {
                        "homepage": {"message": "View your bill to see how we can save you money. [Read more.]"},
                        "header": "You could save money by adding a Bolt On or changing your tariff. Read more.",
                        "TARIFF": {
                            "type": "TARIFF",
                            "action": "CHANGE_TARIFF",
                            "linkText": "Change tariff",
                            "message": "Going over your allowance? Save money by upgrading your tariff."
                        },
                        "O2_TRAVEL": {
                            "type": "O2_TRAVEL",
                            "action": "ADD_BOLTONS",
                            "linkText": "Add Bolt On",
                            "message": "Spending time abroad? Save money by adding a travel Bolt On."
                        },
                        "PICTURE_MESSAGES": {
                            "type": "PICTURE_MESSAGES",
                            "action": "ADD_BOLTONS",
                            "linkText": "Add Bolt On",
                            "message": "Sending lots of picture messages? Save money by adding an MMS Bolt On."
                        },
                        "INTERNATIONAL_FAVOURITES": {
                            "type": "INTERNATIONAL_FAVOURITES",
                            "action": "ADD_BOLTONS",
                            "linkText": "Add Bolt On",
                            "message": "Calling friends and family abroad? Save money by adding an international Bolt On."
                        },
                        "MULTIPLE_BOLTONS": {
                            "type": "MULTIPLE_BOLTONS",
                            "action": "ADD_BOLTONS",
                            "linkText": "Add Bolt On",
                            "message": "Sending lots of picture messages? Going abroad? Or got friends and family in another country? We can help you save money, with our range of Bolt Ons."
                        }
                    },
                    "thirdPartyUpgradeAcquisitionPartners": "CPW",
                    "promoBannerNotificationDuration": 1,
                    "upgradeBannerNotificationDuration": 6,
                    "redirectTradeinCustomersToStore": "false",
                    "coreDataBoltOnFamilies": "COREBLACKBERRY|CORESMART|COREIPHONE|COREMBB|BLACKBERRY|SMARTPHONE|IPHONE|BLACKBERRY TETHERING|SMARTPHONE TETHERING|IPHONE TETHERING|COREIMSSMART|COREIMSIPHONE",
                    "nonRemovableBoltons": "family subscription|family discount|bar|billing otion|insurance|supplementary service|data roaming",
                    "oneOffBolton": "ONEOFFTOPUP",
                    "tugoBoltonId": "9755",
                    "o2TravelBoltonId": "9751|9752|9753",
                    "boltonsToBeExcluded": "9225|9226|9251|9252|9253|8382",
                    "internationalCallerStaffBoltonId": "12870",
                    "intldealseekerBoltonIds": "12678|12867|12868|12869|12870",
                    "intldealseekerBoltonUrl": "https://www.o2.co.uk/shop/international/the-international-bolt-on",
                    "dataallowance": {"threshold": "80"},
                    "minutesallowance": {"threshold": "80"},
                    "messagesallowance": {"threshold": "80"},
                    "audioallowance": {
                        "abovefuplimit": "You\u0027ve used all your music streaming data. Music streaming will now come from your main data allowance.",
                        "disclaimermessage": "includes UK data for music streaming"
                    }
                };

                apim.setvariable('message.body', properties);
        - operations:
          - verb: get
            path: /errorconfig
          execute:
          - gatewayscript:
              title: GS-GetErrorConfig
              version: 1.0.0
              description: Returns all error configs to be used in error handling
              source: "/* ***********************************************************************************************************************
                */\r\n/* ***********************************************************************************************************************
                */\r\n/* FileName                                Version    Created
                By                  Modified By               Date           */\r\n/*
                GetErrorConfig.js                       1.0        Dinesh Tomar                                          14-June-2018
                \  */\r\n/*                                                                                                                         */\r\n/*
                ***********************************************************************************************************************
                */\r\n/* Purpose: This GW Script file will return all error configs
                to be used in error handling                                 */\r\n/*
                \                                                                                                                        */\r\n/*
                Required params:                                                                                                        */\r\n/*
                ***********************************************************************************************************************
                */\r\nvar errorConfig = { \"errorConfig\": {\r\n        \"about\":
                {\r\n            \"fileName\": \"\",\r\n            \"versions\":
                { \"v0.1\": {\r\n                    \"modifiedBy\": \"Cognizant Team\",\r\n
                \                   \"date\": \"07-May-2018\",\r\n                    \"changeDesciption\":
                \"First draft\"\r\n                }\r\n            }\r\n        },\r\n
                \       \"errorTypes\": {\r\n            \"InvalidMsisdn\": {\r\n
                \               \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Missing
                or invalid msisdn\"\r\n                }\r\n            },\r\n            \"InvalidUID\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Missing
                or invalid UID\"\r\n                }\r\n            },\r\n            \"InvalidAuthCode\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Missing
                or invalid auth code\"\r\n                }\r\n            },\r\n
                \           \"InvalidDeviceType\": {\r\n                \"statusCode\":
                \"400\",\r\n                \"reasonPhrase\": \"APIC: Invalid request\",\r\n
                \               \"errorMessage\": {\r\n                    \"httpCode\":
                \"400\",\r\n                    \"httpMessage\": \"Invalid request\",\r\n
                \                   \"moreInformation\": \"Missing or invalid device
                type\"\r\n                }\r\n            },\r\n            \"InvalidAppVersion\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Missing
                or invalid app version\"\r\n                }\r\n            },\r\n
                \           \"InvalidTariff\": {\r\n                \"statusCode\":
                \"400\",\r\n                \"reasonPhrase\": \"APIC: Invalid request\",\r\n
                \               \"errorMessage\": {\r\n                    \"httpCode\":
                \"400\",\r\n                    \"httpMessage\": \"Invalid request\",\r\n
                \                   \"moreInformation\": \"Missing or invalid tariff\"\r\n
                \               }\r\n            },\r\n            \"InvalidProductLabel\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Missing
                or invalid product\"\r\n                }\r\n            },\r\n            \"InvalidUserId\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Missing
                or invalid user id\"\r\n                }\r\n            },\r\n            \"InvalidCorrelator\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Missing
                or invalid correlator\"\r\n                }\r\n            },\r\n
                \           \"InvalidClientId\": {\r\n                \"statusCode\":
                \"400\",\r\n                \"reasonPhrase\": \"APIC: Invalid request\",\r\n
                \               \"errorMessage\": {\r\n                    \"httpCode\":
                \"400\",\r\n                    \"httpMessage\": \"Invalid request\",\r\n
                \                   \"moreInformation\": \"Missing or invalid client
                id\"\r\n                }\r\n            },\r\n            \"InvalidClientSecret\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Missing
                or invalid client secret\"\r\n                }\r\n            },\r\n
                \           \"InvalidIPAddress\": {\r\n                \"statusCode\":
                \"400\",\r\n                \"reasonPhrase\": \"APIC: Invalid request\",\r\n
                \               \"errorMessage\": {\r\n                    \"httpCode\":
                \"400\",\r\n                    \"httpMessage\": \"Invalid request\",\r\n
                \                   \"moreInformation\": \"IP address not provisioned\"\r\n
                \               }\r\n            },\r\n            \"InvalidAuthorization\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Missing
                or invalid authorization header value\"\r\n                }\r\n            },\r\n
                \           \"InvalidContentType\": {\r\n                \"statusCode\":
                \"400\",\r\n                \"reasonPhrase\": \"APIC: Invalid request\",\r\n
                \               \"errorMessage\": {\r\n                    \"httpCode\":
                \"400\",\r\n                    \"httpMessage\": \"Invalid request\",\r\n
                \                   \"moreInformation\": \"Missing or invalid content
                type\"\r\n                }\r\n            },\r\n            \"AuthorizationError\":
                {\r\n                \"statusCode\": \"401\",\r\n                \"reasonPhrase\":
                \"APIC: Unauthorized\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"401\",\r\n                    \"httpMessage\":
                \"Unauthorized\",\r\n                    \"moreInformation\": \"Authorization
                error\"\r\n                }\r\n            },\r\n            \"ConnectionError\":
                {\r\n                \"statusCode\": \"500\",\r\n                \"reasonPhrase\":
                \"APIC: Internal Server Error\",\r\n                \"errorMessage\":
                {\r\n                    \"httpCode\": \"500\",\r\n                    \"httpMessage\":
                \"Internal Server Error\",\r\n                    \"moreInformation\":
                \"Connection error\"\r\n                }\r\n            },\r\n            \"OperationError\":
                {\r\n                \"statusCode\": \"404\",\r\n                \"reasonPhrase\":
                \"APIC: Not Found\",\r\n                \"errorMessage\": {\r\n                    \"httpCode\":
                \"404\",\r\n                    \"httpMessage\": \"Not Found\",\r\n
                \                   \"moreInformation\": \"Requested resource not
                found\"\r\n                }\r\n            },\r\n            \"SOAPError\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Invalid
                request\"\r\n                }\r\n            },\r\n            \"SchemaValidationError\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Schema
                validation error\"\r\n                }\r\n            },\r\n            \"InvalidServiceType\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Missing
                or invalid service type\"\r\n                }\r\n            },\r\n
                \           \"InvalidServiceOrOperation\": {\r\n                \"statusCode\":
                \"400\",\r\n                \"reasonPhrase\": \"APIC: Invalid request\",\r\n
                \               \"errorMessage\": {\r\n                    \"httpCode\":
                \"400\",\r\n                    \"httpMessage\": \"Invalid request\",\r\n
                \                   \"moreInformation\": \"Service or operation name
                is either missing or invalid\"\r\n                }\r\n            },\r\n
                \           \"InvalidService\": {\r\n                \"statusCode\":
                \"400\",\r\n                \"reasonPhrase\": \"APIC: Invalid request\",\r\n
                \               \"errorMessage\": {\r\n                    \"httpCode\":
                \"400\",\r\n                    \"httpMessage\": \"Invalid request\",\r\n
                \                   \"moreInformation\": \"Invalid service name\"\r\n
                \               }\r\n            },\r\n            \"InvalidOperation\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Invalid
                operation name\"\r\n                }\r\n            },\r\n            \"MissingPathParam\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Path
                parameter missing\"\r\n                }\r\n            },\r\n            \"MissingQueryParam\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Query
                parameter missing\"\r\n                }\r\n            },\r\n            \"MissingHeadersParam\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"HTTP
                header missing\"\r\n                }\r\n            },\r\n            \"MissingBodyParam\":
                {\r\n                \"statusCode\": \"400\",\r\n                \"reasonPhrase\":
                \"APIC: Invalid request\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"400\",\r\n                    \"httpMessage\":
                \"Invalid request\",\r\n                    \"moreInformation\": \"Body
                parameter missing\"\r\n                }\r\n            },\r\n            \"BackendError\":
                {\r\n                \"statusCode\": \"Backend-Status-Code\",\r\n
                \               \"reasonPhrase\": \"Internal Error\",\r\n                \"errorMessage\":
                {\r\n                    \"error\": {\r\n                        \"message\":
                \"Something's wrong. Please try again later.\"\r\n                    }\r\n
                \               }\r\n            },\r\n            \"default\": {\r\n
                \               \"statusCode\": \"500\",\r\n                \"reasonPhrase\":
                \"APIC: Internal Error\",\r\n                \"errorMessage\": {\r\n
                \                   \"httpCode\": \"500\",\r\n                    \"httpMessage\":
                \"Internal Error\",\r\n                    \"moreInformation\": \"Something
                went wrong\"\r\n                }\r\n            }\r\n        }\r\n
                \   }\r\n};\r\n\r\napim.setvariable('message.body', errorConfig);"
        - operations:
          - verb: get
            path: /restconfig
          execute:
          - gatewayscript:
              title: GS-GetRESTConfig
              version: 1.0.0
              description: Returns all REST configurations to be used in caching layer
                APIs
              source: "/* **************************************************************************************************************
                */\r\n/* **************************************************************************************************************
                */\r\n/* FileName                       Version    Created By                  Modified
                By               Date           */\r\n/* GetRESTConfig.js               1.0
                \       Dinesh Tomar                                          14-June-2018
                \  */\r\n/*                                                                                                                */\r\n/*
                **************************************************************************************************************
                */\r\n/* Purpose: This GW Script file will return all REST configurations
                to be used in caching layer APIs              */\r\n/*                                                                                                                */\r\n/*
                Required params:                                                                                               */\r\n/*
                ****************************************************************************************************************/\r\nvar
                restConfig = {\r\n    \"restConfig\": {\r\n        \"services\":[
                {\r\n            \"authservice\": {\r\n                \"endpoint\":
                \"https://0.0.0.0:9443\",\r\n                \"operations\":[ {\r\n
                \                   \"transferauth\": {\r\n                        \"method\":
                \"GET\",\r\n                        \"uri\": \"/o2apic/sandbox/authservice/getconsolidated\",\r\n
                \                       \"requiredPathParams\": \"\",\r\n                        \"requiredQueryParams\":
                \"\",\r\n                        \"requiredHeaders\": \"x-authcode|msisdn|x-device\"\r\n
                \                   }\r\n                }]\r\n            }\r\n        },
                {\r\n            \"configapi\": {\r\n                \"endpoint\":
                \"https://0.0.0.0:9443\",\r\n                \"operations\":[ {\r\n
                \                   \"validationconfig\": {\r\n                        \"method\":
                \"GET\",\r\n                        \"uri\": \"/o2apic/sandbox/config/validationconfig\",\r\n
                \                       \"requiredPathParams\": \"\",\r\n                        \"requiredQueryParams\":
                \"\",\r\n                        \"requiredHeaders\": \"\"\r\n                    },\r\n
                \                   \"propertiesconfig\": {\r\n                        \"method\":
                \"GET\",\r\n                        \"uri\": \"/o2apic/sandbox/config/properties\",\r\n
                \                       \"requiredPathParams\": \"\",\r\n                        \"requiredQueryParams\":
                \"\",\r\n                        \"requiredHeaders\": \"\"\r\n                    },\r\n
                \                   \"errorconfig\": {\r\n                        \"method\":
                \"GET\",\r\n                        \"uri\": \"/o2apic/sandbox/config/errorconfig\",\r\n
                \                       \"requiredPathParams\": \"\",\r\n                        \"requiredQueryParams\":
                \"\",\r\n                        \"requiredHeaders\": \"\"\r\n                    },\r\n
                \                   \"aaaconfig\": {\r\n                        \"method\":
                \"GET\",\r\n                        \"uri\": \"/o2apic/sandbox/config/aaaconfig\",\r\n
                \                       \"requiredPathParams\": \"\",\r\n                        \"requiredQueryParams\":
                \"\",\r\n                        \"requiredHeaders\": \"\"\r\n                    },\r\n
                \                   \"authconfig\": {\r\n                        \"method\":
                \"GET\",\r\n                        \"uri\": \"/o2apic/sandbox/config/authconfig\",\r\n
                \                       \"requiredPathParams\": \"\",\r\n                        \"requiredQueryParams\":
                \"\",\r\n                        \"requiredHeaders\": \"\"\r\n                    }\r\n
                \               }]\r\n            }\r\n        }, {\r\n            \"validationservice\":
                {\r\n                \"endpoint\": \"https://0.0.0.0:9443\",\r\n                \"operations\":[
                {\r\n                    \"validation\": {\r\n                        \"method\":
                \"GET\",\r\n                        \"uri\": \"/o2apic/sandbox/config/validationconfig\",\r\n
                \                       \"requiredPathParams\": \"\",\r\n                        \"requiredQueryParams\":
                \"\",\r\n                        \"requiredHeaders\": \"\"\r\n                    }\r\n
                \               }]\r\n            }\r\n        }, {\r\n            \"configservice\":
                {\r\n                \"endpoint\": \"https://0.0.0.0:9443\",\r\n                \"operations\":[
                {\r\n                    \"config\": {\r\n                        \"method\":
                \"GET\",\r\n                        \"uri\": \"/o2apic/sandbox/config/properties\",\r\n
                \                       \"requiredPathParams\": \"\",\r\n                        \"requiredQueryParams\":
                \"\",\r\n                        \"requiredHeaders\": \"\"\r\n                    }\r\n
                \               }]\r\n            }\r\n        }, { \"phoneservice\":
                {\r\n                \"endpoint\": \"http://lbtest0myo2apptierapigateway.myo2r53.co.uk:8424\",\r\n
                \               \"operations\":[ { \"msisdndetails\": {\r\n                        \"method\":
                \"GET\",\r\n                        \"uri\": \"/phoneqa/consumer/CURRENT/paym\",\r\n
                \                       \"requiredPathParams\": \"\",\r\n                        \"requiredQueryParams\":
                \"\",\r\n                        \"requiredHeaders\": \"disambiguation-id|authorization\"\r\n
                \                   }\r\n                }, { \"previousbills\": {\r\n
                \                       \"method\": \"GET\",\r\n                        \"uri\":
                \"/phoneqa/consumer/CURRENT/paym/bill/previousbills\",\r\n                        \"requiredPathParams\":
                \"\",\r\n                        \"requiredQueryParams\": \"\",\r\n
                \                       \"requiredHeaders\": \"disambiguation-id|authorization\"\r\n
                \                   }\r\n                }]\r\n            }\r\n        },
                { \"echoservice\": {\r\n                \"endpoint\": \"https://api.eu.apiconnect.ibmcloud.com/apicdtomargmailcom-dev/sb/echoservice\",\r\n
                \               \"operations\":[ { \"echoParams\": {\r\n                        \"method\":
                \"GET\",\r\n                        \"uri\": \"/<msisdn>/echoParams/<x-customerid>\",\r\n
                \                       \"requiredPathParams\": \"msisdn|x-customerid\",\r\n
                \                       \"requiredQueryParams\": \"x-number1|x-number2\",\r\n
                \                       \"requiredHeaders\": \"x-authcode|authorization\"\r\n
                \                   }\r\n                }, {\r\n                    \"greetUser\":
                {\r\n                        \"method\": \"GET\",\r\n                        \"uri\":
                \"/greetUser/{x-firstname}\",\r\n                        \"requiredPathParams\":
                \"x-firstname\",\r\n                        \"requiredQueryParams\":
                \"\",\r\n                        \"requiredHeaders\": \"\"\r\n                    }\r\n
                \               }]\r\n            }\r\n        }, { \"userservice\":
                {\r\n                \"endpoint\": \"https://api.eu.apiconnect.ibmcloud.com/apicdtomargmailcom-dev/sb/userservice\",\r\n
                \               \"operations\":[ {\r\n                    \"generateUserDetails\":
                {\r\n                        \"method\": \"POST\",\r\n                        \"uri\":
                \"/generateUserDetails\",\r\n                        \"requiredPathParams\":
                \"\",\r\n                        \"requiredQueryParams\": \"\",\r\n
                \                       \"requiredHeaders\": \"\",\r\n                        \"body\":
                {\r\n                            \"first_name\": \"x-firstname\",\r\n
                \                           \"last_name\": \"x-lastname\",\r\n                            \"date_of_birth\":
                \"x-dateofbirth\",\r\n                            \"address_line1\":
                \"x-addressline1\",\r\n                            \"address_line2\":
                \"x-addressline2\",\r\n                            \"address_line3\":
                \"x-addressline3\",\r\n                            \"city\": \"x-city\",\r\n
                \                           \"state\": \"x-state\",\r\n                            \"country\":
                \"x-country\",\r\n                            \"pin_code\": \"x-pincode\"\r\n
                \                       }\r\n                    }\r\n                },
                {\r\n                    \"operation\": {\r\n                    }\r\n
                \               }]\r\n            }\r\n        }]\r\n    }\r\n};\r\n\r\napim.setvariable('message.body',
                restConfig);"
        - operations:
          - verb: get
            path: /soapconfig
          execute:
          - xslt:
              title: XSLT-GetSOAPConfig
              input: false
              version: 1.0.0
              source: "<!-- ************************************************************************************************************
                -->\r\n<!-- ************************************************************************************************************
                -->\r\n<!-- FileName                          Version    Created By
                \            Modified By               Date           -->\r\n<!--
                GetSoapConfig.xsl                 1.0        Dinesh Tomar                                     14-June-2018
                \  -->\r\n<!--                                                                                                              -->\r\n<!--
                ************************************************************************************************************
                -->\r\n<!-- Purpose: This XSLT code will return config data as well
                as transformation code for SOAP transformation       -->\r\n<!--                                                                                                              -->\r\n<!--
                Required params: request specific                                                                            -->\r\n<!--
                ************************************************************************************************************
                -->\r\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"
                xmlns:exsl=\"my:dummyNS\" exclude-result-prefixes=\"exsl\">\r\n    <xsl:output
                method=\"xml\" omit-xml-declaration=\"yes\" indent=\"yes\"/>\r\n    <xsl:strip-space
                elements=\"*\"/>\r\n    <xsl:namespace-alias result-prefix=\"xsl\"
                stylesheet-prefix=\"exsl\"/>\r\n    <xsl:template match=\"/\">\r\n
                \       <xsl:variable name=\"soapConfig\">\r\n            <services>\r\n
                \               <postpayallowanceminutes>\r\n                    <backendURL>http://lbtest0myo2apptiertomcatsims.myo2r53.co.uk/middleware-service-simulator/services/ViewAllowance_2_0</backendURL>\r\n
                \                   <operations>\r\n                        <getAllowanceMinutes
                requiredParams=\"x-msisdn|x-accountnumber\">\r\n                            <xsltcode>\r\n
                \                               <soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n
                \                                   <soapenv:Header><wsse:Security
                xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\">\r\n
                \                                       <wsse:UsernameToken>\r\n                                            <wsse:Username>apic_123</wsse:Username>\r\n
                \                                           <wsse:Password>t3st1ng</wsse:Password>\r\n
                \                                           <wsse:Nonce/>\r\n                                            <wsu:Created
                xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"/>\r\n
                \                                       </wsse:UsernameToken>\r\n
                \                                       <wsu:Timestamp xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\">\r\n
                \                                           <wsu:Expires/>\r\n                                        </wsu:Timestamp>\r\n
                \                                   </wsse:Security>\r\n                                    </soapenv:Header>\r\n
                \                                   <soapenv:Body>\r\n                                        <vad:getNonDataAllowance_2
                xmlns:vad=\"http://soa.o2.co.uk/viewallowancedata_2\">\r\n                                            <vad:account>\r\n
                \                                               <ns1:accountDetail
                xmlns:ns1=\"http://soa.o2.co.uk/coredata_1\">\r\n                                                    <ns1:billingAccountType>MOBILE</ns1:billingAccountType>\r\n
                \                                                   <ns1:accountNumber><exsl:value-of
                select=\"$inputParams/params/x-accountnumber/text()\"/></ns1:accountNumber>\r\n
                \                                                   <ns1:msisdn><exsl:value-of
                select=\"$inputParams/params/x-msisdn/text()\"/></ns1:msisdn>\r\n
                \                                               </ns1:accountDetail>\r\n
                \                                           </vad:account>\r\n                                        </vad:getNonDataAllowance_2>\r\n
                \                                   </soapenv:Body>\r\n                                </soapenv:Envelope>\r\n
                \                           </xsltcode>\r\n                        </getAllowanceMinutes>\r\n
                \                   </operations>\r\n                </postpayallowanceminutes>\r\n
                \               <managepostpayboltons>\r\n                    <backendURL>https://sdpapi.ref.o2.co.uk/services/ManagePostpayBoltons_2_0</backendURL>\r\n
                \                   <operations>\r\n                        <getCurrentAndPendingBoltons
                requiredParams=\"x-msisdn\">\r\n                            <xsltcode>\r\n
                \                               <soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n
                \                                   <soap:Header xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n
                \                                       <wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\">\r\n
                \                                           <wsse:UsernameToken>\r\n
                \                                               <wsse:Username>apic_123</wsse:Username>\r\n
                \                                               <wsse:Password>t3st1ng</wsse:Password>\r\n
                \                                           </wsse:UsernameToken>\r\n
                \                                       </wsse:Security>\r\n                                    </soap:Header>\r\n
                \                                   <soapenv:Body>\r\n                                        <ns2:getCurrentAndPendingBoltons
                xmlns:ns2=\"http://soa.o2.co.uk/managepostpayboltonsdata_2\" xmlns:ns3=\"http://soa.o2.co.uk/coredata_1\"
                xmlns=\"http://soa.o2.co.uk/pscommonpostpaydata_2\" xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n
                \                                           <ns2:customerId>\r\n                                                <ns3:msisdn><exsl:value-of
                select=\"$inputParams/params/x-msisdn/text()\"/></ns3:msisdn>\r\n
                \                                           </ns2:customerId>\r\n
                \                                           <ns2:returnSharedDataTopups>true</ns2:returnSharedDataTopups>\r\n
                \                                           <ns2:retrieveAdditionalInfo>\r\n
                \                                               <ns2:parameterName>BundleSize</ns2:parameterName>\r\n
                \                                           </ns2:retrieveAdditionalInfo>\r\n
                \                                       </ns2:getCurrentAndPendingBoltons>\r\n
                \                                   </soapenv:Body>\r\n                                </soapenv:Envelope>\r\n
                \                           </xsltcode>\r\n                        </getCurrentAndPendingBoltons>\r\n
                \                   </operations>\r\n                </managepostpayboltons>\r\n
                \               <managepostpaytariff>\r\n                    <backendURL>https://sdpapi.ref.o2.co.uk/services/ManagePostpayTariff_2_0</backendURL>\r\n
                \                   <operations>\r\n                        <getContract
                requiredParams=\"x-msisdn\">\r\n                            <xsltcode>\r\n
                \                               <soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n
                \                                   <soap:Header xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n
                \                                       <wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\">\r\n
                \                                           <wsse:UsernameToken>\r\n
                \                                               <wsse:Username>apic_123</wsse:Username>\r\n
                \                                               <wsse:Password>t3st1ng</wsse:Password>\r\n
                \                                           </wsse:UsernameToken>\r\n
                \                                       </wsse:Security>\r\n                                    </soap:Header>\r\n
                \                                   <soapenv:Body>\r\n                                        <ns3:getContract
                xmlns:ns2=\"http://soa.o2.co.uk/pscommonpostpaydata_2\" xmlns:ns3=\"http://soa.o2.co.uk/managepostpaytariffdata_2\"
                xmlns=\"http://soa.o2.co.uk/coredata_1\" xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n
                \                                           <ns3:customerId>\r\n                                                <msisdn><exsl:value-of
                select=\"$inputParams/params/x-msisdn/text()\"/></msisdn>\r\n                                            </ns3:customerId>\r\n
                \                                           <ns3:retrieveAdditionalInfo>\r\n
                \                                               <ns3:allowanceInfo>true</ns3:allowanceInfo>\r\n
                \                                           </ns3:retrieveAdditionalInfo>\r\n
                \                                       </ns3:getContract>\r\n                                    </soapenv:Body>\r\n
                \                               </soapenv:Envelope>\r\n                            </xsltcode>\r\n
                \                       </getContract>\r\n                        <getContractRevisions
                requiredParams=\"x-msisdn\">\r\n                            <xsltcode>\r\n
                \                               <soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n
                \                                   <soap:Header xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n
                \                                       <wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\">\r\n
                \                                           <wsse:UsernameToken>\r\n
                \                                               <wsse:Username>apic_123</wsse:Username>\r\n
                \                                               <wsse:Password>t3st1ng</wsse:Password>\r\n
                \                                           </wsse:UsernameToken>\r\n
                \                                       </wsse:Security>\r\n                                    </soap:Header>\r\n
                \                                   <soapenv:Body>\r\n                                        <ns3:getContractRevisions
                xmlns:ns2=\"http://soa.o2.co.uk/pscommonpostpaydata_2\" xmlns:ns3=\"http://soa.o2.co.uk/managepostpaytariffdata_2\"
                xmlns=\"http://soa.o2.co.uk/coredata_1\" xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n
                \                                           <ns3:customerId>\r\n                                                <msisdn><exsl:value-of
                select=\"$inputParams/params/x-msisdn/text()\"/></msisdn>\r\n                                            </ns3:customerId>\r\n
                \                                           <ns3:retrieveAdditionalInfo>\r\n
                \                                               <ns3:allowanceInfo>true</ns3:allowanceInfo>\r\n
                \                                           </ns3:retrieveAdditionalInfo>\r\n
                \                                       </ns3:getContractRevisions>\r\n
                \                                   </soapenv:Body>\r\n                                </soapenv:Envelope>\r\n
                \                           </xsltcode>\r\n                        </getContractRevisions>\r\n
                \                   </operations>\r\n                </managepostpaytariff>\r\n
                \           </services>\r\n        </xsl:variable>\r\n        <xsl:copy-of
                select=\"$soapConfig\"/>\r\n    </xsl:template>\r\n</xsl:stylesheet>"
              description: Returns all SOAP configurations to be used in caching layer
                APIs
        - operations:
          - verb: get
            path: /aaaconfig
          execute:
          - xslt:
              title: XSLT-GetAAAConfig
              input: false
              version: 1.0.0
              source: "<!-- ************************************************************************************************************
                -->\r\n<!-- ************************************************************************************************************
                -->\r\n<!-- FileName                          Version    Created By
                \            Modified By               Date           -->\r\n<!--
                GetAAAConfig.xsl                  1.0        Dinesh Tomar                                     13-July-2018
                \  -->\r\n<!--                                                                                                              -->\r\n<!--
                ************************************************************************************************************
                -->\r\n<!-- Purpose: This XSLT code will return AAA configuration
                to be used for authC and authZ                         -->\r\n<!--
                \                                                                                                             -->\r\n<!--
                Required params: request specific                                                                            -->\r\n<!--
                ************************************************************************************************************
                -->\r\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\r\n
                \   <xsl:output method=\"xml\" omit-xml-declaration=\"yes\" indent=\"yes\"/>\r\n
                \   <xsl:strip-space elements=\"*\"/>\r\n    <xsl:template match=\"/\">\r\n
                \       <xsl:variable name=\"aaaConfig\">\r\n            <AAAInfo>\r\n
                \               <!--Start of authentication entries-->\r\n                \r\n
                \               <!--Start of o2apic support consumer authentication
                entries-->\r\n                <Authenticate>\r\n                    <IPNetwork>0.0.0.0/0</IPNetwork>\r\n
                \                   <Username>897d8079f7977d1019efd7e73539c86f</Username>\r\n
                \                   <Password>74b203ede282a806b4782d4dac36cbf3</Password>\r\n
                \                   <UserID>13000000000000505416</UserID>\r\n                    <OutputCredential>novum</OutputCredential>\r\n
                \               </Authenticate>\r\n                <Authenticate>\r\n
                \                   <IPNetwork>0.0.0.0/0</IPNetwork>\r\n                    <Username>94324ec01faa9b1307e386813a4a89d1</Username>\r\n
                \                   <Password>a35d4d90cfb61b54e65d6fac73dd17d7</Password>\r\n
                \                   <OutputCredential>novum</OutputCredential>\r\n
                \               </Authenticate>\r\n                <Authenticate>\r\n
                \                   <IPNetwork>0.0.0.0/0</IPNetwork>\r\n                    <Username>5934ec3c112b226752e9bc03dd4fcb5d</Username>\r\n
                \                   <Password>64c7da02070acbb612b02d7bf2cf3fe6</Password>\r\n
                \                   <OutputCredential>novum</OutputCredential>\r\n
                \               </Authenticate>\r\n                <Authenticate>\r\n
                \                   <IPNetwork>0.0.0.0/0</IPNetwork>\r\n                    <Username>27de74fcad7432b7a943349795ec8ed2</Username>\r\n
                \                   <Password>955cb19e509a8f928a47e9ac7a238e2b</Password>\r\n
                \                   <OutputCredential>novum</OutputCredential>\r\n
                \               </Authenticate>\r\n                <!--End of o2apic
                support consumer authentication entries-->\r\n                \r\n
                \               <!--Start of novum consumer authentication entries-->\r\n
                \               <Authenticate>\r\n                    <IPNetwork>0.0.0.0/0</IPNetwork>\r\n
                \                   <Username>novum</Username>\r\n                    <Password>4eaKOihq3NXqYFfrKbGwjrUQGoOkXuzFCgiYeOtHjf08sgee3qUAzJEy2iOGc8Jf</Password>\r\n
                \                   <OutputCredential>novum</OutputCredential>\r\n
                \               </Authenticate>\r\n                <Authenticate>\r\n
                \                   <IPNetwork>0.0.0.0/0</IPNetwork>\r\n                    <Username>apiconnect.1</Username>\r\n
                \                   <Password>FoXaPo$eB=3=</Password>\r\n                    <OutputCredential>novum</OutputCredential>\r\n
                \               </Authenticate>\r\n                <!--End of novum
                consumer authentication entries-->\r\n                \r\n                <!--End
                \ of authentication entries-->\r\n                \r\n                <!--Start
                of authorization entries-->\r\n                <Authorize>\r\n                    <InputCredential>testsupport</InputCredential>\r\n
                \                   <InputResource>/v1/device/auth|/v1/auth/password_o2</InputResource>\r\n
                \                   <Access>allow</Access>\r\n                </Authorize>
                \          \r\n                <Authorize>\r\n                    <InputCredential>novum</InputCredential>\r\n
                \                   <InputResource>/v1/device/auth|/v1/token|/v1/person/CURRENT/asset|/authcode|/accesstoken|/assets|/transferauthcode|/disambiguationid</InputResource>\r\n
                \                   <Access>allow</Access>\r\n                </Authorize>\r\n
                \               \r\n                <!--Start of authorization entries-->\r\n
                \           </AAAInfo>\r\n        </xsl:variable>\r\n        <xsl:copy-of
                select=\"$aaaConfig\"/>\r\n    </xsl:template>\r\n</xsl:stylesheet>\r\n"
              description: This XSLT code will return AAA configuration to be used
                for authC and authZ
        - operations:
          - verb: get
            path: /authconfig
          execute:
          - gatewayscript:
              version: 1.0.0
              title: GS-GetAuthConfig
              source: "/* ****************************************************************************************************************
                */\r\n/* ****************************************************************************************************************
                */\r\n/* FileName                         Version    Created By                  Modified
                By               Date           */\r\n/* GetProperties.js                 1.0
                \       Dinesh Tomar                                          14-June-2018
                \  */\r\n/*                                                                                                                  */\r\n/*
                ****************************************************************************************************************
                */\r\n/* Purpose: This GW Script file will return all properties to
                be used in different APIs                             */\r\n/*                                                                                                                  */\r\n/*
                Required params:                                                                                                 */\r\n/*
                ****************************************************************************************************************
                */\r\nvar authConfig = {\r\n    \r\n    \"assetservice\": {\r\n        \"assets\":
                {\r\n            \"uri\": \"https://auth.ref.o2.co.uk/person/v1/person/CURRENT/asset?asset_types=PAYM,PAYG,PAYMMBB,O2WIFI,O2DRIVE,WALLET\"\r\n
                \       },\r\n        \"asset\": {\r\n            \"type\": {\r\n
                \               \"uri\": \"https://api0.ref.o2.co.uk/person/v1/person/CURRENT/asset/%s\"\r\n
                \           },\r\n            \"push\": {\r\n                \"generate\":
                {\r\n                    \"uri\": \"https://api0.ref.o2.co.uk/person/v1/person/CURRENT/generator/asset/PUSHNOTIFICATION\"\r\n
                \               }\r\n            }\r\n        }\r\n    },\r\n    \"authserver\":
                {\r\n        \"client_id\": \"apiconnect.1\",\r\n        \"client_secret\":
                \"FoXaPo$eB=3=\",\r\n        \"grant_type\": \"authorization_code\",\r\n
                \       \"oauth\": {\r\n            \"grant_type\": \"auth_cookie\"\r\n
                \       },\r\n        \"readTimeoutMillis\": \"30000\",\r\n        \"scope\":[\r\n
                \       \"openid\",\r\n        \"profile\",\r\n        \"phone\",\r\n
                \       \"email\"],\r\n        \"generateAuthCode\": {\r\n            \"uri\":
                \"https://auth.ref.o2.co.uk/auth/implicitauth\"\r\n        },\r\n
                \       \"generateAccessToken\": {\r\n            \"apicURI\": \"/authservice/getaccesstoken\",\r\n
                \           \"uri\": \"https://auth.ref.o2.co.uk/auth/v1/token\"\r\n
                \       },\r\n        \"getUserInfo\": {\r\n            \"uri\": \"https://api0.ref.o2.co.uk/auth/userinfo\",\r\n
                \           \"queryParam\": \"access_token\"\r\n        },\r\n        \"generateDisambiguationId\":
                {\r\n            \"apicURI\": \"/authservice/getdisambiguationid\",\r\n
                \           \"uri\": \"https://auth.ref.o2.co.uk/auth/v1/auth/select\"\r\n
                \       },\r\n        \"generateTransferAuthCode\": {\r\n            \"apicURI\":
                \"/authservice/getconsolidatedauth\",\r\n            \"uri\": \"https://auth.ref.o2.co.uk/auth/v1/auth/tac/issue\"\r\n
                \       }\r\n    },\r\n    \"sso\": {\r\n        \"endpoint\": { \"paybill\":
                {\r\n                \"sendto\": \"https://billing.ref.o2.co.uk/bill?noheader=true&routeTo=pay/bill&disambiguation_id=%s&cm_mmc=myo2app-_-#deviceType#-_-#clientId#-_-bills-_-makeapayment\",\r\n
                \               \"failure\": \"https://mymobile.ref.o2.co.uk/error/page/500?noheader=true&cm_mmc=myo2app-_-#deviceType#-_-#clientId#-_-bills-_-makeapayment\"\r\n
                \           }\r\n        },\r\n        \"credhandler_redemption_url\":
                \"https://identity.ref.o2.co.uk/redeem/tac?transfer_auth_code=#AUTH_CODE#&sendTo=#SEND_TO#&failureUrl=#FAILURE_URL#\"\r\n
                \   },\r\n    \"phoneservice\": {\r\n        \"billedcharges\": {\r\n
                \           \"uri\": \"https://zeus-lb.ref.o2.co.uk:5443/phone/consumer/CURRENT/paym/bill/billedcharges\",\r\n
                \           \"recommendation\": {\r\n                \"uri\": \"https://zeus-lb.ref.o2.co.uk:5443/phone/consumer/CURRENT/paym/billedcharges/recommendation\"\r\n
                \           }\r\n        },\r\n        \"recentcharges\": {\r\n            \"uri\":
                \"https://zeus-lb.ref.o2.co.uk:5443/phone/consumer/CURRENT/paym/bill/recentcharges\"\r\n
                \       },\r\n        \"previousbills\": {\r\n            \"uri\":
                \"https://zeus-lb.ref.o2.co.uk:5443/phone/consumer/CURRENT/paym/bill/previousbills\"\r\n
                \       },\r\n        \"msisdndetails\": {\r\n            \"uri\":
                \"https://zeus-lb.ref.o2.co.uk:5443/phone/consumer/CURRENT/paym\"\r\n
                \       },\r\n        \"phoneplan\": {\r\n            \"uri\": \"https://zeus-lb.ref.o2.co.uk:5443/phone/consumer/CURRENT/paym/cca/phoneplan\"\r\n
                \       },\r\n        \"upgradesandpromotions\": {\r\n            \"uri\":
                \"https://zeus-lb.ref.o2.co.uk:5443/phone/consumer/CURRENT/paym/upgradeoptionsandpromotions\"\r\n
                \       },\r\n        \"billprofile\": {\r\n            \"uri\": \"https://zeus-lb.ref.o2.co.uk:5443/phone/v2/consumer/CURRENT/paym/bill/profile\"\r\n
                \       },\r\n        \"anything\":\"something\"\r\n    }\r\n};\r\n\r\napim.setvariable('message.body',
                authConfig);"
              description: This GW script will return all the properties required
                by to call auth server.
        otherwise: []
        version: 1.0.0
    catch: []
  gateway: datapower-gateway
  type: rest
tags: []
definitions: {}
paths:
  /properties:
    get:
      responses:
        "200":
          description: 200 OK
    parameters: []
  /authconfig:
    get:
      responses:
        "200":
          description: 200 OK
          schema:
            type: string
      consumes: []
      produces: []
      parameters: []
  /validationconfig:
    get:
      responses:
        "200":
          description: 200 OK
  /errorconfig:
    get:
      responses:
        "200":
          description: 200 OK
  /restconfig:
    get:
      responses:
        "200":
          description: 200 OK
  /soapconfig:
    get:
      responses:
        "200":
          description: 200 OK
  /aaaconfig:
    get:
      responses:
        "200":
          description: 200 OK
